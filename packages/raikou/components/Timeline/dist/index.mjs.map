{"version":3,"sources":["../src/Timeline.tsx","../src/TimelineItem/TimelineItem.tsx","../src/store.ts","css-module:./Timeline.module.css#css-module"],"sourcesContent":["import React, { cloneElement, Children } from \"react\";\nimport {\n  Box,\n  BoxProps,\n  StylesApiProps,\n  factory,\n  ElementProps,\n  useProps,\n  useStyles,\n  createVarsResolver,\n  Factory,\n  RaikouColor,\n  RaikouRadius,\n  rem,\n  getRadius,\n  getThemeColor,\n} from \"@raikou/core\";\nimport {\n  TimelineItem,\n  TimelineItemStylesNames,\n} from \"./TimelineItem/TimelineItem\";\nimport { useStore } from \"./store\";\nimport classes from \"./Timeline.module.css\";\n\nexport type TimelineStylesNames = \"root\" | TimelineItemStylesNames;\nexport type TimelineCssVariables = {\n  root: \"--tl-line-width\" | \"--tl-bullet-size\" | \"--tl-color\" | \"--tl-radius\";\n};\n\n// @ts-ignore\nexport interface TimelineProps\n  extends BoxProps,\n    StylesApiProps<TimelineFactory>,\n    ElementProps<\"div\"> {\n  /** `Timeline.Item` components */\n  children?: React.ReactNode;\n\n  /** Index of active element */\n  active?: number;\n\n  /** Key of `theme.colors` or any valid CSS color to control active item colors, `theme.primaryColor` by default */\n  color?: RaikouColor;\n\n  /** Key of `theme.radius` or any valid CSS value to set `border-radius`, numbers are converted to rem, `'xl'` by default */\n  radius?: RaikouRadius;\n\n  /** Controls size of the bullet, `20` by default */\n  bulletSize?: number | string;\n\n  /** Controls how the content is positioned relative to the bullet, `'left'` by default */\n  align?: \"right\" | \"left\";\n\n  /** Control width of the line */\n  lineWidth?: number | string;\n\n  /** Determines whether the active items direction should be reversed without reversing items order, `false` by default */\n  reverseActive?: boolean;\n}\n\nexport type TimelineFactory = Factory<{\n  props: TimelineProps;\n  ref: HTMLDivElement;\n  stylesNames: TimelineStylesNames;\n  vars: TimelineCssVariables;\n  staticComponents: {\n    Item: typeof TimelineItem;\n  };\n}>;\n\nconst defaultProps: Partial<TimelineProps> = {\n  active: -1,\n  align: \"left\",\n  reverseActive: false,\n};\n\nconst varsResolver = createVarsResolver<TimelineFactory>(\n  (theme, { bulletSize, lineWidth, radius, color }) => ({\n    root: {\n      \"--tl-bullet-size\": rem(bulletSize),\n      \"--tl-line-width\": rem(lineWidth),\n      \"--tl-radius\": radius === undefined ? undefined : getRadius(radius),\n      \"--tl-color\": color ? getThemeColor(color, theme) : undefined,\n    },\n  }),\n);\n\nexport const Timeline = factory<TimelineFactory>((_props, ref) => {\n  const props = useProps(\"Timeline\", defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    unstyled,\n    vars,\n    children,\n    active,\n    color,\n    radius,\n    bulletSize,\n    align,\n    lineWidth,\n    reverseActive,\n    ...others\n  } = props;\n\n  const getStyles = useStyles<TimelineFactory>({\n    name: \"Timeline\",\n    classes,\n    props,\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    vars,\n    varsResolver,\n  });\n\n  const _children = Children.toArray(children);\n  const items = _children.map((item: any, index) =>\n    cloneElement(item, {\n      unstyled,\n      __align: align,\n      __active:\n        item.props?.active ||\n        (reverseActive\n          ? active! >= _children.length - index - 1\n          : active! >= index),\n      __lineActive:\n        item.props?.lineActive ||\n        (reverseActive\n          ? active! >= _children.length - index - 1\n          : active! - 1 >= index),\n    }),\n  );\n\n  useStore.update((state) => {\n    state.getStyles = getStyles;\n  });\n\n  return (\n    <Box {...getStyles(\"root\")} mod={{ align }} ref={ref} {...others}>\n      {items as any}\n    </Box>\n  );\n});\n\nTimeline.classes = classes;\nTimeline.displayName = \"@raikou/core/Timeline\";\nTimeline.Item = TimelineItem;\n","import React from \"react\";\nimport {\n  Box,\n  BoxProps,\n  CompoundStylesApiProps,\n  factory,\n  ElementProps,\n  useProps,\n  Factory,\n  RaikouRadius,\n  RaikouColor,\n  getRadius,\n  useRaikouTheme,\n  getThemeColor,\n} from \"@raikou/core\";\nimport { useStore } from \"../store\";\n\nexport type TimelineItemStylesNames =\n  | \"itemBody\"\n  | \"itemContent\"\n  | \"itemBullet\"\n  | \"item\"\n  | \"itemTitle\";\n\n//@ts-ignore\nexport interface TimelineItemProps\n  extends BoxProps,\n    CompoundStylesApiProps<TimelineItemFactory>,\n    ElementProps<\"div\", \"title\"> {\n  /** Determines whether the item should be highlighted, controlled by the parent `Timeline` component  */\n  __active?: boolean;\n\n  /** Determines whether the line of the item should be highlighted, controlled by the parent Timeline component */\n  __lineActive?: boolean;\n\n  /** Line and bullet position relative to item content, controlled by the parent Timeline component */\n  __align?: \"right\" | \"left\";\n\n  /** Item title, displayed next to the bullet */\n  title?: React.ReactNode;\n\n  /** Content displayed below the title */\n  children?: React.ReactNode;\n\n  /** React node that should be rendered inside the bullet â€“ icon, image, avatar, etc. By default, large white dot is displayed. */\n  bullet?: React.ReactNode;\n\n  /** Key of `theme.radius` or any valid CSS value to set `border-radius`, numbers are converted to rem, `'xl'` by default */\n  radius?: RaikouRadius;\n\n  /** Key of `theme.colors` or any valid CSS color to control active item colors, `theme.primaryColor` by default */\n  color?: RaikouColor;\n\n  /** Controls line border style, `'solid'` by default */\n  lineVariant?: \"solid\" | \"dashed\" | \"dotted\";\n}\n\nexport type TimelineItemFactory = Factory<{\n  props: TimelineItemProps;\n  ref: HTMLDivElement;\n  stylesNames: TimelineItemStylesNames;\n  compound: true;\n}>;\n\nconst defaultProps: Partial<TimelineItemProps> = {};\n\nexport const TimelineItem = factory<TimelineItemFactory>((_props, ref) => {\n  const props = useProps(\"TimelineItem\", defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    vars,\n    __active,\n    __align,\n    __lineActive,\n    __vars,\n    bullet,\n    radius,\n    color,\n    lineVariant,\n    children,\n    title,\n    ...others\n  } = props;\n\n  const theme = useRaikouTheme();\n\n  const stylesApiProps = { classNames, styles };\n\n  return (\n    <Box\n      {...useStore\n        .getState()\n        .getStyles(\"item\", { ...stylesApiProps, className, style })}\n      mod={{ \"line-active\": __lineActive, active: __active }}\n      ref={ref}\n      __vars={{\n        \"--tli-radius\": radius ? getRadius(radius) : undefined,\n        \"--tli-color\": color ? getThemeColor(color, theme) : undefined,\n        \"--tli-border-style\": lineVariant || undefined,\n      }}\n      {...others}\n    >\n      <Box\n        {...useStore.getState().getStyles(\"itemBullet\", stylesApiProps)}\n        mod={{ \"with-child\": !!bullet, align: __align, active: __active }}\n      >\n        {bullet as any}\n      </Box>\n\n      <div {...useStore.getState().getStyles(\"itemBody\", stylesApiProps)}>\n        {title && (\n          <div {...useStore.getState().getStyles(\"itemTitle\", stylesApiProps)}>\n            {title as any}\n          </div>\n        )}\n        <div {...useStore.getState().getStyles(\"itemContent\", stylesApiProps)}>\n          {children as any}\n        </div>\n      </div>\n    </Box>\n  );\n});\n\nTimelineItem.displayName = \"@raikou/core/TimelineItem\";\n","import { GetStylesApi } from \"@raikou/core\";\nimport type { TimelineFactory } from \"./Timeline\";\nimport createStore from \"pure-store\";\n\ninterface TimelineContext {\n  getStyles: GetStylesApi<TimelineFactory> | any;\n}\n\nexport const useStore = createStore<TimelineContext>({\n  getStyles: undefined,\n});\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/Timeline/src/Timeline.module.css\"; export default {\"root\":\"m-43657ece\",\"itemTitle\":\"m-2ebe8099\",\"item\":\"m-436178ff\",\"itemBullet\":\"m-8affcee1\",\"itemBody\":\"m-540e8f41\"}"],"mappings":"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","names":["React","Box","factory","useProps","getRadius","getThemeColor","defaultProps","getRadius","getThemeColor","factory","useProps","_a","React","Box"]}