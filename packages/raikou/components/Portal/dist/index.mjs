var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,r,t)=>r in e?__defProp(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,__spreadValues=(e,r)=>{for(var t in r=r||{})__hasOwnProp.call(r,t)&&__defNormalProp(e,t,r[t]);if(__getOwnPropSymbols)for(var t of __getOwnPropSymbols(r))__propIsEnum.call(r,t)&&__defNormalProp(e,t,r[t]);return e},__objRest=(e,r)=>{var t={};for(o in e)__hasOwnProp.call(e,o)&&r.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&__getOwnPropSymbols)for(var o of __getOwnPropSymbols(e))r.indexOf(o)<0&&__propIsEnum.call(e,o)&&(t[o]=e[o]);return t};import React,{useRef,useState,forwardRef}from"react";import{createPortal}from"react-dom";import{useIsomorphicEffect,assignRef}from"@raikou/hooks";import{useProps}from"@raikou/core";function createPortalNode(e){var r=document.createElement("div");return r.setAttribute("data-portal","true"),"string"==typeof e.className&&r.classList.add(...e.className.split(" ")),"object"==typeof e.style&&Object.assign(r.style,e.style),"string"==typeof e.id&&r.setAttribute("id",e.id),r}var defaultProps={},Portal=forwardRef((e,r)=>{const t=useProps("Portal",defaultProps,e),{children:o,target:a}=t,l=__objRest(t,["children","target"]),[n,s]=useState(!1),c=useRef(null);return useIsomorphicEffect(()=>(s(!0),c.current=a?"string"==typeof a?document.querySelector(a):a:createPortalNode(l),assignRef(r,c.current),!a&&c.current&&document.body.appendChild(c.current),()=>{!a&&c.current&&document.body.removeChild(c.current)}),[a]),n&&c.current?createPortal(React.createElement(React.Fragment,null,o),c.current):null});Portal.displayName="@raikou/core/Portal";import React2 from"react";function OptionalPortal(e){var{withinPortal:r=!0,children:t}=e,e=__objRest(e,["withinPortal","children"]);return r?React2.createElement(Portal,__spreadValues({},e),t):React2.createElement(React2.Fragment,null,t)}OptionalPortal.displayName="@raikou/core/OptionalPortal";export{OptionalPortal,Portal};