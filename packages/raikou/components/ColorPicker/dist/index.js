"use strict";var __create=Object.create,__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropSymbols=Object.getOwnPropertySymbols,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__pow=Math.pow,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value:value}):obj[key]=value,__spreadValues=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a},__spreadProps=(a,b)=>__defProps(a,__getOwnPropDescs(b)),__objRest=(source,exclude)=>{var target={};for(var prop in source)__hasOwnProp.call(source,prop)&&exclude.indexOf(prop)<0&&(target[prop]=source[prop]);if(null!=source&&__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(source))exclude.indexOf(prop)<0&&__propIsEnum.call(source,prop)&&(target[prop]=source[prop]);return target},__export=(target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})},__copyProps=(to,from,except,desc)=>{if(from&&"object"==typeof from||"function"==typeof from)for(let key of __getOwnPropNames(from))__hasOwnProp.call(to,key)||key===except||__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to},__toESM=(mod,isNodeMode,target)=>(target=null!=mod?__create(__getProtoOf(mod)):{},__copyProps(!isNodeMode&&mod&&mod.__esModule?target:__defProp(target,"default",{value:mod,enumerable:!0}),mod)),__toCommonJS=mod=>__copyProps(__defProp({},"__esModule",{value:!0}),mod),src_exports={};__export(src_exports,{AlphaSlider:()=>AlphaSlider,ColorPicker:()=>ColorPicker,HueSlider:()=>HueSlider,convertHsvaTo:()=>convertHsvaTo,isColorValid:()=>isColorValid,parseColor:()=>parseColor}),module.exports=__toCommonJS(src_exports);var import_react12=__toESM(require("react")),import_hooks3=require("@raikou/hooks"),import_core8=require("@raikou/core"),import_react7=__toESM(require("react")),import_core3=require("@raikou/core"),import_react6=__toESM(require("react")),import_hooks=require("@raikou/hooks"),import_core2=require("@raikou/core"),ColorPicker_module_default={wrapper:"m-fee9c77",preview:"m-9dddfbac",body:"m-bffecc3e",sliders:"m-3283bb96",thumb:"m-40d572ba",swatch:"m-d8ee6fd8",swatches:"m-5711e686",saturation:"m-202a296e",saturationOverlay:"m-11b3db02",slider:"m-d856d47d",sliderOverlay:"m-8f327113"},import_react=__toESM(require("react")),import_react2=__toESM(require("react"));function createOptionalContext(initialValue=null){const Context=(0,import_react2.createContext)(initialValue);return[({children:children,value:value})=>import_react2.default.createElement(Context.Provider,{value:value},children),()=>(0,import_react2.useContext)(Context)]}var import_react3=require("react"),import_react4=require("react"),[ColorPickerProvider,useColorPickerContext]=createOptionalContext(null),import_react5=__toESM(require("react")),import_core=require("@raikou/core"),Thumb=(0,import_react5.forwardRef)(((_a,ref)=>{var _b=_a,{position:position}=_b,others=__objRest(_b,["position"]);return import_react5.default.createElement(import_core.Box,__spreadValues({ref:ref,__vars:{"--_thumb-y-offset":100*position.y+"%","--_thumb-x-offset":100*position.x+"%"}},others))}));Thumb.displayName="@raikou/core/ColorPickerThumb";var defaultProps={},varsResolver=(0,import_core2.createVarsResolver)((()=>({root:{"--test":"test"}}))),ColorSlider=(0,import_core2.factory)(((_props,ref)=>{var _b;const props=(0,import_core2.useProps)("ColorSlider",defaultProps,_props),_a=props,{classNames:classNames,className:className,style:style,styles:styles,unstyled:unstyled,vars:vars,onChange:onChange,onChangeEnd:onChangeEnd,maxValue:maxValue,round:round2,size:size="md",focusable:focusable=!0,value:value,overlays:overlays,thumbColor:thumbColor="transparent",onScrubStart:onScrubStart,onScrubEnd:onScrubEnd,__staticSelector:__staticSelector="ColorPicker"}=_a,others=__objRest(_a,["classNames","className","style","styles","unstyled","vars","onChange","onChangeEnd","maxValue","round","size","focusable","value","overlays","thumbColor","onScrubStart","onScrubEnd","__staticSelector"]),_getStyles=(0,import_core2.useStyles)({name:__staticSelector,classes:ColorPicker_module_default,props:props,className:className,style:style,classNames:classNames,styles:styles,unstyled:unstyled,vars:vars,varsResolver:varsResolver}),getStyles=(null==(_b=useColorPickerContext())?void 0:_b.getStyles)||_getStyles,theme=(0,import_core2.useRaikouTheme)(),[position,setPosition]=(0,import_react6.useState)({y:0,x:value/maxValue}),positionRef=(0,import_react6.useRef)(position),getChangeValue=val=>round2?Math.round(val*maxValue):val*maxValue,{ref:sliderRef}=(0,import_hooks.useMove)((({x:x,y:y})=>{positionRef.current={x:x,y:y},null==onChange||onChange(getChangeValue(x))}),{onScrubEnd:()=>{const{x:x}=positionRef.current;null==onChangeEnd||onChangeEnd(getChangeValue(x)),null==onScrubEnd||onScrubEnd()},onScrubStart:onScrubStart});(0,import_hooks.useDidUpdate)((()=>{setPosition({y:0,x:value/maxValue})}),[value]);const handleArrow=(event,pos)=>{event.preventDefault();const _position=(0,import_hooks.clampUseMovePosition)(pos);null==onChange||onChange(getChangeValue(_position.x)),null==onChangeEnd||onChangeEnd(getChangeValue(_position.x))},layers=overlays.map(((overlay,index)=>import_react6.default.createElement("div",__spreadProps(__spreadValues({},getStyles("sliderOverlay")),{style:overlay,key:index}))));return import_react6.default.createElement(import_core2.Box,__spreadProps(__spreadValues(__spreadProps(__spreadValues({},others),{ref:(0,import_hooks.useMergedRef)(sliderRef,ref)}),getStyles("slider")),{role:"slider","aria-valuenow":value,"aria-valuemax":maxValue,"aria-valuemin":0,tabIndex:focusable?0:-1,onKeyDown:event=>{switch(event.key){case"ArrowRight":handleArrow(event,{x:position.x+.05,y:position.y});break;case"ArrowLeft":handleArrow(event,{x:position.x-.05,y:position.y})}},"data-focus-ring":theme.focusRing,__vars:{"--_cp-thumb-size":`var(--cp-thumb-size-${size})`}}),layers,import_react6.default.createElement(Thumb,__spreadValues({position:position},getStyles("thumb",{style:{top:(0,import_core2.rem)(1),background:thumbColor}}))))}));function round(number,digits=0,base=__pow(10,digits)){return Math.round(base*number)/base}function hslaToHsva({h:h,s:s,l:l,a:a}){const ss=s*((l<50?l:100-l)/100);return{h:h,s:ss>0?2*ss/(l+ss)*100:0,v:l+ss,a:a}}ColorSlider.displayName="@raikou/core/ColorSlider";var angleUnits={grad:.9,turn:360,rad:360/(2*Math.PI)};function parseHue(value,unit="deg"){return Number(value)*(angleUnits[unit]||1)}var HSL_REGEXP=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function parseHsla(color){const match=HSL_REGEXP.exec(color);return match?hslaToHsva({h:parseHue(match[1],match[2]),s:Number(match[3]),l:Number(match[4]),a:void 0===match[5]?1:Number(match[5])/(match[6]?100:1)}):{h:0,s:0,v:0,a:1}}function rgbaToHsva({r:r,g:g,b:b,a:a}){const max=Math.max(r,g,b),delta=max-Math.min(r,g,b),hh=delta?max===r?(g-b)/delta:max===g?2+(b-r)/delta:4+(r-g)/delta:0;return{h:round(60*(hh<0?hh+6:hh),3),s:round(max?delta/max*100:0,3),v:round(max/255*100,3),a:a}}function parseHex(color){const hex="#"===color[0]?color.slice(1):color;return 3===hex.length?rgbaToHsva({r:parseInt(hex[0]+hex[0],16),g:parseInt(hex[1]+hex[1],16),b:parseInt(hex[2]+hex[2],16),a:1}):rgbaToHsva({r:parseInt(hex.slice(0,2),16),g:parseInt(hex.slice(2,4),16),b:parseInt(hex.slice(4,6),16),a:1})}function parseHexa(color){const hex="#"===color[0]?color.slice(1):color,roundA=a2=>round(parseInt(a2,16)/255,3);if(4===hex.length){const withoutOpacity2=hex.slice(0,3),a2=roundA(hex[3]+hex[3]);return __spreadProps(__spreadValues({},parseHex(withoutOpacity2)),{a:a2})}const withoutOpacity=hex.slice(0,6),a=roundA(hex.slice(6,8));return __spreadProps(__spreadValues({},parseHex(withoutOpacity)),{a:a})}var RGB_REGEXP=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function parseRgba(color){const match=RGB_REGEXP.exec(color);return match?rgbaToHsva({r:Number(match[1])/(match[2]?100/255:1),g:Number(match[3])/(match[4]?100/255:1),b:Number(match[5])/(match[6]?100/255:1),a:void 0===match[7]?1:Number(match[7])/(match[8]?100:1)}):{h:0,s:0,v:0,a:1}}var VALIDATION_REGEXP={hex:/^#?([0-9A-F]{3}){1,2}$/i,hexa:/^#?([0-9A-F]{4}){1,2}$/i,rgb:/^rgb\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,rgba:/^rgba\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,hsl:/hsl\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\)/i,hsla:/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)$/i},CONVERTERS={hex:parseHex,hexa:parseHexa,rgb:parseRgba,rgba:parseRgba,hsl:parseHsla,hsla:parseHsla};function isColorValid(color){for(const[,regexp]of Object.entries(VALIDATION_REGEXP))if(regexp.test(color))return!0;return!1}function parseColor(color){if("string"!=typeof color)return{h:0,s:0,v:0,a:1};if("transparent"===color)return{h:0,s:0,v:0,a:0};const trimmed=color.trim();for(const[rule,regexp]of Object.entries(VALIDATION_REGEXP))if(regexp.test(trimmed))return CONVERTERS[rule](trimmed);return{h:0,s:0,v:0,a:1}}var defaultProps2={},AlphaSlider=(0,import_react7.forwardRef)(((props,ref)=>{const _a=(0,import_core3.useProps)("AlphaSlider",defaultProps2,props),{value:value,onChange:onChange,onChangeEnd:onChangeEnd,color:color}=_a,others=__objRest(_a,["value","onChange","onChangeEnd","color"]);return import_react7.default.createElement(ColorSlider,__spreadProps(__spreadValues({},others),{ref:ref,value:value,onChange:val=>null==onChange?void 0:onChange(round(val,2)),onChangeEnd:val=>null==onChangeEnd?void 0:onChangeEnd(round(val,2)),maxValue:1,round:!1,"data-alpha":!0,overlays:[{backgroundImage:"linear-gradient(45deg, var(--_slider-checkers) 25%, transparent 25%), linear-gradient(-45deg, var(--_slider-checkers) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, var(--_slider-checkers) 75%), linear-gradient(-45deg, var(--mantine-color-body) 75%, var(--_slider-checkers) 75%)",backgroundSize:`${(0,import_core3.rem)(8)} ${(0,import_core3.rem)(8)}`,backgroundPosition:`0 0, 0 ${(0,import_core3.rem)(4)}, ${(0,import_core3.rem)(4)} -${(0,import_core3.rem)(4)}, -${(0,import_core3.rem)(4)} 0`},{backgroundImage:`linear-gradient(90deg, transparent, ${color})`},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${(0,import_core3.rem)(1)} inset, rgb(0, 0, 0, .15) 0 0 ${(0,import_core3.rem)(4)} inset`}]}))}));AlphaSlider.displayName="@raikou/core/AlphaSlider";var import_react8=__toESM(require("react")),import_core4=require("@raikou/core"),HueSlider=(0,import_react8.forwardRef)(((props,ref)=>{const _a=(0,import_core4.useProps)("HueSlider",{},props),{value:value,onChange:onChange,onChangeEnd:onChangeEnd,color:color}=_a,others=__objRest(_a,["value","onChange","onChangeEnd","color"]);return import_react8.default.createElement(ColorSlider,__spreadProps(__spreadValues({},others),{ref:ref,value:value,onChange:onChange,onChangeEnd:onChangeEnd,maxValue:360,thumbColor:`hsl(${value}, 100%, 50%)`,round:!0,"data-hue":!0,overlays:[{backgroundImage:"linear-gradient(to right,hsl(0,100%,50%),hsl(60,100%,50%),hsl(120,100%,50%),hsl(170,100%,50%),hsl(240,100%,50%),hsl(300,100%,50%),hsl(360,100%,50%))"},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${(0,import_core4.rem)(1)} inset, rgb(0, 0, 0, .15) 0 0 ${(0,import_core4.rem)(4)} inset`}]}))}));HueSlider.displayName="@raikou/core/HueSlider";var import_react9=__toESM(require("react")),import_hooks2=require("@raikou/hooks"),import_core5=require("@raikou/core");function hsvaToRgbaObject({h:h,s:s,v:v,a:a}){const _h=h/360*6,_s=s/100,_v=v/100,hh=Math.floor(_h),l=_v*(1-_s),c=_v*(1-(_h-hh)*_s),d=_v*(1-(1-_h+hh)*_s),module2=hh%6;return{r:round(255*[_v,c,l,l,d,_v][module2]),g:round(255*[d,_v,_v,c,l,l][module2]),b:round(255*[l,l,d,_v,_v,c][module2]),a:round(a,2)}}function hsvaToRgba(color,includeAlpha){const{r:r,g:g,b:b,a:a}=hsvaToRgbaObject(color);return includeAlpha?`rgba(${r}, ${g}, ${b}, ${round(a,2)})`:`rgb(${r}, ${g}, ${b})`}function hsvaToHsl({h:h,s:s,v:v,a:a},includeAlpha){const hh=(200-s)*v/100,result_h=Math.round(h),result_s=Math.round(hh>0&&hh<200?s*v/100/(hh<=100?hh:200-hh)*100:0),result_l=Math.round(hh/2);return includeAlpha?`hsla(${result_h}, ${result_s}%, ${result_l}%, ${round(a,2)})`:`hsl(${result_h}, ${result_s}%, ${result_l}%)`}function formatHexPart(number){const hex=number.toString(16);return hex.length<2?`0${hex}`:hex}function hsvaToHex(color){const{r:r,g:g,b:b}=hsvaToRgbaObject(color);return`#${formatHexPart(r)}${formatHexPart(g)}${formatHexPart(b)}`}function hsvaToHexa(color){const a=Math.round(255*color.a);return`${hsvaToHex(color)}${formatHexPart(a)}`}var CONVERTERS2={hex:hsvaToHex,hexa:color=>hsvaToHexa(color),rgb:color=>hsvaToRgba(color,!1),rgba:color=>hsvaToRgba(color,!0),hsl:color=>hsvaToHsl(color,!1),hsla:color=>hsvaToHsl(color,!0)};function convertHsvaTo(format,color){return color?format in CONVERTERS2?CONVERTERS2[format](color):CONVERTERS2.hex(color):"#000000"}function Saturation(_a){var _b=_a,{className:className,onChange:onChange,onChangeEnd:onChangeEnd,value:value,saturationLabel:saturationLabel,focusable:focusable=!0,size:size,color:color,onScrubStart:onScrubStart,onScrubEnd:onScrubEnd}=_b,others=__objRest(_b,["className","onChange","onChangeEnd","value","saturationLabel","focusable","size","color","onScrubStart","onScrubEnd"]);const{getStyles:getStyles}=useColorPickerContext(),[position,setPosition]=(0,import_react9.useState)({x:value.s/100,y:1-value.v/100}),positionRef=(0,import_react9.useRef)(position),{ref:ref}=(0,import_hooks2.useMove)((({x:x,y:y})=>{positionRef.current={x:x,y:y},onChange({s:Math.round(100*x),v:Math.round(100*(1-y))})}),{onScrubEnd:()=>{const{x:x,y:y}=positionRef.current;onChangeEnd({s:Math.round(100*x),v:Math.round(100*(1-y))}),null==onScrubEnd||onScrubEnd()},onScrubStart:onScrubStart});(0,import_react9.useEffect)((()=>{setPosition({x:value.s/100,y:1-value.v/100})}),[value.s,value.v]);const handleArrow=(event,pos)=>{event.preventDefault();const _position=(0,import_hooks2.clampUseMovePosition)(pos);onChange({s:Math.round(100*_position.x),v:Math.round(100*(1-_position.y))}),onChangeEnd({s:Math.round(100*_position.x),v:Math.round(100*(1-_position.y))})};return import_react9.default.createElement(import_core5.Box,__spreadProps(__spreadValues(__spreadProps(__spreadValues({},getStyles("saturation")),{ref:ref}),others),{role:"slider","aria-label":saturationLabel,"aria-valuenow":position.x,"aria-valuetext":convertHsvaTo("rgba",value),tabIndex:focusable?0:-1,onKeyDown:event=>{switch(event.key){case"ArrowUp":handleArrow(event,{y:position.y-.05,x:position.x});break;case"ArrowDown":handleArrow(event,{y:position.y+.05,x:position.x});break;case"ArrowRight":handleArrow(event,{x:position.x+.05,y:position.y});break;case"ArrowLeft":handleArrow(event,{x:position.x-.05,y:position.y})}}}),import_react9.default.createElement("div",__spreadValues({},getStyles("saturationOverlay",{style:{backgroundColor:`hsl(${value.h}, 100%, 50%)`}}))),import_react9.default.createElement("div",__spreadValues({},getStyles("saturationOverlay",{style:{backgroundImage:"linear-gradient(90deg, #fff, transparent)"}}))),import_react9.default.createElement("div",__spreadValues({},getStyles("saturationOverlay",{style:{backgroundImage:"linear-gradient(0deg, #000, transparent)"}}))),import_react9.default.createElement(Thumb,__spreadValues({position:position},getStyles("thumb",{style:{backgroundColor:color}}))))}Saturation.displayName="@raikou/core/Saturation";var import_react11=__toESM(require("react")),import_core7=require("@raikou/core"),import_react10=__toESM(require("react")),import_core6=require("@raikou/core"),ColorSwatch_module_default={root:"m-de3d2490",colorOverlay:"m-862f3d1b",shadowOverlay:"m-98ae7f22",alphaOverlay:"m-95709ac0",childrenOverlay:"m-93e74e3"},defaultProps3={withShadow:!0},varsResolver2=(0,import_core6.createVarsResolver)(((_,{radius:radius,size:size})=>({root:{"--cs-radius":void 0===radius?void 0:(0,import_core6.getRadius)(radius),"--cs-size":(0,import_core6.rem)(size)}}))),ColorSwatch=(0,import_core6.polymorphicFactory)(((_props,ref)=>{const props=(0,import_core6.useProps)("ColorSwatch",defaultProps3,_props),_a=(0,import_core6.useProps)("ColorSwatch",defaultProps3,props),{classNames:classNames,className:className,style:style,styles:styles,unstyled:unstyled,vars:vars,color:color,size:size,radius:radius,withShadow:withShadow,children:children,variant:variant}=_a,others=__objRest(_a,["classNames","className","style","styles","unstyled","vars","color","size","radius","withShadow","children","variant"]),getStyles=(0,import_core6.useStyles)({name:"ColorSwatch",props:props,classes:ColorSwatch_module_default,className:className,style:style,classNames:classNames,styles:styles,unstyled:unstyled,vars:vars,varsResolver:varsResolver2});return import_react10.default.createElement(import_core6.Box,__spreadValues(__spreadValues({ref:ref,variant:variant,size:size},getStyles("root",{focusable:!0})),others),import_react10.default.createElement("span",__spreadValues({},getStyles("alphaOverlay"))),withShadow&&import_react10.default.createElement("span",__spreadValues({},getStyles("shadowOverlay"))),import_react10.default.createElement("span",__spreadValues({},getStyles("colorOverlay",{style:{backgroundColor:color}}))),import_react10.default.createElement("span",__spreadValues({},getStyles("childrenOverlay")),children))}));ColorSwatch.displayName="@raikou/core/ColorSwatch",ColorSwatch.classes=ColorSwatch_module_default;var Swatches=(0,import_react11.forwardRef)(((_a,ref)=>{var _b=_a,{className:className,datatype:datatype,setValue:setValue,onChangeEnd:onChangeEnd,size:size,focusable:focusable,data:data,swatchesPerRow:swatchesPerRow}=_b,others=__objRest(_b,["className","datatype","setValue","onChangeEnd","size","focusable","data","swatchesPerRow"]);const{getStyles:getStyles}=useColorPickerContext(),colors=data.map(((color,index)=>import_react11.default.createElement(ColorSwatch,__spreadProps(__spreadValues({},getStyles("swatch")),{component:"button",type:"button",color:color,key:index,radius:"sm",onClick:()=>{setValue(color),null==onChangeEnd||onChangeEnd(color)},"aria-label":color,tabIndex:focusable?0:-1,"data-swatch":!0}))));return import_react11.default.createElement(import_core7.Box,__spreadValues(__spreadProps(__spreadValues({},getStyles("swatches")),{ref:ref}),others),colors)}));Swatches.displayName="@raikou/core/Swatches";var ColorPicker_module_default2={wrapper:"m-fee9c77",preview:"m-9dddfbac",body:"m-bffecc3e",sliders:"m-3283bb96",thumb:"m-40d572ba",swatch:"m-d8ee6fd8",swatches:"m-5711e686",saturation:"m-202a296e",saturationOverlay:"m-11b3db02",slider:"m-d856d47d",sliderOverlay:"m-8f327113"},defaultProps4={swatchesPerRow:7,withPicker:!0,focusable:!0,size:"md",__staticSelector:"ColorPicker"},varsResolver3=(0,import_core8.createVarsResolver)(((_,{size:size,swatchesPerRow:swatchesPerRow})=>({wrapper:{"--cp-preview-size":(0,import_core8.getSize)(size,"cp-preview-size"),"--cp-width":(0,import_core8.getSize)(size,"cp-width"),"--cp-body-spacing":(0,import_core8.getSpacing)(size),"--cp-swatch-size":100/swatchesPerRow+"%","--cp-thumb-size":(0,import_core8.getSize)(size,"cp-thumb-size"),"--cp-saturation-height":(0,import_core8.getSize)(size,"cp-saturation-height")}}))),ColorPicker=(0,import_core8.factory)(((_props,ref)=>{const props=(0,import_core8.useProps)("ColorPicker",defaultProps4,_props),_a=props,{classNames:classNames,className:className,style:style,styles:styles,unstyled:unstyled,vars:vars,format:format,value:value,defaultValue:defaultValue,onChange:onChange,onChangeEnd:onChangeEnd,withPicker:withPicker,size:size,saturationLabel:saturationLabel,hueLabel:hueLabel,alphaLabel:alphaLabel,focusable:focusable,swatches:swatches,swatchesPerRow:swatchesPerRow,fullWidth:fullWidth,onColorSwatchClick:onColorSwatchClick,__staticSelector:__staticSelector}=_a,others=__objRest(_a,["classNames","className","style","styles","unstyled","vars","format","value","defaultValue","onChange","onChangeEnd","withPicker","size","saturationLabel","hueLabel","alphaLabel","focusable","swatches","swatchesPerRow","fullWidth","onColorSwatchClick","__staticSelector"]),getStyles=(0,import_core8.useStyles)({name:__staticSelector,props:props,classes:ColorPicker_module_default2,className:className,style:style,classNames:classNames,styles:styles,unstyled:unstyled,rootSelector:"wrapper",vars:vars,varsResolver:varsResolver3}),formatRef=(0,import_react12.useRef)(format),valueRef=(0,import_react12.useRef)(),scrubTimeoutRef=(0,import_react12.useRef)(-1),isScrubbingRef=(0,import_react12.useRef)(!1),withAlpha="hexa"===format||"rgba"===format||"hsla"===format,[_value,setValue,controlled]=(0,import_hooks3.useUncontrolled)({value:value,defaultValue:defaultValue,finalValue:"#FFFFFF",onChange:onChange}),[parsed,setParsed]=(0,import_react12.useState)(parseColor(_value)),startScrubbing=()=>{window.clearTimeout(scrubTimeoutRef.current),isScrubbingRef.current=!0},stopScrubbing=()=>{window.clearTimeout(scrubTimeoutRef.current),scrubTimeoutRef.current=window.setTimeout((()=>{isScrubbingRef.current=!1}),200)},handleChange=color=>{setParsed((current=>{const next=__spreadValues(__spreadValues({},current),color);return valueRef.current=convertHsvaTo(formatRef.current,next),next})),setValue(valueRef.current)};return(0,import_hooks3.useDidUpdate)((()=>{isColorValid(value)&&!isScrubbingRef.current&&setParsed(parseColor(value))}),[value]),(0,import_hooks3.useDidUpdate)((()=>{formatRef.current=format,setValue(convertHsvaTo(format,parsed))}),[format]),import_react12.default.createElement(ColorPickerProvider,{value:{getStyles:getStyles}},import_react12.default.createElement(import_core8.Box,__spreadValues(__spreadProps(__spreadValues({ref:ref},getStyles("wrapper")),{size:size,mod:{"full-width":fullWidth}}),others),withPicker&&import_react12.default.createElement(import_react12.default.Fragment,null,import_react12.default.createElement(Saturation,{value:parsed,onChange:handleChange,onChangeEnd:({s:s,v:v})=>null==onChangeEnd?void 0:onChangeEnd(convertHsvaTo(formatRef.current,__spreadProps(__spreadValues({},parsed),{s:s,v:v}))),color:_value,size:size,focusable:focusable,saturationLabel:saturationLabel,onScrubStart:startScrubbing,onScrubEnd:stopScrubbing}),import_react12.default.createElement("div",__spreadValues({},getStyles("body")),import_react12.default.createElement("div",__spreadValues({},getStyles("sliders")),import_react12.default.createElement(HueSlider,{value:parsed.h,onChange:h=>handleChange({h:h}),onChangeEnd:h=>null==onChangeEnd?void 0:onChangeEnd(convertHsvaTo(formatRef.current,__spreadProps(__spreadValues({},parsed),{h:h}))),size:size,focusable:focusable,"aria-label":hueLabel,onScrubStart:startScrubbing,onScrubEnd:stopScrubbing}),withAlpha&&import_react12.default.createElement(AlphaSlider,{value:parsed.a,onChange:a=>handleChange({a:a}),onChangeEnd:a=>{null==onChangeEnd||onChangeEnd(convertHsvaTo(formatRef.current,__spreadProps(__spreadValues({},parsed),{a:a})))},size:size,color:convertHsvaTo("hex",parsed),focusable:focusable,"aria-label":alphaLabel,onScrubStart:startScrubbing,onScrubEnd:stopScrubbing})),withAlpha&&import_react12.default.createElement(ColorSwatch,__spreadValues({color:_value,radius:"sm",size:"var(--cp-preview-size)"},getStyles("preview"))))),Array.isArray(swatches)&&import_react12.default.createElement(Swatches,{data:swatches,swatchesPerRow:swatchesPerRow,focusable:focusable,setValue:setValue,onChangeEnd:color=>{const convertedColor=convertHsvaTo(format,parseColor(color));null==onColorSwatchClick||onColorSwatchClick(convertedColor),null==onChangeEnd||onChangeEnd(convertedColor),controlled||setParsed(parseColor(color))}})))}));ColorPicker.displayName="@raikou/core/ColorPicker",ColorPicker.classes=ColorPicker_module_default2;