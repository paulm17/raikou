{"version":3,"sources":["../src/List.tsx","../src/ListItem/ListItem.tsx","../src/store.ts","css-module:./List.module.css#css-module"],"sourcesContent":["import React from \"react\";\nimport {\n  Box,\n  BoxProps,\n  StylesApiProps,\n  factory,\n  ElementProps,\n  useProps,\n  useStyles,\n  createVarsResolver,\n  Factory,\n  RaikouSize,\n  RaikouSpacing,\n  getFontSize,\n  getLineHeight,\n  getSpacing,\n} from \"@raikou/core\";\nimport { ListItem, ListItemStylesNames } from \"./ListItem/ListItem\";\nimport { useStore } from \"./store\";\nimport classes from \"./List.module.css\";\n\nexport type ListStylesNames = \"root\" | ListItemStylesNames;\nexport type ListCssVariables = {\n  root: \"--list-fz\" | \"--list-lh\" | \"--list-spacing\";\n};\n\n// @ts-ignore\nexport interface ListProps\n  extends BoxProps,\n    StylesApiProps<ListFactory>,\n    ElementProps<\"ul\", \"type\"> {\n  /** `List.Item` components only */\n  children?: React.ReactNode;\n\n  /** List type: `ol` or `ul`, `'unordered'` by default */\n  type?: \"ordered\" | \"unordered\";\n\n  /** Determines whether list items should be offset with padding, `false` by default */\n  withPadding?: boolean;\n\n  /** Controls `font-size` and `line-height`, `'md'` by default */\n  size?: RaikouSize;\n\n  /** Icon that replaces list item dot */\n  icon?: React.ReactNode;\n\n  /** Key of `theme.spacing` or any valid CSS value to set spacing between items, `0` by default */\n  spacing?: RaikouSpacing;\n\n  /** Determines whether items must be centered with their icon, `false` by default */\n  center?: boolean;\n\n  /** Controls `list-style-type`, by default inferred from `type` */\n  listStyleType?: React.CSSProperties[\"listStyleType\"];\n}\n\nexport type ListFactory = Factory<{\n  props: ListProps;\n  ref: HTMLUListElement;\n  stylesNames: ListStylesNames;\n  vars: ListCssVariables;\n  staticComponents: {\n    Item: typeof ListItem;\n  };\n}>;\n\nconst defaultProps: Partial<ListProps> = {\n  type: \"unordered\",\n};\n\nconst varsResolver = createVarsResolver<ListFactory>(\n  (_, { size, spacing }) => ({\n    root: {\n      \"--list-fz\": getFontSize(size),\n      \"--list-lh\": getLineHeight(size),\n      \"--list-spacing\": getSpacing(spacing),\n    },\n  }),\n);\n\nexport const List = factory<ListFactory>((_props, ref) => {\n  const props = useProps(\"List\", defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    unstyled,\n    vars,\n    children,\n    type,\n    withPadding,\n    icon,\n    spacing,\n    center,\n    listStyleType,\n    mod,\n    ...others\n  } = props;\n\n  const getStyles = useStyles<ListFactory>({\n    name: \"List\",\n    classes,\n    props,\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    vars,\n    varsResolver,\n  });\n\n  useStore.update((state) => {\n    state.getStyles = getStyles;\n    state.center = center;\n    state.icon = icon;\n  });\n\n  return (\n    <Box<any>\n      {...getStyles(\"root\", { style: { listStyleType } })}\n      component={type === \"unordered\" ? (\"ul\" as const) : (\"ol\" as const)}\n      mod={[{ \"with-padding\": withPadding }, mod]}\n      ref={ref}\n      {...others}\n    >\n      {children}\n    </Box>\n  );\n});\n\nList.classes = classes;\nList.displayName = \"@raikou/core/List\";\nList.Item = ListItem;\n","import React from \"react\";\nimport {\n  Box,\n  BoxProps,\n  CompoundStylesApiProps,\n  factory,\n  ElementProps,\n  useProps,\n  Factory,\n} from \"@raikou/core\";\nimport { useStore } from \"../store\";\n\nexport type ListItemStylesNames =\n  | \"item\"\n  | \"itemWrapper\"\n  | \"itemIcon\"\n  | \"itemLabel\";\n\n// @ts-ignore\nexport interface ListItemProps\n  extends BoxProps,\n    CompoundStylesApiProps<ListItemFactory>,\n    ElementProps<\"li\"> {\n  /** Icon to replace item bullet */\n  icon?: React.ReactNode;\n\n  /** Item content */\n  children?: React.ReactNode;\n}\n\nexport type ListItemFactory = Factory<{\n  props: ListItemProps;\n  ref: HTMLLIElement;\n  stylesNames: ListItemStylesNames;\n  compound: true;\n}>;\n\nconst defaultProps: Partial<ListItemProps> = {};\n\nexport const ListItem = factory<ListItemFactory>((_props, ref) => {\n  const props = useProps(\"ListItem\", defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    vars,\n    icon,\n    children,\n    mod,\n    ...others\n  } = props;\n\n  const ctx = useStore.getState();\n  const _icon = icon || ctx.icon;\n  const stylesApiProps = { classNames, styles };\n\n  return (\n    <Box\n      {...useStore\n        .getState()\n        .getStyles(\"item\", { ...stylesApiProps, className, style })}\n      component=\"li\"\n      mod={[{ \"with-icon\": !!_icon, centered: ctx.center }, mod]}\n      ref={ref}\n      {...others}\n    >\n      <div {...ctx.getStyles(\"itemWrapper\", stylesApiProps)}>\n        {_icon && (\n          <span {...ctx.getStyles(\"itemIcon\", stylesApiProps)}>\n            {_icon as any}\n          </span>\n        )}\n        <span {...ctx.getStyles(\"itemLabel\", stylesApiProps)}>\n          {children as any}\n        </span>\n      </div>\n    </Box>\n  );\n});\n\nListItem.displayName = \"@raikou/core/ListItem\";\n","import { GetStylesApi } from \"@raikou/core\";\nimport type { ListFactory } from \"./List\";\nimport createStore from \"pure-store\";\n\ninterface ListContextValue {\n  getStyles: GetStylesApi<ListFactory> | any;\n  center: boolean | undefined;\n  icon: React.ReactNode | undefined;\n}\n\nexport const useStore = createStore<ListContextValue>({\n  getStyles: undefined,\n  center: undefined,\n  icon: undefined,\n});\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/List/src/List.module.css\"; export default {\"root\":\"m-abbac491\",\"item\":\"m-abb6bec2\",\"itemWrapper\":\"m-75cd9f71\",\"itemIcon\":\"m-60f83e5b\"}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,YAAW;AAClB;AAAA,EACE,OAAAC;AAAA,EAGA,WAAAC;AAAA,EAEA,YAAAC;AAAA,EACA;AAAA,EACA;AAAA,EAIA;AAAA,EACA;AAAA,EACA;AAAA,OACK;;;AChBP,OAAO,WAAW;AAClB;AAAA,EACE;AAAA,EAGA;AAAA,EAEA;AAAA,OAEK;;;ACPP,OAAO,iBAAiB;AAQjB,IAAM,WAAW,YAA8B;AAAA,EACpD,WAAW;AAAA,EACX,QAAQ;AAAA,EACR,MAAM;AACR,CAAC;;;ADuBD,IAAM,eAAuC,CAAC;AAEvC,IAAM,WAAW,QAAyB,CAAC,QAAQ,QAAQ;AAChE,QAAM,QAAQ,SAAS,YAAY,cAAc,MAAM;AACvD,QAUI,YATF;AAAA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAjDJ,IAmDM,IADC,mBACD,IADC;AAAA,IARH;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAIF,QAAM,MAAM,SAAS,SAAS;AAC9B,QAAM,QAAQ,QAAQ,IAAI;AAC1B,QAAM,iBAAiB,EAAE,YAAY,OAAO;AAE5C,SACE;AAAA,IAAC;AAAA,oDACK,SACD,SAAS,EACT,UAAU,QAAQ,iCAAK,iBAAL,EAAqB,WAAW,MAAM,EAAC,IAH7D;AAAA,MAIC,WAAU;AAAA,MACV,KAAK,CAAC,EAAE,aAAa,CAAC,CAAC,OAAO,UAAU,IAAI,OAAO,GAAG,GAAG;AAAA,MACzD;AAAA,QACI;AAAA,IAEJ,oCAAC,0BAAQ,IAAI,UAAU,eAAe,cAAc,IACjD,SACC,oCAAC,2BAAS,IAAI,UAAU,YAAY,cAAc,IAC/C,KACH,GAEF,oCAAC,2BAAS,IAAI,UAAU,aAAa,cAAc,IAChD,QACH,CACF;AAAA,EACF;AAEJ,CAAC;AAED,SAAS,cAAc;;;AEjFiF,IAAO,sBAAQ,EAAC,QAAO,cAAa,QAAO,cAAa,eAAc,cAAa,YAAW,aAAY;;;AHkElN,IAAMC,gBAAmC;AAAA,EACvC,MAAM;AACR;AAEA,IAAM,eAAe;AAAA,EACnB,CAAC,GAAG,EAAE,MAAM,QAAQ,OAAO;AAAA,IACzB,MAAM;AAAA,MACJ,aAAa,YAAY,IAAI;AAAA,MAC7B,aAAa,cAAc,IAAI;AAAA,MAC/B,kBAAkB,WAAW,OAAO;AAAA,IACtC;AAAA,EACF;AACF;AAEO,IAAM,OAAOC,SAAqB,CAAC,QAAQ,QAAQ;AACxD,QAAM,QAAQC,UAAS,QAAQF,eAAc,MAAM;AACnD,QAgBI,YAfF;AAAA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAhGJ,IAkGM,IADC,mBACD,IADC;AAAA,IAdH;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAIF,QAAM,YAAY,UAAuB;AAAA,IACvC,MAAM;AAAA,IACN;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AAED,WAAS,OAAO,CAAC,UAAU;AACzB,UAAM,YAAY;AAClB,UAAM,SAAS;AACf,UAAM,OAAO;AAAA,EACf,CAAC;AAED,SACE,gBAAAG,OAAA;AAAA,IAACC;AAAA,IAAA,gDACK,UAAU,QAAQ,EAAE,OAAO,EAAE,cAAc,EAAE,CAAC,IADnD;AAAA,MAEC,WAAW,SAAS,cAAe,OAAkB;AAAA,MACrD,KAAK,CAAC,EAAE,gBAAgB,YAAY,GAAG,GAAG;AAAA,MAC1C;AAAA,QACI;AAAA,IAEH;AAAA,EACH;AAEJ,CAAC;AAED,KAAK,UAAU;AACf,KAAK,cAAc;AACnB,KAAK,OAAO;","names":["React","Box","factory","useProps","defaultProps","factory","useProps","React","Box"]}