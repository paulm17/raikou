{"version":3,"sources":["../src/Group.tsx","../src/filter-falsy-children/filter-falsy-children.ts","css-module:./Group.module.css#css-module"],"sourcesContent":["import React from \"react\";\nimport {\n  Box,\n  BoxProps,\n  StylesApiProps,\n  factory,\n  ElementProps,\n  useProps,\n  useStyles,\n  RaikouSpacing,\n  getSpacing,\n  createVarsResolver,\n  Factory,\n} from \"@raikou/core\";\nimport { filterFalsyChildren } from \"./filter-falsy-children/filter-falsy-children\";\nimport classes from \"./Group.module.css\";\n\nexport type GroupStylesNames = \"root\";\nexport type GroupCssVariables = {\n  root:\n    | \"--group-gap\"\n    | \"--group-align\"\n    | \"--group-justify\"\n    | \"--group-wrap\"\n    | \"--group-child-width\";\n};\n\nexport interface GroupStylesCtx {\n  childWidth: string;\n}\n\nexport interface GroupProps\n  extends BoxProps,\n    StylesApiProps<GroupFactory>,\n    ElementProps<\"div\"> {\n  __size?: any;\n\n  /** Controls `justify-content` CSS property, `'flex-start'` by default */\n  justify?: React.CSSProperties[\"justifyContent\"];\n\n  /** Controls `align-items` CSS property, `'center'` by default */\n  align?: React.CSSProperties[\"alignItems\"];\n\n  /** Controls `flex-wrap` CSS property, `'wrap'` by default */\n  wrap?: React.CSSProperties[\"flexWrap\"];\n\n  /** Key of `theme.spacing` or any valid CSS value for `gap`, numbers are converted to rem, `'md'` by default */\n  gap?: RaikouSpacing;\n\n  /** Determines whether each child element should have `flex-grow: 1` style, `false` by default */\n  grow?: boolean;\n\n  /** Determines whether children should take only dedicated amount of space (`max-width` style is set based on the number of children), `true` by default */\n  preventGrowOverflow?: boolean;\n}\n\nexport type GroupFactory = Factory<{\n  props: GroupProps;\n  ref: HTMLDivElement;\n  stylesNames: GroupStylesNames;\n  vars: GroupCssVariables;\n  ctx: GroupStylesCtx;\n}>;\n\nconst defaultProps: Partial<GroupProps> = {\n  preventGrowOverflow: true,\n  gap: \"md\",\n  align: \"center\",\n  justify: \"flex-start\",\n  wrap: \"wrap\",\n};\n\nconst varsResolver = createVarsResolver<GroupFactory>(\n  (\n    _,\n    { grow, preventGrowOverflow, gap, align, justify, wrap },\n    { childWidth },\n  ) => ({\n    root: {\n      \"--group-child-width\":\n        grow && preventGrowOverflow ? childWidth : undefined,\n      \"--group-gap\": getSpacing(gap),\n      \"--group-align\": align,\n      \"--group-justify\": justify,\n      \"--group-wrap\": wrap,\n    },\n  }),\n);\n\nexport const Group = factory<GroupFactory>((_props, ref) => {\n  const props = useProps(\"Group\", defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    unstyled,\n    children,\n    gap,\n    align,\n    justify,\n    wrap,\n    grow,\n    preventGrowOverflow,\n    vars,\n    variant,\n    __size,\n    mod,\n    ...others\n  } = props;\n\n  // @ts-ignore\n  const filteredChildren = filterFalsyChildren(children);\n  const childrenCount = filteredChildren.length;\n  const resolvedGap = getSpacing(gap ?? \"md\");\n  const childWidth = `calc(${\n    100 / childrenCount\n  }% - (${resolvedGap} - ${resolvedGap} / ${childrenCount}))`;\n\n  const stylesCtx: GroupStylesCtx = { childWidth };\n\n  const getStyles = useStyles<GroupFactory>({\n    name: \"Group\",\n    props,\n    stylesCtx,\n    className,\n    style,\n    classes,\n    classNames,\n    styles,\n    unstyled,\n    vars,\n    varsResolver,\n  });\n\n  return (\n    <Box\n      {...getStyles(\"root\")}\n      ref={ref}\n      variant={variant}\n      mod={[{ grow }, mod]}\n      size={__size}\n      {...others}\n    >\n      {filteredChildren}\n    </Box>\n  );\n});\n\nGroup.displayName = \"@raikou/core/Group\";\nGroup.classes = classes;\n","import { Children, ReactElement, ReactNode } from 'react';\n\nexport function filterFalsyChildren(children: ReactNode) {\n  return (Children.toArray(children) as ReactElement[]).filter(Boolean);\n}\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/Group/src/Group.module.css\"; export default {\"root\":\"m-4081bf90\"}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,WAAW;AAClB;AAAA,EACE;AAAA,EAGA;AAAA,EAEA;AAAA,EACA;AAAA,EAEA;AAAA,EACA;AAAA,OAEK;;;ACbP,SAAS,gBAAyC;AAE3C,SAAS,oBAAoB,UAAqB;AACvD,SAAQ,SAAS,QAAQ,QAAQ,EAAqB,OAAO,OAAO;AACtE;;;ACJ0G,IAAO,uBAAQ,EAAC,QAAO,aAAY;;;AFgE7I,IAAM,eAAoC;AAAA,EACxC,qBAAqB;AAAA,EACrB,KAAK;AAAA,EACL,OAAO;AAAA,EACP,SAAS;AAAA,EACT,MAAM;AACR;AAEA,IAAM,eAAe;AAAA,EACnB,CACE,GACA,EAAE,MAAM,qBAAqB,KAAK,OAAO,SAAS,KAAK,GACvD,EAAE,WAAW,OACT;AAAA,IACJ,MAAM;AAAA,MACJ,uBACE,QAAQ,sBAAsB,aAAa;AAAA,MAC7C,eAAe,WAAW,GAAG;AAAA,MAC7B,iBAAiB;AAAA,MACjB,mBAAmB;AAAA,MACnB,gBAAgB;AAAA,IAClB;AAAA,EACF;AACF;AAEO,IAAM,QAAQ,QAAsB,CAAC,QAAQ,QAAQ;AAC1D,QAAM,QAAQ,SAAS,SAAS,cAAc,MAAM;AACpD,QAkBI,YAjBF;AAAA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EA3GJ,IA6GM,IADC,mBACD,IADC;AAAA,IAhBH;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAKF,QAAM,mBAAmB,oBAAoB,QAAQ;AACrD,QAAM,gBAAgB,iBAAiB;AACvC,QAAM,cAAc,WAAW,oBAAO,IAAI;AAC1C,QAAM,aAAa,QACjB,MAAM,aACR,QAAQ,WAAW,MAAM,WAAW,MAAM,aAAa;AAEvD,QAAM,YAA4B,EAAE,WAAW;AAE/C,QAAM,YAAY,UAAwB;AAAA,IACxC,MAAM;AAAA,IACN;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AAED,SACE;AAAA,IAAC;AAAA,oDACK,UAAU,MAAM,IADrB;AAAA,MAEC;AAAA,MACA;AAAA,MACA,KAAK,CAAC,EAAE,KAAK,GAAG,GAAG;AAAA,MACnB,MAAM;AAAA,QACF;AAAA,IAEH;AAAA,EACH;AAEJ,CAAC;AAED,MAAM,cAAc;AACpB,MAAM,UAAU;","names":[]}