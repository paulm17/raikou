var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,o,r)=>o in e?__defProp(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,__spreadValues=(e,o)=>{for(var r in o=o||{})__hasOwnProp.call(o,r)&&__defNormalProp(e,r,o[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(o))__propIsEnum.call(o,r)&&__defNormalProp(e,r,o[r]);return e},__spreadProps=(e,o)=>__defProps(e,__getOwnPropDescs(o)),__objRest=(e,o)=>{var r={};for(s in e)__hasOwnProp.call(e,s)&&o.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&__getOwnPropSymbols)for(var s of __getOwnPropSymbols(e))o.indexOf(s)<0&&__propIsEnum.call(e,s)&&(r[s]=e[s]);return r};import React,{useRef}from"react";import{Box,polymorphicFactory,useProps,useStyles,createVarsResolver,getSize}from"@raikou/core";import{useMergedRef}from"@raikou/hooks";var Dial_module_default={root:"m-43c05cff",inner:"m-33cbf5d9",handle:"m-4346b705"},defaultProps={scale:1},varsResolver=createVarsResolver((e,{size:o,scale:r,value:s})=>({root:{"--dial-size":getSize(o,"dial-size"),"--dial-scale":r,"--dial-angle":s+"deg"}})),Dial=polymorphicFactory((e,o)=>{const l=useProps("Dial",defaultProps,e);var e=l,{classNames:r,className:s,style:a,styles:t,unstyled:n,vars:p}=e,e=__objRest(e,["classNames","className","style","styles","unstyled","vars","value","scale","onChange"]),s=useStyles({name:"Dial",props:l,classes:Dial_module_default,className:s,style:a,classNames:r,styles:t,unstyled:n,vars:p,varsResolver:varsResolver});const m=useRef(null);a=useMergedRef(m,o);let _={wheelCenter:0,moveX:0,moveY:0};const c=e=>{d(),u(e)},u=e=>{var{pageX:e,pageY:o}=e,{moveX:r,moveY:s,wheelCenter:a}=_,e=e-r-window.scrollX,r=o-s-window.scrollY;let t=Math.atan2(r-a,e-a)*(180/Math.PI)+90;t<0&&(t+=360),t=Math.max(0,Math.min(360,Math.round(t)));o=l.onChange;o(t)};const d=()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseleave",c),document.removeEventListener("mouseup",c)};return React.createElement(Box,__spreadValues(__spreadProps(__spreadValues({component:"span",ref:a},s("root")),{onMouseDown:e=>{e.preventDefault();var{top:o,left:r,width:s}=m.current.getBoundingClientRect();_={wheelCenter:.5*s+5,moveX:r,moveY:o},u(e),document.addEventListener("mousemove",u),document.addEventListener("mouseleave",c),document.addEventListener("mouseup",c)},onKeyDown:()=>{},role:"button",tabIndex:0}),e),React.createElement(Box,__spreadValues({component:"span"},s("inner")),React.createElement(Box,__spreadValues({component:"span"},s("handle")))))});Dial.displayName="@raikou/Dial",Dial.classes=Dial_module_default;export{Dial};