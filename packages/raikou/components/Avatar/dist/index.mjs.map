{"version":3,"sources":["../src/Avatar.tsx","../src/AvatarGroup/AvatarGroup.tsx","../src/AvatarGroup/AvatarGroup.context.ts","css-module:../Avatar.module.css#css-module","../src/AvatarPlaceholderIcon.tsx","css-module:./Avatar.module.css#css-module"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  Box,\n  BoxProps,\n  StylesApiProps,\n  polymorphicFactory,\n  useProps,\n  useStyles,\n  createVarsResolver,\n  PolymorphicFactory,\n  getSize,\n  getRadius,\n  RaikouSize,\n  RaikouRadius,\n  RaikouColor,\n  RaikouGradient,\n} from \"@raikou/core\";\nimport { AvatarGroup } from \"./AvatarGroup/AvatarGroup\";\nimport { useAvatarGroupContext } from \"./AvatarGroup/AvatarGroup.context\";\nimport { AvatarPlaceholderIcon } from \"./AvatarPlaceholderIcon\";\nimport classes from \"./Avatar.module.css\";\n\nexport type AvatarStylesNames = \"root\" | \"placeholder\" | \"image\";\nexport type AvatarVariant =\n  | \"filled\"\n  | \"light\"\n  | \"gradient\"\n  | \"outline\"\n  | \"transparent\"\n  | \"default\"\n  | \"white\";\n\nexport type AvatarCssVariables = {\n  root:\n    | \"--avatar-size\"\n    | \"--avatar-radius\"\n    | \"--avatar-bg\"\n    | \"--avatar-color\"\n    | \"--avatar-bd\";\n};\n\nexport interface AvatarProps extends BoxProps, StylesApiProps<AvatarFactory> {\n  /** Width and height of the avatar, numbers are converted to rem, `'md'` by default */\n  size?: RaikouSize | (string & {}) | number;\n\n  /** Key of `theme.radius` or any valid CSS value to set border-radius, `'100%'` by default */\n  radius?: RaikouRadius;\n\n  /** Key of `theme.colors` or any valid CSS color, default value is `theme.primaryColor`  */\n  color?: RaikouColor;\n\n  /** Gradient configuration used when `variant=\"gradient\"`, default value is `theme.defaultGradient` */\n  gradient?: RaikouGradient;\n\n  /** Image url, if the image cannot be loaded or `src={null}`, then placeholder is displayed instead */\n  src?: string | null;\n\n  /** Image `alt` attribute, also used as `title` attribute for placeholder */\n  alt?: string;\n\n  /** `img` tag attributes */\n  imageProps?: React.ComponentPropsWithoutRef<\"img\">;\n\n  /** Avatar placeholder, displayed when `src={null}` or when the image cannot be loaded */\n  children?: React.ReactNode;\n\n  /** Determines whether text color with filled variant should depend on `background-color`. If luminosity of the `color` prop is less than `theme.luminosityThreshold`, then `theme.white` will be used for text color, otherwise `theme.black`. Overrides `theme.autoContrast`. */\n  autoContrast?: boolean;\n}\n\nexport type AvatarFactory = PolymorphicFactory<{\n  props: AvatarProps;\n  defaultRef: HTMLDivElement;\n  defaultComponent: \"div\";\n  stylesNames: AvatarStylesNames;\n  vars: AvatarCssVariables;\n  variant: AvatarVariant;\n  staticComponents: {\n    Group: typeof AvatarGroup;\n  };\n}>;\n\nconst defaultProps: Partial<AvatarProps> = {};\n\nconst varsResolver = createVarsResolver<AvatarFactory>(\n  (theme, { size, radius, variant, gradient, color, autoContrast }) => {\n    const colors = theme.variantColorResolver({\n      color: color || \"gray\",\n      theme,\n      gradient,\n      variant: variant || \"light\",\n      autoContrast,\n    });\n\n    return {\n      root: {\n        \"--avatar-size\": getSize(size, \"avatar-size\"),\n        \"--avatar-radius\": radius === undefined ? undefined : getRadius(radius),\n        \"--avatar-bg\": color || variant ? colors.background : undefined,\n        \"--avatar-color\": color || variant ? colors.color : undefined,\n        \"--avatar-bd\": color || variant ? colors.border : undefined,\n      },\n    };\n  },\n);\n\nexport const Avatar = polymorphicFactory<AvatarFactory>((_props, ref) => {\n  const props = useProps(\"Avatar\", defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    unstyled,\n    vars,\n    src,\n    alt,\n    radius,\n    color,\n    gradient,\n    imageProps,\n    children,\n    autoContrast,\n    mod,\n    ...others\n  } = props;\n  const ctx = useAvatarGroupContext();\n  const [error, setError] = useState(!src);\n\n  const getStyles = useStyles<AvatarFactory>({\n    name: \"Avatar\",\n    props,\n    classes,\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    vars,\n    varsResolver,\n  });\n\n  useEffect(() => setError(!src), [src]);\n\n  return (\n    <Box\n      {...getStyles(\"root\")}\n      mod={[{ \"within-group\": ctx.withinGroup }, mod]}\n      ref={ref}\n      {...others}\n    >\n      {error ? (\n        <span {...getStyles(\"placeholder\")} title={alt}>\n          {children || <AvatarPlaceholderIcon />}\n        </span>\n      ) : (\n        <img\n          {...imageProps}\n          {...getStyles(\"image\")}\n          src={src!}\n          alt={alt}\n          onError={(event) => {\n            setError(true);\n            imageProps?.onError?.(event);\n          }}\n        />\n      )}\n    </Box>\n  );\n});\n\nAvatar.displayName = \"@raikou/core/Avatar\";\nAvatar.Group = AvatarGroup;\n","import React from \"react\";\nimport {\n  Box,\n  BoxProps,\n  StylesApiProps,\n  factory,\n  ElementProps,\n  useProps,\n  useStyles,\n  createVarsResolver,\n  Factory,\n  RaikouSpacing,\n  getSpacing,\n} from \"@raikou/core\";\nimport { AvatarGroupProvider } from \"./AvatarGroup.context\";\nimport classes from \"../Avatar.module.css\";\n\nexport type AvatarGroupStylesNames = \"group\";\nexport type AvatarGroupVariant = string;\nexport type AvatarGroupCssVariables = {\n  group: \"--ag-spacing\";\n};\n\nexport interface AvatarGroupProps\n  extends BoxProps,\n    StylesApiProps<AvatarGroupFactory>,\n    ElementProps<\"div\"> {\n  /** Negative space between Avatar components, `'sm'` by default */\n  spacing?: RaikouSpacing;\n}\n\nexport type AvatarGroupFactory = Factory<{\n  props: AvatarGroupProps;\n  ref: HTMLDivElement;\n  stylesNames: AvatarGroupStylesNames;\n  vars: AvatarGroupCssVariables;\n  variant: AvatarGroupVariant;\n}>;\n\nconst defaultProps: Partial<AvatarGroupProps> = {};\n\nconst varsResolver = createVarsResolver<AvatarGroupFactory>(\n  (_, { spacing }) => ({\n    group: {\n      \"--ag-spacing\": getSpacing(spacing),\n    },\n  }),\n);\n\nexport const AvatarGroup = factory<AvatarGroupFactory>((_props, ref) => {\n  const props = useProps(\"AvatarGroup\", defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    unstyled,\n    vars,\n    spacing,\n    ...others\n  } = props;\n\n  const getStyles = useStyles<AvatarGroupFactory>({\n    name: \"AvatarGroup\",\n    classes,\n    props,\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    vars,\n    varsResolver,\n    rootSelector: \"group\",\n  });\n\n  return (\n    <AvatarGroupProvider value>\n      <Box ref={ref} {...getStyles(\"group\")} {...others} />\n    </AvatarGroupProvider>\n  );\n});\n\nAvatarGroup.displayName = \"@raikou/core/AvatarGroup\";\nAvatarGroup.classes = classes;\n","import { createContext, useContext } from 'react';\n\nconst AvatarGroupContext = createContext<true | null>(null);\nexport const AvatarGroupProvider = AvatarGroupContext.Provider;\n\nexport function useAvatarGroupContext() {\n  const ctx = useContext(AvatarGroupContext);\n  return { withinGroup: !!ctx };\n}\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/Avatar/src/Avatar.module.css\"; export default {\"group\":\"m-11def92b\",\"root\":\"m-f85678b6\",\"image\":\"m-11f8ac07\",\"placeholder\":\"m-104cd71f\"}","import React from 'react';\n\nexport function AvatarPlaceholderIcon(props: React.ComponentPropsWithoutRef<'svg'>) {\n  return (\n    <svg\n      {...props}\n      data-avatar-placeholder-icon\n      viewBox=\"0 0 15 15\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z\"\n        fill=\"currentColor\"\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n      />\n    </svg>\n  );\n}\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/Avatar/src/Avatar.module.css\"; export default {\"group\":\"m-11def92b\",\"root\":\"m-f85678b6\",\"image\":\"m-11f8ac07\",\"placeholder\":\"m-104cd71f\"}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,UAAS,WAAW,gBAAgB;AAC3C;AAAA,EACE,OAAAC;AAAA,EAGA;AAAA,EACA,YAAAC;AAAA,EACA,aAAAC;AAAA,EACA,sBAAAC;AAAA,EAEA;AAAA,EACA;AAAA,OAKK;;;AChBP,OAAO,WAAW;AAClB;AAAA,EACE;AAAA,EAGA;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA,EAGA;AAAA,OACK;;;ACbP,SAAS,eAAe,kBAAkB;AAE1C,IAAM,qBAAqB,cAA2B,IAAI;AACnD,IAAM,sBAAsB,mBAAmB;AAE/C,SAAS,wBAAwB;AACtC,QAAM,MAAM,WAAW,kBAAkB;AACzC,SAAO,EAAE,aAAa,CAAC,CAAC,IAAI;AAC9B;;;ACR4G,IAAO,wBAAQ,EAAC,SAAQ,cAAa,QAAO,cAAa,SAAQ,cAAa,eAAc,aAAY;;;AFuCpN,IAAM,eAA0C,CAAC;AAEjD,IAAM,eAAe;AAAA,EACnB,CAAC,GAAG,EAAE,QAAQ,OAAO;AAAA,IACnB,OAAO;AAAA,MACL,gBAAgB,WAAW,OAAO;AAAA,IACpC;AAAA,EACF;AACF;AAEO,IAAM,cAAc,QAA4B,CAAC,QAAQ,QAAQ;AACtE,QAAM,QAAQ,SAAS,eAAe,cAAc,MAAM;AAC1D,QASI,YARF;AAAA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EA1DJ,IA4DM,IADC,mBACD,IADC;AAAA,IAPH;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAIF,QAAM,YAAY,UAA8B;AAAA,IAC9C,MAAM;AAAA,IACN;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,cAAc;AAAA,EAChB,CAAC;AAED,SACE,oCAAC,uBAAoB,OAAK,QACxB,oCAAC,qCAAI,OAAc,UAAU,OAAO,IAAO,OAAQ,CACrD;AAEJ,CAAC;AAED,YAAY,cAAc;AAC1B,YAAY,UAAU;;;AGpFtB,OAAOC,YAAW;AAEX,SAAS,sBAAsB,OAA8C;AAClF,SACE,gBAAAC,OAAA;AAAA,IAAC;AAAA,qCACK,QADL;AAAA,MAEC,gCAA4B;AAAA,MAC5B,SAAQ;AAAA,MACR,MAAK;AAAA,MACL,OAAM;AAAA;AAAA,IAEN,gBAAAA,OAAA;AAAA,MAAC;AAAA;AAAA,QACC,GAAE;AAAA,QACF,MAAK;AAAA,QACL,UAAS;AAAA,QACT,UAAS;AAAA;AAAA,IACX;AAAA,EACF;AAEJ;;;ACnB4G,IAAOC,yBAAQ,EAAC,SAAQ,cAAa,QAAO,cAAa,SAAQ,cAAa,eAAc,aAAY;;;ALkFpN,IAAMC,gBAAqC,CAAC;AAE5C,IAAMC,gBAAeC;AAAA,EACnB,CAAC,OAAO,EAAE,MAAM,QAAQ,SAAS,UAAU,OAAO,aAAa,MAAM;AACnE,UAAM,SAAS,MAAM,qBAAqB;AAAA,MACxC,OAAO,SAAS;AAAA,MAChB;AAAA,MACA;AAAA,MACA,SAAS,WAAW;AAAA,MACpB;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MACL,MAAM;AAAA,QACJ,iBAAiB,QAAQ,MAAM,aAAa;AAAA,QAC5C,mBAAmB,WAAW,SAAY,SAAY,UAAU,MAAM;AAAA,QACtE,eAAe,SAAS,UAAU,OAAO,aAAa;AAAA,QACtD,kBAAkB,SAAS,UAAU,OAAO,QAAQ;AAAA,QACpD,eAAe,SAAS,UAAU,OAAO,SAAS;AAAA,MACpD;AAAA,IACF;AAAA,EACF;AACF;AAEO,IAAM,SAAS,mBAAkC,CAAC,QAAQ,QAAQ;AACvE,QAAM,QAAQC,UAAS,UAAUH,eAAc,MAAM;AACrD,QAiBI,YAhBF;AAAA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EA3HJ,IA6HM,IADC,mBACD,IADC;AAAA,IAfH;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAGF,QAAM,MAAM,sBAAsB;AAClC,QAAM,CAAC,OAAO,QAAQ,IAAI,SAAS,CAAC,GAAG;AAEvC,QAAM,YAAYI,WAAyB;AAAA,IACzC,MAAM;AAAA,IACN;AAAA,IACA,SAAAC;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,cAAAJ;AAAA,EACF,CAAC;AAED,YAAU,MAAM,SAAS,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC;AAErC,SACE,gBAAAK,OAAA;AAAA,IAACC;AAAA,IAAA,gDACK,UAAU,MAAM,IADrB;AAAA,MAEC,KAAK,CAAC,EAAE,gBAAgB,IAAI,YAAY,GAAG,GAAG;AAAA,MAC9C;AAAA,QACI;AAAA,IAEH,QACC,gBAAAD,OAAA,cAAC,yCAAS,UAAU,aAAa,IAAhC,EAAmC,OAAO,QACxC,YAAY,gBAAAA,OAAA,cAAC,2BAAsB,CACtC,IAEA,gBAAAA,OAAA;AAAA,MAAC;AAAA,sDACK,aACA,UAAU,OAAO,IAFtB;AAAA,QAGC;AAAA,QACA;AAAA,QACA,SAAS,CAAC,UAAU;AAjK9B,cAAAE;AAkKY,mBAAS,IAAI;AACb,WAAAA,MAAA,yCAAY,YAAZ,gBAAAA,IAAA,iBAAsB;AAAA,QACxB;AAAA;AAAA,IACF;AAAA,EAEJ;AAEJ,CAAC;AAED,OAAO,cAAc;AACrB,OAAO,QAAQ;","names":["React","Box","useProps","useStyles","createVarsResolver","React","React","Avatar_module_default","defaultProps","varsResolver","createVarsResolver","useProps","useStyles","Avatar_module_default","React","Box","_a"]}