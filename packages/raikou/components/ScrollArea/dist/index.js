"use strict";var __create=Object.create,__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropSymbols=Object.getOwnPropertySymbols,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value:value}):obj[key]=value,__spreadValues=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a},__spreadProps=(a,b)=>__defProps(a,__getOwnPropDescs(b)),__objRest=(source,exclude)=>{var target={};for(var prop in source)__hasOwnProp.call(source,prop)&&exclude.indexOf(prop)<0&&(target[prop]=source[prop]);if(null!=source&&__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(source))exclude.indexOf(prop)<0&&__propIsEnum.call(source,prop)&&(target[prop]=source[prop]);return target},__export=(target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})},__copyProps=(to,from,except,desc)=>{if(from&&"object"==typeof from||"function"==typeof from)for(let key of __getOwnPropNames(from))__hasOwnProp.call(to,key)||key===except||__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to},__toESM=(mod,isNodeMode,target)=>(target=null!=mod?__create(__getProtoOf(mod)):{},__copyProps(!isNodeMode&&mod&&mod.__esModule?target:__defProp(target,"default",{value:mod,enumerable:!0}),mod)),__toCommonJS=mod=>__copyProps(__defProp({},"__esModule",{value:!0}),mod),src_exports={};__export(src_exports,{ScrollArea:()=>ScrollArea,ScrollAreaAutosize:()=>ScrollAreaAutosize}),module.exports=__toCommonJS(src_exports);var import_react17=__toESM(require("react")),import_core4=require("@raikou/core"),import_react12=__toESM(require("react")),import_react=__toESM(require("react"));function createSafeContext(errorMessage){const Context=(0,import_react.createContext)(null);return[({children:children,value:value})=>import_react.default.createElement(Context.Provider,{value:value},children),()=>{const ctx=(0,import_react.useContext)(Context);if(null===ctx)throw new Error(errorMessage);return ctx}]}var import_react2=__toESM(require("react")),import_react3=require("react"),import_react4=require("react"),[ScrollAreaProvider,useScrollAreaContext]=createSafeContext("ScrollArea.Root component was not found in tree"),import_react8=__toESM(require("react")),import_core=require("@raikou/core"),import_react6=__toESM(require("react")),import_hooks3=require("@raikou/hooks"),import_react5=__toESM(require("react")),import_hooks2=require("@raikou/hooks"),import_hooks=require("@raikou/hooks");function useResizeObserver(element,onResize){const handleResize=(0,import_hooks.useCallbackRef)(onResize);(0,import_hooks.useIsomorphicEffect)((()=>{let rAF=0;if(element){const resizeObserver=new ResizeObserver((()=>{cancelAnimationFrame(rAF),rAF=window.requestAnimationFrame(handleResize)}));return resizeObserver.observe(element),()=>{window.cancelAnimationFrame(rAF),resizeObserver.unobserve(element)}}}),[element,handleResize])}var[ScrollbarProvider,useScrollbarContext]=createSafeContext("ScrollAreaScrollbar was not found in tree");function isScrollingWithinScrollbarBounds(scrollPos,maxScrollPos){return scrollPos>0&&scrollPos<maxScrollPos}function getThumbRatio(viewportSize,contentSize){const ratio=viewportSize/contentSize;return Number.isNaN(ratio)?0:ratio}function getThumbSize(sizes){const ratio=getThumbRatio(sizes.viewport,sizes.content),scrollbarPadding=sizes.scrollbar.paddingStart+sizes.scrollbar.paddingEnd,thumbSize=(sizes.scrollbar.size-scrollbarPadding)*ratio;return Math.max(thumbSize,18)}function composeEventHandlers(originalEventHandler,ourEventHandler,{checkForDefaultPrevented:checkForDefaultPrevented=!0}={}){return event=>{null==originalEventHandler||originalEventHandler(event),!1!==checkForDefaultPrevented&&event.defaultPrevented||null==ourEventHandler||ourEventHandler(event)}}function toInt(value){return value?parseInt(value,10):0}function linearScale(input,output){return value=>{if(input[0]===input[1]||output[0]===output[1])return output[0];const ratio=(output[1]-output[0])/(input[1]-input[0]);return output[0]+ratio*(value-input[0])}}function clamp(value,[min,max]){return Math.min(max,Math.max(min,value))}function getThumbOffsetFromScroll(scrollPos,sizes,dir="ltr"){const thumbSizePx=getThumbSize(sizes),scrollbarPadding=sizes.scrollbar.paddingStart+sizes.scrollbar.paddingEnd,scrollbar=sizes.scrollbar.size-scrollbarPadding,maxScrollPos=sizes.content-sizes.viewport,maxThumbPos=scrollbar-thumbSizePx,scrollWithoutMomentum=clamp(scrollPos,"ltr"===dir?[0,maxScrollPos]:[-1*maxScrollPos,0]);return linearScale([0,maxScrollPos],[0,maxThumbPos])(scrollWithoutMomentum)}function getScrollPositionFromPointer(pointerPos,pointerOffset,sizes,dir="ltr"){const thumbSizePx=getThumbSize(sizes),offset=pointerOffset||thumbSizePx/2,thumbOffsetFromEnd=thumbSizePx-offset,minPointerPos=sizes.scrollbar.paddingStart+offset,maxPointerPos=sizes.scrollbar.size-sizes.scrollbar.paddingEnd-thumbOffsetFromEnd,maxScrollPos=sizes.content-sizes.viewport;return linearScale([minPointerPos,maxPointerPos],"ltr"===dir?[0,maxScrollPos]:[-1*maxScrollPos,0])(pointerPos)}function addUnlinkedScrollListener(node,handler=(()=>{})){let prevPosition={left:node.scrollLeft,top:node.scrollTop},rAF=0;return function loop(){const position={left:node.scrollLeft,top:node.scrollTop},isHorizontalScroll=prevPosition.left!==position.left,isVerticalScroll=prevPosition.top!==position.top;(isHorizontalScroll||isVerticalScroll)&&handler(),prevPosition=position,rAF=window.requestAnimationFrame(loop)}(),()=>window.cancelAnimationFrame(rAF)}var Scrollbar=(0,import_react5.forwardRef)(((props,forwardedRef)=>{const _a=props,{sizes:sizes,hasThumb:hasThumb,onThumbChange:onThumbChange,onThumbPointerUp:onThumbPointerUp,onThumbPointerDown:onThumbPointerDown,onThumbPositionChange:onThumbPositionChange,onDragScroll:onDragScroll,onWheelScroll:onWheelScroll,onResize:onResize}=_a,scrollbarProps=__objRest(_a,["sizes","hasThumb","onThumbChange","onThumbPointerUp","onThumbPointerDown","onThumbPositionChange","onDragScroll","onWheelScroll","onResize"]),context=useScrollAreaContext(),[scrollbar,setScrollbar]=import_react5.default.useState(null),composeRefs=(0,import_hooks2.useMergedRef)(forwardedRef,(node=>setScrollbar(node))),rectRef=import_react5.default.useRef(null),prevWebkitUserSelectRef=import_react5.default.useRef(""),{viewport:viewport}=context,maxScrollPos=sizes.content-sizes.viewport,handleWheelScroll=(0,import_hooks2.useCallbackRef)(onWheelScroll),handleThumbPositionChange=(0,import_hooks2.useCallbackRef)(onThumbPositionChange),handleResize=(0,import_hooks2.useDebouncedCallback)(onResize,10),handleDragScroll=event=>{if(rectRef.current){const x=event.clientX-rectRef.current.left,y=event.clientY-rectRef.current.top;onDragScroll({x:x,y:y})}};return(0,import_react5.useEffect)((()=>{const handleWheel=event=>{const element=event.target;(null==scrollbar?void 0:scrollbar.contains(element))&&handleWheelScroll(event,maxScrollPos)};return document.addEventListener("wheel",handleWheel,{passive:!1}),()=>document.removeEventListener("wheel",handleWheel,{passive:!1})}),[viewport,scrollbar,maxScrollPos,handleWheelScroll]),(0,import_react5.useEffect)(handleThumbPositionChange,[sizes,handleThumbPositionChange]),useResizeObserver(scrollbar,handleResize),useResizeObserver(context.content,handleResize),import_react5.default.createElement(ScrollbarProvider,{value:{scrollbar:scrollbar,hasThumb:hasThumb,onThumbChange:(0,import_hooks2.useCallbackRef)(onThumbChange),onThumbPointerUp:(0,import_hooks2.useCallbackRef)(onThumbPointerUp),onThumbPositionChange:handleThumbPositionChange,onThumbPointerDown:(0,import_hooks2.useCallbackRef)(onThumbPointerDown)}},import_react5.default.createElement("div",__spreadProps(__spreadValues({},scrollbarProps),{ref:composeRefs,style:__spreadValues({position:"absolute"},scrollbarProps.style),onPointerDown:composeEventHandlers(props.onPointerDown,(event=>{if(0===event.button){event.target.setPointerCapture(event.pointerId),rectRef.current=scrollbar.getBoundingClientRect(),prevWebkitUserSelectRef.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",handleDragScroll(event)}})),onPointerMove:composeEventHandlers(props.onPointerMove,handleDragScroll),onPointerUp:composeEventHandlers(props.onPointerUp,(event=>{const element=event.target;element.hasPointerCapture(event.pointerId)&&element.releasePointerCapture(event.pointerId),document.body.style.webkitUserSelect=prevWebkitUserSelectRef.current,rectRef.current=null}))})))}));Scrollbar.displayName="@raikou/Scrollbar";var ScrollAreaScrollbarX=(0,import_react6.forwardRef)(((props,forwardedRef)=>{const _a=props,{sizes:sizes,onSizesChange:onSizesChange,style:style}=_a,others=__objRest(_a,["sizes","onSizesChange","style"]),ctx=useScrollAreaContext(),[computedStyle,setComputedStyle]=(0,import_react6.useState)(),ref=(0,import_react6.useRef)(null),composeRefs=(0,import_hooks3.useMergedRef)(forwardedRef,ref,ctx.onScrollbarXChange);return(0,import_react6.useEffect)((()=>{ref.current&&setComputedStyle(getComputedStyle(ref.current))}),[ref]),import_react6.default.createElement(Scrollbar,__spreadProps(__spreadValues({"data-orientation":"horizontal"},others),{ref:composeRefs,sizes:sizes,style:__spreadProps(__spreadValues({},style),{"--sa-thumb-width":`${getThumbSize(sizes)}px`}),onThumbPointerDown:pointerPos=>props.onThumbPointerDown(pointerPos.x),onDragScroll:pointerPos=>props.onDragScroll(pointerPos.x),onWheelScroll:(event,maxScrollPos)=>{if(ctx.viewport){const scrollPos=ctx.viewport.scrollLeft+event.deltaX;props.onWheelScroll(scrollPos),isScrollingWithinScrollbarBounds(scrollPos,maxScrollPos)&&event.preventDefault()}},onResize:()=>{ref.current&&ctx.viewport&&computedStyle&&onSizesChange({content:ctx.viewport.scrollWidth,viewport:ctx.viewport.offsetWidth,scrollbar:{size:ref.current.clientWidth,paddingStart:toInt(computedStyle.paddingLeft),paddingEnd:toInt(computedStyle.paddingRight)}})}}))}));ScrollAreaScrollbarX.displayName="@raikou/core/ScrollAreaScrollbarX";var import_react7=__toESM(require("react")),import_hooks4=require("@raikou/hooks"),ScrollAreaScrollbarY=(0,import_react7.forwardRef)(((props,forwardedRef)=>{const _a=props,{sizes:sizes,onSizesChange:onSizesChange,style:style}=_a,others=__objRest(_a,["sizes","onSizesChange","style"]),context=useScrollAreaContext(),[computedStyle,setComputedStyle]=import_react7.default.useState(),ref=(0,import_react7.useRef)(null),composeRefs=(0,import_hooks4.useMergedRef)(forwardedRef,ref,context.onScrollbarYChange);return(0,import_react7.useEffect)((()=>{ref.current&&setComputedStyle(window.getComputedStyle(ref.current))}),[ref]),import_react7.default.createElement(Scrollbar,__spreadProps(__spreadValues({},others),{"data-orientation":"vertical",ref:composeRefs,sizes:sizes,style:__spreadValues({"--sa-thumb-height":`${getThumbSize(sizes)}px`},style),onThumbPointerDown:pointerPos=>props.onThumbPointerDown(pointerPos.y),onDragScroll:pointerPos=>props.onDragScroll(pointerPos.y),onWheelScroll:(event,maxScrollPos)=>{if(context.viewport){const scrollPos=context.viewport.scrollTop+event.deltaY;props.onWheelScroll(scrollPos),isScrollingWithinScrollbarBounds(scrollPos,maxScrollPos)&&event.preventDefault()}},onResize:()=>{ref.current&&context.viewport&&computedStyle&&onSizesChange({content:context.viewport.scrollHeight,viewport:context.viewport.offsetHeight,scrollbar:{size:ref.current.clientHeight,paddingStart:toInt(computedStyle.paddingTop),paddingEnd:toInt(computedStyle.paddingBottom)}})}}))}));ScrollAreaScrollbarY.displayName="@raikou/core/ScrollAreaScrollbarY";var ScrollAreaScrollbarVisible=(0,import_react8.forwardRef)(((props,forwardedRef)=>{const _a=props,{orientation:orientation="vertical"}=_a,scrollbarProps=__objRest(_a,["orientation"]),{dir:dir}=(0,import_core.useDirection)(),context=useScrollAreaContext(),thumbRef=(0,import_react8.useRef)(null),pointerOffsetRef=(0,import_react8.useRef)(0),[sizes,setSizes]=(0,import_react8.useState)({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),thumbRatio=getThumbRatio(sizes.viewport,sizes.content),commonProps=__spreadProps(__spreadValues({},scrollbarProps),{sizes:sizes,onSizesChange:setSizes,hasThumb:Boolean(thumbRatio>0&&thumbRatio<1),onThumbChange:thumb=>{thumbRef.current=thumb},onThumbPointerUp:()=>{pointerOffsetRef.current=0},onThumbPointerDown:pointerPos=>{pointerOffsetRef.current=pointerPos}}),getScrollPosition=(pointerPos,direction)=>getScrollPositionFromPointer(pointerPos,pointerOffsetRef.current,sizes,direction);return"horizontal"===orientation?import_react8.default.createElement(ScrollAreaScrollbarX,__spreadProps(__spreadValues({},commonProps),{ref:forwardedRef,onThumbPositionChange:()=>{if(context.viewport&&thumbRef.current){const offset=getThumbOffsetFromScroll(context.viewport.scrollLeft,sizes,dir);thumbRef.current.style.transform=`translate3d(${offset}px, 0, 0)`}},onWheelScroll:scrollPos=>{context.viewport&&(context.viewport.scrollLeft=scrollPos)},onDragScroll:pointerPos=>{context.viewport&&(context.viewport.scrollLeft=getScrollPosition(pointerPos,dir))}})):"vertical"===orientation?import_react8.default.createElement(ScrollAreaScrollbarY,__spreadProps(__spreadValues({},commonProps),{ref:forwardedRef,onThumbPositionChange:()=>{if(context.viewport&&thumbRef.current){const offset=getThumbOffsetFromScroll(context.viewport.scrollTop,sizes);0===sizes.scrollbar.size?thumbRef.current.style.opacity="0":thumbRef.current.style.opacity="1",thumbRef.current.style.transform=`translate3d(0, ${offset}px, 0)`}},onWheelScroll:scrollPos=>{context.viewport&&(context.viewport.scrollTop=scrollPos)},onDragScroll:pointerPos=>{context.viewport&&(context.viewport.scrollTop=getScrollPosition(pointerPos))}})):null}));ScrollAreaScrollbarVisible.displayName="@raikou/core/ScrollAreaScrollbarVisible";var import_react10=__toESM(require("react")),import_react9=__toESM(require("react")),import_hooks5=require("@raikou/hooks"),ScrollAreaScrollbarAuto=(0,import_react9.forwardRef)(((props,ref)=>{const context=useScrollAreaContext(),_a=props,{forceMount:forceMount}=_a,scrollbarProps=__objRest(_a,["forceMount"]),[visible,setVisible]=(0,import_react9.useState)(!1),isHorizontal="horizontal"===props.orientation,handleResize=(0,import_hooks5.useDebouncedCallback)((()=>{if(context.viewport){const isOverflowX=context.viewport.offsetWidth<context.viewport.scrollWidth,isOverflowY=context.viewport.offsetHeight<context.viewport.scrollHeight;setVisible(isHorizontal?isOverflowX:isOverflowY)}}),10);return useResizeObserver(context.viewport,handleResize),useResizeObserver(context.content,handleResize),forceMount||visible?import_react9.default.createElement(ScrollAreaScrollbarVisible,__spreadProps(__spreadValues({"data-state":visible?"visible":"hidden"},scrollbarProps),{ref:ref})):null}));ScrollAreaScrollbarAuto.displayName="@raikou/core/ScrollAreaScrollbarAuto";var ScrollAreaScrollbarHover=(0,import_react10.forwardRef)(((props,ref)=>{const _a=props,{forceMount:forceMount}=_a,scrollbarProps=__objRest(_a,["forceMount"]),context=useScrollAreaContext(),[visible,setVisible]=(0,import_react10.useState)(!1);return(0,import_react10.useEffect)((()=>{const{scrollArea:scrollArea}=context;let hideTimer=0;if(scrollArea){const handlePointerEnter=()=>{window.clearTimeout(hideTimer),setVisible(!0)},handlePointerLeave=()=>{hideTimer=window.setTimeout((()=>setVisible(!1)),context.scrollHideDelay)};return scrollArea.addEventListener("pointerenter",handlePointerEnter),scrollArea.addEventListener("pointerleave",handlePointerLeave),()=>{window.clearTimeout(hideTimer),scrollArea.removeEventListener("pointerenter",handlePointerEnter),scrollArea.removeEventListener("pointerleave",handlePointerLeave)}}}),[context.scrollArea,context.scrollHideDelay]),forceMount||visible?import_react10.default.createElement(ScrollAreaScrollbarAuto,__spreadProps(__spreadValues({"data-state":visible?"visible":"hidden"},scrollbarProps),{ref:ref})):null}));ScrollAreaScrollbarHover.displayName="@raikou/core/ScrollAreaScrollbarHover";var import_react11=__toESM(require("react")),import_hooks6=require("@raikou/hooks"),ScrollAreaScrollbarScroll=(0,import_react11.forwardRef)(((props,red)=>{const _a=props,{forceMount:forceMount}=_a,scrollbarProps=__objRest(_a,["forceMount"]),context=useScrollAreaContext(),isHorizontal="horizontal"===props.orientation,[state,setState]=(0,import_react11.useState)("hidden"),debounceScrollEnd=(0,import_hooks6.useDebouncedCallback)((()=>setState("idle")),100);return(0,import_react11.useEffect)((()=>{if("idle"===state){const hideTimer=window.setTimeout((()=>setState("hidden")),context.scrollHideDelay);return()=>window.clearTimeout(hideTimer)}}),[state,context.scrollHideDelay]),(0,import_react11.useEffect)((()=>{const{viewport:viewport}=context,scrollDirection=isHorizontal?"scrollLeft":"scrollTop";if(viewport){let prevScrollPos=viewport[scrollDirection];const handleScroll=()=>{const scrollPos=viewport[scrollDirection];prevScrollPos!==scrollPos&&(setState("scrolling"),debounceScrollEnd()),prevScrollPos=scrollPos};return viewport.addEventListener("scroll",handleScroll),()=>viewport.removeEventListener("scroll",handleScroll)}}),[context.viewport,isHorizontal,debounceScrollEnd]),forceMount||"hidden"!==state?import_react11.default.createElement(ScrollAreaScrollbarVisible,__spreadProps(__spreadValues({"data-state":"hidden"===state?"hidden":"visible"},scrollbarProps),{ref:red,onPointerEnter:composeEventHandlers(props.onPointerEnter,(()=>setState("interacting"))),onPointerLeave:composeEventHandlers(props.onPointerLeave,(()=>setState("idle")))})):null}));ScrollAreaScrollbarScroll.displayName="@raikou/core/ScrollAreaScrollbarScroll";var ScrollAreaScrollbar=import_react12.default.forwardRef(((props,forwardedRef)=>{const _a=props,{forceMount:forceMount}=_a,scrollbarProps=__objRest(_a,["forceMount"]),context=useScrollAreaContext(),{onScrollbarXEnabledChange:onScrollbarXEnabledChange,onScrollbarYEnabledChange:onScrollbarYEnabledChange}=context,isHorizontal="horizontal"===props.orientation;return import_react12.default.useEffect((()=>(isHorizontal?onScrollbarXEnabledChange(!0):onScrollbarYEnabledChange(!0),()=>{isHorizontal?onScrollbarXEnabledChange(!1):onScrollbarYEnabledChange(!1)})),[isHorizontal,onScrollbarXEnabledChange,onScrollbarYEnabledChange]),"hover"===context.type?import_react12.default.createElement(ScrollAreaScrollbarHover,__spreadProps(__spreadValues({},scrollbarProps),{ref:forwardedRef,forceMount:forceMount})):"scroll"===context.type?import_react12.default.createElement(ScrollAreaScrollbarScroll,__spreadProps(__spreadValues({},scrollbarProps),{ref:forwardedRef,forceMount:forceMount})):"auto"===context.type?import_react12.default.createElement(ScrollAreaScrollbarAuto,__spreadProps(__spreadValues({},scrollbarProps),{ref:forwardedRef,forceMount:forceMount})):"always"===context.type?import_react12.default.createElement(ScrollAreaScrollbarVisible,__spreadProps(__spreadValues({},scrollbarProps),{ref:forwardedRef})):null}));ScrollAreaScrollbar.displayName="@raikou/core/ScrollAreaScrollbar";var import_react13=__toESM(require("react")),Corner=import_react13.default.forwardRef(((props,ref)=>{const _a=props,{style:style}=_a,others=__objRest(_a,["style"]),ctx=useScrollAreaContext(),[width,setWidth]=import_react13.default.useState(0),[height,setHeight]=import_react13.default.useState(0),hasSize=Boolean(width&&height);return useResizeObserver(ctx.scrollbarX,(()=>{var _a2;const h=(null==(_a2=ctx.scrollbarX)?void 0:_a2.offsetHeight)||0;ctx.onCornerHeightChange(h),setHeight(h)})),useResizeObserver(ctx.scrollbarY,(()=>{var _a2;const w=(null==(_a2=ctx.scrollbarY)?void 0:_a2.offsetWidth)||0;ctx.onCornerWidthChange(w),setWidth(w)})),hasSize?import_react13.default.createElement("div",__spreadProps(__spreadValues({},others),{ref:ref,style:__spreadProps(__spreadValues({},style),{width:width,height:height})})):null}));Corner.displayName="@raikou/core/Corner";var ScrollAreaCorner=import_react13.default.forwardRef(((props,ref)=>{const ctx=useScrollAreaContext(),hasBothScrollbarsVisible=Boolean(ctx.scrollbarX&&ctx.scrollbarY);return"scroll"!==ctx.type&&hasBothScrollbarsVisible?import_react13.default.createElement(Corner,__spreadProps(__spreadValues({},props),{ref:ref})):null}));ScrollAreaCorner.displayName="@raikou/core/ScrollAreaCorner";var import_react14=__toESM(require("react")),import_hooks7=require("@raikou/hooks"),import_core2=require("@raikou/core"),defaultProps={scrollHideDelay:1e3,type:"hover"},ScrollAreaRoot=(0,import_react14.forwardRef)(((_props,ref)=>{const _a=(0,import_core2.useProps)("ScrollAreaRoot",defaultProps,_props),{type:type,scrollHideDelay:scrollHideDelay,scrollbars:scrollbars}=_a,others=__objRest(_a,["type","scrollHideDelay","scrollbars"]),[scrollArea,setScrollArea]=(0,import_react14.useState)(null),[viewport,setViewport]=(0,import_react14.useState)(null),[content,setContent]=(0,import_react14.useState)(null),[scrollbarX,setScrollbarX]=(0,import_react14.useState)(null),[scrollbarY,setScrollbarY]=(0,import_react14.useState)(null),[cornerWidth,setCornerWidth]=(0,import_react14.useState)(0),[cornerHeight,setCornerHeight]=(0,import_react14.useState)(0),[scrollbarXEnabled,setScrollbarXEnabled]=(0,import_react14.useState)(!1),[scrollbarYEnabled,setScrollbarYEnabled]=(0,import_react14.useState)(!1),rootRef=(0,import_hooks7.useMergedRef)(ref,(node=>setScrollArea(node)));return import_react14.default.createElement(ScrollAreaProvider,{value:{type:type,scrollHideDelay:scrollHideDelay,scrollArea:scrollArea,viewport:viewport,onViewportChange:setViewport,content:content,onContentChange:setContent,scrollbarX:scrollbarX,onScrollbarXChange:setScrollbarX,scrollbarXEnabled:scrollbarXEnabled,onScrollbarXEnabledChange:setScrollbarXEnabled,scrollbarY:scrollbarY,onScrollbarYChange:setScrollbarY,scrollbarYEnabled:scrollbarYEnabled,onScrollbarYEnabledChange:setScrollbarYEnabled,onCornerWidthChange:setCornerWidth,onCornerHeightChange:setCornerHeight}},import_react14.default.createElement(import_core2.Box,__spreadProps(__spreadValues({},others),{ref:rootRef,__vars:{"--sa-corner-width":"xy"!==scrollbars?"0px":`${cornerWidth}px`,"--sa-corner-height":"xy"!==scrollbars?"0px":`${cornerHeight}px`}})))}));ScrollAreaRoot.displayName="@raikou/core/ScrollAreaRoot";var import_react15=__toESM(require("react")),import_hooks8=require("@raikou/hooks"),import_core3=require("@raikou/core"),ScrollAreaViewport=(0,import_react15.forwardRef)(((_a,ref)=>{var _b=_a,{children:children,style:style}=_b,others=__objRest(_b,["children","style"]);const ctx=useScrollAreaContext(),rootRef=(0,import_hooks8.useMergedRef)(ref,ctx.onViewportChange);return import_react15.default.createElement(import_core3.Box,__spreadProps(__spreadValues({},others),{ref:rootRef,style:__spreadValues({overflowX:ctx.scrollbarXEnabled?"scroll":"hidden",overflowY:ctx.scrollbarYEnabled?"scroll":"hidden"},style)}),import_react15.default.createElement("div",{style:{minWidth:"100%",display:"table"},ref:ctx.onContentChange},children))}));ScrollAreaViewport.displayName="@raikou/core/ScrollAreaViewport";var import_react16=__toESM(require("react")),import_hooks9=require("@raikou/hooks"),Thumb=(0,import_react16.forwardRef)(((props,forwardedRef)=>{const _a=props,{style:style}=_a,others=__objRest(_a,["style"]),scrollAreaContext=useScrollAreaContext(),scrollbarContext=useScrollbarContext(),{onThumbPositionChange:onThumbPositionChange}=scrollbarContext,composedRef=(0,import_hooks9.useMergedRef)(forwardedRef,(node=>scrollbarContext.onThumbChange(node))),removeUnlinkedScrollListenerRef=(0,import_react16.useRef)(),debounceScrollEnd=(0,import_hooks9.useDebouncedCallback)((()=>{removeUnlinkedScrollListenerRef.current&&(removeUnlinkedScrollListenerRef.current(),removeUnlinkedScrollListenerRef.current=void 0)}),100);return(0,import_react16.useEffect)((()=>{const{viewport:viewport}=scrollAreaContext;if(viewport){const handleScroll=()=>{if(debounceScrollEnd(),!removeUnlinkedScrollListenerRef.current){const listener=addUnlinkedScrollListener(viewport,onThumbPositionChange);removeUnlinkedScrollListenerRef.current=listener,onThumbPositionChange()}};return onThumbPositionChange(),viewport.addEventListener("scroll",handleScroll),()=>viewport.removeEventListener("scroll",handleScroll)}}),[scrollAreaContext.viewport,debounceScrollEnd,onThumbPositionChange]),import_react16.default.createElement("div",__spreadProps(__spreadValues({"data-state":scrollbarContext.hasThumb?"visible":"hidden"},others),{ref:composedRef,style:__spreadValues({width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)"},style),onPointerDownCapture:composeEventHandlers(props.onPointerDownCapture,(event=>{const thumbRect=event.target.getBoundingClientRect(),x=event.clientX-thumbRect.left,y=event.clientY-thumbRect.top;scrollbarContext.onThumbPointerDown({x:x,y:y})})),onPointerUp:composeEventHandlers(props.onPointerUp,scrollbarContext.onThumbPointerUp)}))})),ScrollAreaThumb=import_react16.default.forwardRef(((props,forwardedRef)=>{const _a=props,{forceMount:forceMount}=_a,thumbProps=__objRest(_a,["forceMount"]),scrollbarContext=useScrollbarContext();return forceMount||scrollbarContext.hasThumb?import_react16.default.createElement(Thumb,__spreadValues({ref:forwardedRef},thumbProps)):null})),ScrollArea_module_default={root:"m-d57069b5",viewport:"m-c0783ff9",viewportInner:"m-f8f631dd",scrollbar:"m-c44ba933",thumb:"m-d8b5e363",corner:"m-21657268"},defaultProps2={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},varsResolver=(0,import_core4.createVarsResolver)(((_,{scrollbarSize:scrollbarSize})=>({root:{"--scrollarea-scrollbar-size":(0,import_core4.rem)(scrollbarSize)}}))),ScrollArea=(0,import_core4.factory)(((_props,ref)=>{const props=(0,import_core4.useProps)("ScrollArea",defaultProps2,_props),_a=props,{classNames:classNames,className:className,style:style,styles:styles,unstyled:unstyled,scrollbarSize:scrollbarSize,vars:vars,type:type,scrollHideDelay:scrollHideDelay,viewportProps:viewportProps,viewportRef:viewportRef,onScrollPositionChange:onScrollPositionChange,children:children,offsetScrollbars:offsetScrollbars,scrollbars:scrollbars}=_a,others=__objRest(_a,["classNames","className","style","styles","unstyled","scrollbarSize","vars","type","scrollHideDelay","viewportProps","viewportRef","onScrollPositionChange","children","offsetScrollbars","scrollbars"]),[scrollbarHovered,setScrollbarHovered]=(0,import_react17.useState)(!1),getStyles=(0,import_core4.useStyles)({name:"ScrollArea",props:props,classes:ScrollArea_module_default,className:className,style:style,classNames:classNames,styles:styles,unstyled:unstyled,vars:vars,varsResolver:varsResolver});return import_react17.default.createElement(ScrollAreaRoot,__spreadValues(__spreadValues({type:"never"===type?"always":type,scrollHideDelay:scrollHideDelay,ref:ref,scrollbars:scrollbars},getStyles("root")),others),import_react17.default.createElement(ScrollAreaViewport,__spreadProps(__spreadValues(__spreadValues({},viewportProps),getStyles("viewport")),{ref:viewportRef,"data-offset-scrollbars":offsetScrollbars||void 0,"data-scrollbars":scrollbars||void 0,onScroll:"function"==typeof onScrollPositionChange?({currentTarget:currentTarget})=>onScrollPositionChange({x:currentTarget.scrollLeft,y:currentTarget.scrollTop}):void 0}),children),("xy"===scrollbars||"x"===scrollbars)&&import_react17.default.createElement(ScrollAreaScrollbar,__spreadProps(__spreadValues({},getStyles("scrollbar")),{orientation:"horizontal","data-hidden":"never"===type||void 0,forceMount:!0,onMouseEnter:()=>setScrollbarHovered(!0),onMouseLeave:()=>setScrollbarHovered(!1)}),import_react17.default.createElement(ScrollAreaThumb,__spreadValues({},getStyles("thumb")))),("xy"===scrollbars||"y"===scrollbars)&&import_react17.default.createElement(ScrollAreaScrollbar,__spreadProps(__spreadValues({},getStyles("scrollbar")),{orientation:"vertical","data-hidden":"never"===type||void 0,forceMount:!0,onMouseEnter:()=>setScrollbarHovered(!0),onMouseLeave:()=>setScrollbarHovered(!1)}),import_react17.default.createElement(ScrollAreaThumb,__spreadValues({},getStyles("thumb")))),import_react17.default.createElement(ScrollAreaCorner,__spreadProps(__spreadValues({},getStyles("corner")),{"data-hovered":scrollbarHovered||void 0,"data-hidden":"never"===type||void 0})))}));ScrollArea.displayName="@raikou/core/ScrollArea";var ScrollAreaAutosize=(0,import_core4.factory)(((props,ref)=>{const _a=(0,import_core4.useProps)("ScrollAreaAutosize",defaultProps2,props),{children:children,classNames:classNames,styles:styles,scrollbarSize:scrollbarSize,scrollHideDelay:scrollHideDelay,type:type,dir:dir,offsetScrollbars:offsetScrollbars,viewportRef:viewportRef,onScrollPositionChange:onScrollPositionChange,unstyled:unstyled,variant:variant,viewportProps:viewportProps,scrollbars:scrollbars,style:style,vars:vars}=_a,others=__objRest(_a,["children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","variant","viewportProps","scrollbars","style","vars"]);return import_react17.default.createElement(import_core4.Box,__spreadProps(__spreadValues({},others),{ref:ref,style:[{display:"flex"},style]}),import_react17.default.createElement(import_core4.Box,{style:{display:"flex",flexDirection:"column",flex:1}},import_react17.default.createElement(ScrollArea,{classNames:classNames,styles:styles,scrollHideDelay:scrollHideDelay,scrollbarSize:scrollbarSize,type:type,dir:dir,offsetScrollbars:offsetScrollbars,viewportRef:viewportRef,onScrollPositionChange:onScrollPositionChange,unstyled:unstyled,variant:variant,viewportProps:viewportProps,vars:vars,scrollbars:scrollbars},children)))}));ScrollArea.classes=ScrollArea_module_default,ScrollAreaAutosize.displayName="@raikou/core/ScrollAreaAutosize",ScrollArea.Autosize=ScrollAreaAutosize;