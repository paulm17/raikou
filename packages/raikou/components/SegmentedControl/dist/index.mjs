var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t=t||{})__hasOwnProp.call(t,r)&&__defNormalProp(e,r,t[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(t))__propIsEnum.call(t,r)&&__defNormalProp(e,r,t[r]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t)),__objRest=(e,t)=>{var r={};for(a in e)__hasOwnProp.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&__getOwnPropSymbols)for(var a of __getOwnPropSymbols(e))t.indexOf(a)<0&&__propIsEnum.call(e,a)&&(r[a]=e[a]);return r};import React,{useEffect,useRef,useState}from"react";import{useId,useMergedRef,useResizeObserver,useUncontrolled,useTimeout}from"@raikou/hooks";import{Box,factory,useProps,useStyles,getRadius,getThemeColor,getSize,getFontSize,useDirection,createVarsResolver,useRaikouTheme}from"@raikou/core";function getPaddingValue(e,t){e=parseFloat(e.replace("px",""));return Number.isNaN(e)?t:e}function getRootPadding(e,t){e=window.getComputedStyle(e);return{top:getPaddingValue(e.getPropertyValue("padding-top"),t),right:getPaddingValue(e.getPropertyValue("padding-right"),t),bottom:getPaddingValue(e.getPropertyValue("padding-bottom"),t),left:getPaddingValue(e.getPropertyValue("padding-left"),t)}}var SegmentedControl_module_default={root:"m-cf365364",indicator:"m-9e182ccd",label:"m-1738fcb2",input:"m-1714d588",control:"m-69686b9b"},WRAPPER_PADDING=4,defaultProps={},varsResolver=createVarsResolver((e,{radius:t,color:r,transitionDuration:a,size:o,transitionTimingFunction:s})=>({root:{"--sc-radius":void 0===t?void 0:getRadius(t),"--sc-color":r?getThemeColor(r,e):void 0,"--sc-shadow":r?void 0:"var(--raikou-shadow-xs)","--sc-transition-duration":void 0===a?void 0:a+"ms","--sc-transition-timing-function":s,"--sc-padding":getSize(o,"sc-padding"),"--sc-font-size":getFontSize(o)}})),SegmentedControl=factory((e,t)=>{e=useProps("SegmentedControl",defaultProps,e);const r=e,{classNames:a,className:o,style:s,styles:l,unstyled:n,vars:i,data:d,value:u,defaultValue:p,onChange:c,size:_,name:g,disabled:m,readOnly:f,fullWidth:v,orientation:P,color:h,variant:b}=r,y=__objRest(r,["classNames","className","style","styles","unstyled","vars","data","value","defaultValue","onChange","size","name","disabled","readOnly","fullWidth","orientation","radius","color","transitionDuration","transitionTimingFunction","variant"]),R=useStyles({name:"SegmentedControl",props:e,classes:SegmentedControl_module_default,className:o,style:s,classNames:a,styles:l,unstyled:n,vars:i,varsResolver:varsResolver}),w=useDirection()["dir"],S=useRaikouTheme();e=d.map(e=>"string"==typeof e?{label:e,value:e}:e);const[O,V]=useUncontrolled({value:u,defaultValue:p,finalValue:Array.isArray(d)&&null!=(T=null!=(T=null==(T=e.find(e=>!e.disabled))?void 0:T.value)?T:null==(T=d[0])?void 0:T.value)?T:null,onChange:c}),[C,E]=useState({width:0,height:0,translate:[0,0]}),N=useId(g),x=useRef({}),z=useRef(null),[k,j]=useState(!1),[D,I]=useResizeObserver();useEffect(()=>{var e,t,r,a,o,s;O in x.current&&D.current&&((e=x.current[O])?(t=getRootPadding(z.current,WRAPPER_PADDING),a=e.getBoundingClientRect(),a=e.offsetWidth/a.width,r=e.clientWidth*a||0,a=e.clientHeight*a||0,o=I.width-e.parentElement.offsetLeft+("rtl"===w?t.left:t.right)-r,s=e.parentElement.offsetLeft-("rtl"===w?t.right:t.left),E({width:r,height:a,translate:["rtl"===w?-1*o:s,e.parentElement.offsetTop-t.top]})):E({width:0,height:0,translate:[0,0]}))},[O,I,w,D]),useTimeout(()=>j(!0),20,{autoInvoke:!0});var T=e.map(t=>React.createElement(Box,__spreadProps(__spreadValues({},R("control")),{mod:{active:O===t.value,orientation:P},key:t.value}),React.createElement("input",__spreadProps(__spreadValues({},R("input")),{disabled:m||t.disabled,type:"radio",name:N,value:t.value,id:N+"-"+t.value,checked:O===t.value,onChange:()=>!f&&V(t.value),"data-focus-ring":S.focusRing})),React.createElement(Box,__spreadProps(__spreadValues({component:"label"},R("label")),{mod:{active:O===t.value&&!(m||t.disabled),disabled:m||t.disabled},htmlFor:N+"-"+t.value,ref:e=>{x.current[t.value]=e},__vars:{"--sc-label-color":void 0!==h?"var(--raikou-color-white)":void 0}}),t.label))),e=useMergedRef(D,z,t);return 0===d.length?null:React.createElement(Box,__spreadProps(__spreadValues(__spreadProps(__spreadValues({},R("root")),{variant:b,size:_,ref:e,mod:{"full-width":v,orientation:P,initialization:!k}}),y),{role:"radiogroup"}),"string"==typeof O&&React.createElement(Box,__spreadProps(__spreadValues({component:"span"},R("indicator")),{__vars:{"--sc-indicator-width":C.width+"px","--sc-indicator-height":C.height+"px","--sc-indicator-transform":`translate(${C.translate[0]}px, ${C.translate[1]}px)`}})),T)});SegmentedControl.classes=SegmentedControl_module_default,SegmentedControl.displayName="@raikou/core/SegmentedControl";export{SegmentedControl};