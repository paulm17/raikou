"use strict";var __create=Object.create,__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropSymbols=Object.getOwnPropertySymbols,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(r,e,o)=>e in r?__defProp(r,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[e]=o,__spreadValues=(r,e)=>{for(var o in e=e||{})__hasOwnProp.call(e,o)&&__defNormalProp(r,o,e[o]);if(__getOwnPropSymbols)for(var o of __getOwnPropSymbols(e))__propIsEnum.call(e,o)&&__defNormalProp(r,o,e[o]);return r},__spreadProps=(r,e)=>__defProps(r,__getOwnPropDescs(e)),__objRest=(r,e)=>{var o={};for(t in r)__hasOwnProp.call(r,t)&&e.indexOf(t)<0&&(o[t]=r[t]);if(null!=r&&__getOwnPropSymbols)for(var t of __getOwnPropSymbols(r))e.indexOf(t)<0&&__propIsEnum.call(r,t)&&(o[t]=r[t]);return o},__export=(r,e)=>{for(var o in e)__defProp(r,o,{get:e[o],enumerable:!0})},__copyProps=(e,o,t,a)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let r of __getOwnPropNames(o))__hasOwnProp.call(e,r)||r===t||__defProp(e,r,{get:()=>o[r],enumerable:!(a=__getOwnPropDesc(o,r))||a.enumerable});return e},__toESM=(r,e,o)=>(o=null!=r?__create(__getProtoOf(r)):{},__copyProps(!e&&r&&r.__esModule?o:__defProp(o,"default",{value:r,enumerable:!0}),r)),__toCommonJS=r=>__copyProps(__defProp({},"__esModule",{value:!0}),r),src_exports={},import_react=(__export(src_exports,{FloatingArrow:()=>FloatingArrow,getFloatingPosition:()=>getFloatingPosition,useDelayedHover:()=>useDelayedHover,useFloatingAutoUpdate:()=>useFloatingAutoUpdate}),module.exports=__toCommonJS(src_exports),require("react"));function useDelayedHover({open:r,close:e,openDelay:o,closeDelay:t}){const a=(0,import_react.useRef)(-1),i=(0,import_react.useRef)(-1),s=()=>{window.clearTimeout(a.current),window.clearTimeout(i.current)};return(0,import_react.useEffect)(()=>s,[]),{openDropdown:()=>{s(),0===o?r():a.current=window.setTimeout(r,o)},closeDropdown:()=>{s(),0===t?e():i.current=window.setTimeout(e,t)}}}var import_react2=require("react"),import_react3=require("@floating-ui/react"),import_hooks=require("@raikou/hooks");function useFloatingAutoUpdate({opened:r,floating:e,position:o,positionDependencies:t}){const[a,i]=(0,import_react2.useState)(0);(0,import_react2.useEffect)(()=>{if(e.refs.reference.current&&e.refs.floating.current)return(0,import_react3.autoUpdate)(e.refs.reference.current,e.refs.floating.current,e.update)},[e.refs.reference.current,e.refs.floating.current,r,a,o]),(0,import_hooks.useDidUpdate)(()=>{e.update()},t),(0,import_hooks.useDidUpdate)(()=>{i(r=>r+1)},[r])}function getFloatingPosition(r,e){var o;return"rtl"===r&&(e.includes("right")||e.includes("left"))?([r,o]=e.split("-"),r="right"===r?"left":"right",void 0===o?r:r+"-"+o):e}var import_react4=__toESM(require("react")),import_core2=require("@raikou/core"),import_core=require("@raikou/core");function horizontalSide(r,e,o,t){return"center"===r||"center"===t?{top:e}:"end"===r?{bottom:o}:"start"===r?{top:o}:{}}function verticalSide(r,e,o,t,a){return"center"===r||"center"===t?{left:e}:"end"===r?{["ltr"===a?"right":"left"]:o}:"start"===r?{["ltr"===a?"left":"right"]:o}:{}}var radiusByFloatingSide={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function getArrowPositionStyles({position:r,arrowSize:e,arrowOffset:o,arrowRadius:t,arrowPosition:a,arrowX:i,arrowY:s,dir:n}){var[r,_="center"]=r.split("-"),t={width:(0,import_core.rem)(e),height:(0,import_core.rem)(e),transform:"rotate(45deg)",position:"absolute",[radiusByFloatingSide[r]]:(0,import_core.rem)(t)},e=(0,import_core.rem)(-e/2);return"left"===r?__spreadProps(__spreadValues(__spreadValues({},t),horizontalSide(_,s,o,a)),{right:e,borderLeftColor:"transparent",borderBottomColor:"transparent"}):"right"===r?__spreadProps(__spreadValues(__spreadValues({},t),horizontalSide(_,s,o,a)),{left:e,borderRightColor:"transparent",borderTopColor:"transparent"}):"top"===r?__spreadProps(__spreadValues(__spreadValues({},t),verticalSide(_,i,o,a,n)),{bottom:e,borderTopColor:"transparent",borderLeftColor:"transparent"}):"bottom"===r?__spreadProps(__spreadValues(__spreadValues({},t),verticalSide(_,i,o,a,n)),{top:e,borderBottomColor:"transparent",borderRightColor:"transparent"}):{}}var FloatingArrow=(0,import_react4.forwardRef)((r,e)=>{var{position:o,arrowSize:t,arrowOffset:a,arrowRadius:i,arrowPosition:s,visible:n,arrowX:_,arrowY:p,style:l}=r,r=__objRest(r,["position","arrowSize","arrowOffset","arrowRadius","arrowPosition","visible","arrowX","arrowY","style"]),u=(0,import_core2.useDirection)()["dir"];return n?import_react4.default.createElement("div",__spreadProps(__spreadValues({},r),{ref:e,style:__spreadValues(__spreadValues({},l),getArrowPositionStyles({position:o,arrowSize:t,arrowOffset:a,arrowRadius:i,arrowPosition:s,dir:u,arrowX:_,arrowY:p}))})):null});FloatingArrow.displayName="@raikou/core/FloatingArrow";