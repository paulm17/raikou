var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(r,e,o)=>e in r?__defProp(r,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[e]=o,__spreadValues=(r,e)=>{for(var o in e=e||{})__hasOwnProp.call(e,o)&&__defNormalProp(r,o,e[o]);if(__getOwnPropSymbols)for(var o of __getOwnPropSymbols(e))__propIsEnum.call(e,o)&&__defNormalProp(r,o,e[o]);return r},__spreadProps=(r,e)=>__defProps(r,__getOwnPropDescs(e)),__objRest=(r,e)=>{var o={};for(t in r)__hasOwnProp.call(r,t)&&e.indexOf(t)<0&&(o[t]=r[t]);if(null!=r&&__getOwnPropSymbols)for(var t of __getOwnPropSymbols(r))e.indexOf(t)<0&&__propIsEnum.call(r,t)&&(o[t]=r[t]);return o};import{useRef,useEffect}from"react";function useDelayedHover({open:r,close:e,openDelay:o,closeDelay:t}){const a=useRef(-1),i=useRef(-1),s=()=>{window.clearTimeout(a.current),window.clearTimeout(i.current)};return useEffect(()=>s,[]),{openDropdown:()=>{s(),0===o?r():a.current=window.setTimeout(r,o)},closeDropdown:()=>{s(),0===t?e():i.current=window.setTimeout(e,t)}}}import{useState,useEffect as useEffect2}from"react";import{autoUpdate}from"@floating-ui/react";import{useDidUpdate}from"@raikou/hooks";function useFloatingAutoUpdate({opened:r,floating:e,position:o,positionDependencies:t}){const[a,i]=useState(0);useEffect2(()=>{if(e.refs.reference.current&&e.refs.floating.current)return autoUpdate(e.refs.reference.current,e.refs.floating.current,e.update)},[e.refs.reference.current,e.refs.floating.current,r,a,o]),useDidUpdate(()=>{e.update()},t),useDidUpdate(()=>{i(r=>r+1)},[r])}function getFloatingPosition(r,e){var o;return"rtl"===r&&(e.includes("right")||e.includes("left"))?([r,o]=e.split("-"),r="right"===r?"left":"right",void 0===o?r:r+"-"+o):e}import React,{forwardRef}from"react";import{useDirection}from"@raikou/core";import{rem}from"@raikou/core";function horizontalSide(r,e,o,t){return"center"===r||"center"===t?{top:e}:"end"===r?{bottom:o}:"start"===r?{top:o}:{}}function verticalSide(r,e,o,t,a){return"center"===r||"center"===t?{left:e}:"end"===r?{["ltr"===a?"right":"left"]:o}:"start"===r?{["ltr"===a?"left":"right"]:o}:{}}var radiusByFloatingSide={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function getArrowPositionStyles({position:r,arrowSize:e,arrowOffset:o,arrowRadius:t,arrowPosition:a,arrowX:i,arrowY:s,dir:n}){var[r,p="center"]=r.split("-"),t={width:rem(e),height:rem(e),transform:"rotate(45deg)",position:"absolute",[radiusByFloatingSide[r]]:rem(t)},e=rem(-e/2);return"left"===r?__spreadProps(__spreadValues(__spreadValues({},t),horizontalSide(p,s,o,a)),{right:e,borderLeftColor:"transparent",borderBottomColor:"transparent"}):"right"===r?__spreadProps(__spreadValues(__spreadValues({},t),horizontalSide(p,s,o,a)),{left:e,borderRightColor:"transparent",borderTopColor:"transparent"}):"top"===r?__spreadProps(__spreadValues(__spreadValues({},t),verticalSide(p,i,o,a,n)),{bottom:e,borderTopColor:"transparent",borderLeftColor:"transparent"}):"bottom"===r?__spreadProps(__spreadValues(__spreadValues({},t),verticalSide(p,i,o,a,n)),{top:e,borderBottomColor:"transparent",borderRightColor:"transparent"}):{}}var FloatingArrow=forwardRef((r,e)=>{var{position:o,arrowSize:t,arrowOffset:a,arrowRadius:i,arrowPosition:s,visible:n,arrowX:p,arrowY:l,style:d}=r,r=__objRest(r,["position","arrowSize","arrowOffset","arrowRadius","arrowPosition","visible","arrowX","arrowY","style"]),u=useDirection()["dir"];return n?React.createElement("div",__spreadProps(__spreadValues({},r),{ref:e,style:__spreadValues(__spreadValues({},d),getArrowPositionStyles({position:o,arrowSize:t,arrowOffset:a,arrowRadius:i,arrowPosition:s,dir:u,arrowX:p,arrowY:l}))})):null});FloatingArrow.displayName="@raikou/core/FloatingArrow";export{FloatingArrow,getFloatingPosition,useDelayedHover,useFloatingAutoUpdate};