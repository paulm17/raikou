"use strict";"use client";var __create=Object.create;var __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __getProtoOf=Object.getPrototypeOf;var __hasOwnProp=Object.prototype.hasOwnProperty;var __export=(target,all)=>{for(var name in all)
__defProp(target,name,{get:all[name],enumerable:true});};var __copyProps=(to,from,except,desc)=>{if(from&&typeof from==="object"||typeof from==="function"){for(let key of __getOwnPropNames(from))
if(!__hasOwnProp.call(to,key)&&key!==except)
__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});}
return to;};var __toESM=(mod,isNodeMode,target)=>(target=mod!=null?__create(__getProtoOf(mod)):{},__copyProps(isNodeMode||!mod||!mod.__esModule?__defProp(target,"default",{value:mod,enumerable:true}):target,mod));var __toCommonJS=(mod)=>__copyProps(__defProp({},"__esModule",{value:true}),mod);var src_exports={};__export(src_exports,{DirectionContext:()=>DirectionContext,DirectionProvider:()=>DirectionProvider,RaikouProvider:()=>RaikouProvider,createCSSVariables:()=>createCSSVariables,useColorScheme:()=>useColorScheme,useDirection:()=>useDirection});module.exports=__toCommonJS(src_exports);var import_next_themes=require("next-themes");function useColorScheme(){const{theme:colorScheme,themes:allThemes,setTheme:setColorScheme}=(0,import_next_themes.useTheme)();return{colorScheme:colorScheme||"system",allThemes,setColorScheme};}
function cssNestedVariablesObjectToString(variables){let cssString="";for(const nestedSelector in variables){cssString+=`${nestedSelector}:${variables[nestedSelector]}`;}
return cssString.trim();}
function wrapWithSelector(selectors,code){const _selectors=Array.isArray(selectors)?selectors:[selectors];return _selectors.reduce((acc,selector)=>`${selector}{${acc}}`,code);}
function convertCssNestedVariables(input,selector){let darkForced="";for(const nestedSelector in input.dark){const dark=cssNestedVariablesObjectToString(input.dark[nestedSelector]);if(dark){darkForced+=wrapWithSelector(`${selector}[data-raikou-color-scheme="dark"]${nestedSelector}`,dark);}}
let lightForced="";for(const nestedSelector in input.light){const light=cssNestedVariablesObjectToString(input.light[nestedSelector]);if(light){lightForced+=wrapWithSelector(`${selector}[data-raikou-color-scheme="light"]${nestedSelector}`,light);}}
return`${darkForced}${lightForced}`;}
function getColorSchemeCssVariables(selector){return`${selector}[data-raikou-color-scheme="dark"]{--raikou-color-scheme:dark;}
${selector}[data-raikou-color-scheme="light"]{--raikou-color-scheme:light;}`;}
function createCSSVariables({theme,cssVariablesResolver:generator,cssVariablesSelector=":root"}){const shouldCleanVariables=cssVariablesSelector===":root";let css2="";if(generator){const providerGeneratorFunc=new Function("theme",generator);const providerGenerator=providerGeneratorFunc==null?void 0:providerGeneratorFunc(theme);css2=convertCssNestedVariables(providerGenerator,cssVariablesSelector);}
var elem=document.querySelector('style[data-raikou-styles="system"]');elem==null?void 0:elem.remove();var newElem=document.createElement("style");newElem.setAttribute("data-raikou-styles","system");newElem.innerHTML=`${css2}${shouldCleanVariables?"":getColorSchemeCssVariables(cssVariablesSelector)}`;document.body.prepend(newElem);return null;}
var import_react=__toESM(require("react"));var import_next_themes2=require("next-themes");function suppressNextjsWarning(){const originalError=console.error;console.error=(...args)=>{if(args.length>1&&typeof args[0]==="string"&&args[0].toLowerCase().includes("extra attributes from the server")&&typeof args[1]==="string"&&args[1].toLowerCase().includes("data-raikou-color-scheme")){}else{originalError(...args);}};}
var import_global_store=require("@raikou/global-store");suppressNextjsWarning();function RaikouProvider({theme,defaultColorScheme,themeStorageKey="raikou-color-scheme",children}){if(typeof window!=="undefined"){window["raikou_theme"]=theme;}else{(0,import_global_store.setState)(theme);}
return import_react.default.createElement(import_next_themes2.ThemeProvider,{storageKey:themeStorageKey,themes:["light","dark"],attribute:`data-${themeStorageKey}`,enableColorScheme:false,forcedTheme:defaultColorScheme?defaultColorScheme:void 0},children);}
var import_react3=__toESM(require("react"));var import_react2=require("react");var useIsomorphicEffect=typeof document!=="undefined"?import_react2.useLayoutEffect:import_react2.useEffect;var DirectionContext=(0,import_react3.createContext)({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function useDirection(){return(0,import_react3.useContext)(DirectionContext);}
function DirectionProvider({children,initialDirection="ltr",detectDirection=true}){const[dir,setDir]=(0,import_react3.useState)(initialDirection);const setDirection=(direction)=>{setDir(direction);document.documentElement.setAttribute("dir",direction);};const toggleDirection=()=>setDirection(dir==="ltr"?"rtl":"ltr");useIsomorphicEffect(()=>{if(detectDirection){const direction=document.documentElement.getAttribute("dir");if(direction==="rtl"||direction==="ltr"){setDirection(direction);}}},[]);return import_react3.default.createElement(DirectionContext.Provider,{value:{dir,toggleDirection,setDirection}},children);}
0&&(module.exports={DirectionContext,DirectionProvider,RaikouProvider,createCSSVariables,useColorScheme,useDirection});