{"version":3,"sources":["../src/index.ts","../src/DataTable.tsx","../../components/Table/src/Table.tsx","../../components/Table/src/Table.components.tsx","../../../../node_modules/.pnpm/immer@7.0.15/node_modules/immer/src/utils/errors.ts","../../../../node_modules/.pnpm/immer@7.0.15/node_modules/immer/src/utils/common.ts","../../../../node_modules/.pnpm/immer@7.0.15/node_modules/immer/src/types/types-internal.ts","../../../../node_modules/.pnpm/immer@7.0.15/node_modules/immer/src/utils/plugins.ts","../../../../node_modules/.pnpm/immer@7.0.15/node_modules/immer/src/core/scope.ts","../../../../node_modules/.pnpm/immer@7.0.15/node_modules/immer/src/core/finalize.ts","../../../../node_modules/.pnpm/immer@7.0.15/node_modules/immer/src/core/proxy.ts","../../../../node_modules/.pnpm/immer@7.0.15/node_modules/immer/src/core/immerClass.ts","../../../../node_modules/.pnpm/immer@7.0.15/node_modules/immer/src/core/current.ts","../../../../node_modules/.pnpm/immer@7.0.15/node_modules/immer/src/plugins/es5.ts","../../../../node_modules/.pnpm/immer@7.0.15/node_modules/immer/src/plugins/patches.ts","../../../../node_modules/.pnpm/immer@7.0.15/node_modules/immer/src/plugins/mapset.ts","../../../../node_modules/.pnpm/immer@7.0.15/node_modules/immer/src/plugins/all.ts","../../../../node_modules/.pnpm/immer@7.0.15/node_modules/immer/src/immer.ts","../../../../node_modules/.pnpm/immer@7.0.15/node_modules/immer/src/utils/env.ts","../../../../node_modules/.pnpm/pure-store@1.2.0/node_modules/pure-store/index.js","../../components/Table/src/store.ts","../../components/Table/src/TableDataRenderer.tsx","css-module:./Table.module.css#css-module","../src/DataTableEmptyRow.tsx","css-module:./DataTableEmptyRow.module.css#css-module","../src/DataTableEmptyState.tsx","../../components/Center/src/Center.tsx","css-module:./Center.module.css#css-module","../../components/Text/src/Text.tsx","css-module:./Text.module.css#css-module","../src/icons/IconDatabaseOff.tsx","css-module:./DataTableEmptyState.module.css#css-module","../src/DataTableFooter.tsx","../src/DataTableFooterCell.tsx","../src/hooks/useElementOuterSize.ts","../src/hooks/useIsomorphicLayoutEffect.ts","../src/hooks/useLastSelectionChangeIndex.ts","../src/hooks/useMediaQueries.ts","../src/hooks/useMediaQueriesStringOrFunction.ts","../src/hooks/useMediaQueryStringOrFunction.ts","../src/hooks/useRowExpansion.ts","../src/utils.ts","../src/hooks/useRowExpansionStatus.ts","../src/utilityClasses.ts","../src/DataTableFooterSelectorPlaceholderCell.tsx","css-module:./DataTableFooterSelectorPlaceholderCell.module.css#css-module","css-module:./DataTableFooter.module.css#css-module","../src/DataTableHeader.tsx","../src/DataTableColumnGroupHeaderCell.tsx","css-module:./DataTable.module.css#css-module","../src/DataTableHeaderCell.tsx","../../components/Group/src/Group.tsx","../../components/Group/src/filter-falsy-children/filter-falsy-children.ts","css-module:./Group.module.css#css-module","../src/DataTableHeaderCellFilter.tsx","../../components/ActionIcon/src/ActionIcon.tsx","../../components/UnstyledButton/src/UnstyledButton.tsx","css-module:./UnstyledButton.module.css#css-module","../../components/Loader/src/Loader.tsx","../../components/Loader/src/loaders/Bars.tsx","css-module:../Loader.module.css#css-module","../../components/Loader/src/loaders/Oval.tsx","../../components/Loader/src/loaders/Progress.tsx","../../components/Loader/src/loaders/Dots.tsx","css-module:./Loader.module.css#css-module","../../components/ActionIcon/src/ActionIconGroup/ActionIconGroup.tsx","css-module:../ActionIcon.module.css#css-module","css-module:./ActionIcon.module.css#css-module","../../components/Popover/src/Popover.tsx","../../components/Floating/src/use-delayed-hover.ts","../../components/Floating/src/use-floating-auto-update.ts","../../../../node_modules/.pnpm/@floating-ui+core@1.3.1/node_modules/@floating-ui/core/dist/floating-ui.core.mjs","../../../../node_modules/.pnpm/@floating-ui+dom@1.4.5/node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs","../../../../node_modules/.pnpm/@floating-ui+react-dom@1.3.0_react-dom@18.2.0_react@18.2.0/node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.esm.js","../../../../node_modules/.pnpm/@floating-ui+react@0.23.1_react-dom@18.2.0_react@18.2.0/node_modules/@floating-ui/react/dist/floating-ui.react.esm.js","../../components/Floating/src/get-floating-position/get-floating-position.ts","../../components/Floating/src/FloatingArrow/FloatingArrow.tsx","../../components/Floating/src/FloatingArrow/get-arrow-position-styles.ts","../../components/Popover/src/use-popover.ts","../../components/_utils/create-safe-context/create-safe-context.tsx","../../components/_utils/create-optional-context/create-optional-context.tsx","../../core/src/core/utils/find-element-ancestor/find-element-ancestor.ts","../../components/_utils/get-context-item-index/get-context-item-index.ts","../../components/_utils/use-hovered/use-hovered.ts","../../components/_utils/create-use-external-events/create-use-external-events.ts","../../components/Popover/src/Popover.context.ts","../../components/Popover/src/PopoverTarget/PopoverTarget.tsx","../../components/Popover/src/PopoverDropdown/PopoverDropdown.tsx","../../components/Portal/src/Portal.tsx","../../components/Portal/src/OptionalPortal.tsx","../../components/Transition/src/transitions.ts","../../components/Transition/src/Transition.tsx","../../components/Transition/src/get-transition-styles/get-transition-styles.ts","../../components/Transition/src/use-transition.ts","../../components/FocusTrap/src/FocusTrap.tsx","css-module:./Popover.module.css#css-module","../src/icons/IconFilter.tsx","../src/icons/IconFilterFilled.tsx","css-module:./DataTableHeaderCellFilter.module.css#css-module","../src/icons/IconArrowUp.tsx","../src/icons/IconArrowsVertical.tsx","css-module:./DataTableHeaderCell.module.css#css-module","../src/DataTableHeaderSelectorCell.tsx","../../components/Checkbox/src/Checkbox.tsx","../../components/InlineInput/src/InlineInput.tsx","../../components/Input/src/Input.tsx","../../components/Input/src/InputWrapper.context.ts","../../components/Input/src/InputLabel/InputLabel.tsx","css-module:../Input.module.css#css-module","../../components/Input/src/InputError/InputError.tsx","../../components/Input/src/InputDescription/InputDescription.tsx","../../components/Input/src/InputPlaceholder/InputPlaceholder.tsx","../../components/Input/src/InputWrapper/InputWrapper.tsx","../../components/Input/src/InputWrapper/get-input-offsets/get-input-offsets.ts","css-module:./Input.module.css#css-module","css-module:./InlineInput.module.css#css-module","../../components/Checkbox/src/CheckboxGroup.context.ts","../../components/Checkbox/src/CheckboxGroup/CheckboxGroup.tsx","../../components/InputsGroupFieldset/src/InputsGroupFieldset.tsx","../../components/Checkbox/src/CheckIcon.tsx","css-module:./Checkbox.module.css#css-module","css-module:./DataTableHeaderSelectorCell.module.css#css-module","css-module:./DataTableHeader.module.css#css-module","../src/DataTableLoader.tsx","css-module:./DataTableLoader.module.css#css-module","../src/DataTablePagination.tsx","../../components/Pagination/src/Pagination.tsx","../../components/Pagination/src/PaginationRoot/PaginationRoot.tsx","../../components/Pagination/src/Pagination.context.ts","css-module:../Pagination.module.css#css-module","../../components/Pagination/src/PaginationControl/PaginationControl.tsx","../../components/Pagination/src/PaginationDots/PaginationDots.tsx","../../components/Pagination/src/Pagination.icons.tsx","../../components/Pagination/src/PaginationEdges/PaginationEdges.tsx","../../components/Pagination/src/PaginationItems/PaginationItems.tsx","../src/DataTablePageSizeSelector.tsx","../../components/Button/src/Button.tsx","../../components/Button/src/ButtonGroup/ButtonGroup.tsx","css-module:./Button.module.css#css-module","../../components/Menu/src/Menu.tsx","../../components/Menu/src/MenuDivider/MenuDivider.tsx","../../components/Menu/src/Menu.context.ts","css-module:../Menu.module.css#css-module","../../components/Menu/src/MenuDropdown/MenuDropdown.tsx","../../components/Menu/src/MenuItem/MenuItem.tsx","../../components/Menu/src/MenuLabel/MenuLabel.tsx","../../components/Menu/src/MenuTarget/MenuTarget.tsx","css-module:./Menu.module.css#css-module","../src/cssVariables.ts","../src/icons/IconSelector.tsx","css-module:./DataTablePageSizeSelector.module.css#css-module","css-module:./DataTablePagination.module.css#css-module","../src/DataTableRow.tsx","../src/DataTableRowCell.tsx","../src/DataTableRowExpansion.tsx","../../components/Collapse/src/Collapse.tsx","../../components/Collapse/src/use-collapse.ts","css-module:./DataTableRowExpansion.module.css#css-module","../src/DataTableRowSelectorCell.tsx","css-module:./DataTableRowSelectorCell.module.css#css-module","css-module:./DataTableRow.module.css#css-module","../src/DataTableScrollArea.tsx","../../components/ScrollArea/src/ScrollArea.tsx","../../components/ScrollArea/src/ScrollAreaScrollbar/ScrollAreaScrollbar.tsx","../../components/ScrollArea/src/ScrollArea.context.ts","../../components/ScrollArea/src/ScrollAreaScrollbar/ScrollAreaScrollbarVisible.tsx","../../components/ScrollArea/src/ScrollAreaScrollbar/ScrollbarX.tsx","../../components/ScrollArea/src/ScrollAreaScrollbar/Scrollbar.tsx","../../components/ScrollArea/src/use-resize-observer.ts","../../components/ScrollArea/src/ScrollAreaScrollbar/Scrollbar.context.ts","../../components/ScrollArea/src/utils/is-scrolling-within-scrollbar-bounds.ts","../../components/ScrollArea/src/utils/get-thumb-ratio.tsx","../../components/ScrollArea/src/utils/get-thumb-size.tsx","../../components/ScrollArea/src/utils/compose-event-handlers.ts","../../components/ScrollArea/src/utils/to-int.ts","../../components/ScrollArea/src/utils/linear-scale.ts","../../components/ScrollArea/src/utils/get-thumb-offset-from-scroll.ts","../../components/ScrollArea/src/utils/get-scroll-position-from-pointer.ts","../../components/ScrollArea/src/utils/add-unlinked-scroll-listener.tsx","../../components/ScrollArea/src/ScrollAreaScrollbar/ScrollbarY.tsx","../../components/ScrollArea/src/ScrollAreaScrollbar/ScrollAreaScrollbarHover.tsx","../../components/ScrollArea/src/ScrollAreaScrollbar/ScrollAreaScrollbarAuto.tsx","../../components/ScrollArea/src/ScrollAreaScrollbar/ScrollAreaScrollbarScroll.tsx","../../components/ScrollArea/src/ScrollAreaCorner/ScrollAreaCorner.tsx","../../components/ScrollArea/src/ScrollAreaRoot/ScrollAreaRoot.tsx","../../components/ScrollArea/src/ScrollAreaViewport/ScrollAreaViewport.tsx","../../components/ScrollArea/src/ScrollAreaThumb/ScrollAreaThumb.tsx","css-module:./ScrollArea.module.css#css-module","css-module:./DataTableScrollArea.module.css#css-module"],"sourcesContent":["\"use client\";\n\nexport { DataTable } from \"./DataTable\";\nexport * from \"./types\";\nexport * from \"./utils\";\n","import React, { useCallback, useMemo, useState } from \"react\";\nimport { Box, type RaikouSize } from \"@raikou/core\";\nimport { Table } from \"../../components/Table/src\";\nimport { useMergedRef } from \"@raikou/hooks\";\nimport clsx from \"clsx\";\nimport { DataTableEmptyRow } from \"./DataTableEmptyRow\";\nimport { DataTableEmptyState } from \"./DataTableEmptyState\";\nimport { DataTableFooter } from \"./DataTableFooter\";\nimport { DataTableHeader } from \"./DataTableHeader\";\nimport { DataTableLoader } from \"./DataTableLoader\";\nimport { DataTablePagination } from \"./DataTablePagination\";\nimport { DataTableRow } from \"./DataTableRow\";\nimport { DataTableScrollArea } from \"./DataTableScrollArea\";\nimport { getTableCssVariables } from \"./cssVariables\";\nimport {\n  useElementOuterSize,\n  useIsomorphicLayoutEffect,\n  useLastSelectionChangeIndex,\n  useRowExpansion,\n} from \"./hooks\";\nimport type { DataTableProps } from \"./types\";\nimport { TEXT_SELECTION_DISABLED } from \"./utilityClasses\";\nimport { differenceBy, getRecordId, uniqBy } from \"./utils\";\nimport classes from \"./DataTable.module.css\";\nimport \"./utilityClasses.css\";\n\nexport function DataTable<T>({\n  withTableBorder,\n  borderRadius,\n  textSelectionDisabled,\n  height = \"100%\",\n  minHeight,\n  shadow,\n  verticalAlign = \"center\",\n  fetching,\n  columns,\n  groups,\n  pinLastColumn,\n  defaultColumnProps,\n  defaultColumnRender,\n  idAccessor = \"id\",\n  records,\n  selectionTrigger = \"checkbox\",\n  selectedRecords,\n  onSelectedRecordsChange,\n  isRecordSelectable,\n  allRecordsSelectionCheckboxProps = { \"aria-label\": \"Select all records\" },\n  getRecordSelectionCheckboxProps = (_, index) => ({\n    \"aria-label\": `Select record ${index + 1}`,\n  }),\n  sortStatus,\n  sortIcons,\n  onSortStatusChange,\n  horizontalSpacing,\n  page,\n  onPageChange,\n  totalRecords,\n  recordsPerPage,\n  onRecordsPerPageChange,\n  recordsPerPageOptions,\n  recordsPerPageLabel = \"Records per page\",\n  paginationWithEdges,\n  paginationActiveTextColor,\n  paginationActiveBackgroundColor,\n  paginationSize = \"sm\",\n  paginationText = ({ from, to, totalRecords }) =>\n    `${from} - ${to} / ${totalRecords}`,\n  paginationWrapBreakpoint = \"sm\",\n  getPaginationControlProps = (control) => {\n    if (control === \"previous\") {\n      return { \"aria-label\": \"Previous page\" };\n    } else if (control === \"next\") {\n      return { \"aria-label\": \"Next page\" };\n    }\n    return {};\n  },\n  loaderBackgroundBlur,\n  customLoader,\n  loaderSize,\n  loaderType,\n  loaderColor,\n  loadingText = \"...\",\n  emptyState,\n  noRecordsText = \"No records\",\n  noRecordsIcon,\n  highlightOnHover,\n  striped,\n  noHeader,\n  onRowClick,\n  onRowContextMenu,\n  onCellClick,\n  onCellContextMenu,\n  onScroll,\n  onScrollToTop,\n  onScrollToBottom,\n  onScrollToLeft,\n  onScrollToRight,\n  c,\n  backgroundColor,\n  borderColor,\n  rowBorderColor,\n  stripedColor,\n  highlightOnHoverColor,\n  rowColor,\n  rowBackgroundColor,\n  rowExpansion,\n  rowClassName,\n  rowStyle,\n  customRowAttributes,\n  scrollViewportRef: scrollViewportRefProp,\n  scrollAreaProps,\n  bodyRef,\n  m,\n  my,\n  mx,\n  mt,\n  mb,\n  ml,\n  mr,\n  className,\n  classNames,\n  style,\n  styles,\n  ...otherProps\n}: DataTableProps<T>) {\n  const {\n    ref: scrollViewportRef,\n    width: scrollViewportWidth,\n    height: scrollViewportHeight,\n  } = useElementOuterSize<HTMLDivElement>();\n\n  const effectiveColumns = useMemo(() => {\n    return groups?.flatMap((group) => group.columns) ?? columns!;\n  }, [columns, groups]);\n\n  const { ref: headerRef, height: headerHeight } =\n    useElementOuterSize<HTMLTableSectionElement>();\n  const {\n    ref: tableRef,\n    width: tableWidth,\n    height: tableHeight,\n  } = useElementOuterSize<HTMLTableElement>();\n  const { ref: footerRef, height: footerHeight } =\n    useElementOuterSize<HTMLTableSectionElement>();\n  const { ref: paginationRef, height: paginationHeight } =\n    useElementOuterSize<HTMLDivElement>();\n\n  const [scrolledToTop, setScrolledToTop] = useState(true);\n  const [scrolledToBottom, setScrolledToBottom] = useState(true);\n  const [scrolledToLeft, setScrolledToLeft] = useState(true);\n  const [scrolledToRight, setScrolledToRight] = useState(true);\n\n  const rowExpansionInfo = useRowExpansion<T>({\n    rowExpansion,\n    records,\n    idAccessor,\n  });\n\n  const processScrolling = useCallback(() => {\n    const scrollTop = scrollViewportRef.current?.scrollTop || 0;\n    const scrollLeft = scrollViewportRef.current?.scrollLeft || 0;\n\n    if (fetching || tableHeight <= scrollViewportHeight) {\n      setScrolledToTop(true);\n      setScrolledToBottom(true);\n    } else {\n      const newScrolledToTop = scrollTop === 0;\n      const newScrolledToBottom =\n        tableHeight - scrollTop - scrollViewportHeight < 1;\n      setScrolledToTop(newScrolledToTop);\n      setScrolledToBottom(newScrolledToBottom);\n      if (newScrolledToTop && newScrolledToTop !== scrolledToTop)\n        onScrollToTop?.();\n      if (newScrolledToBottom && newScrolledToBottom !== scrolledToBottom)\n        onScrollToBottom?.();\n    }\n\n    if (fetching || tableWidth === scrollViewportWidth) {\n      setScrolledToLeft(true);\n      setScrolledToRight(true);\n    } else {\n      const newScrolledToLeft = scrollLeft === 0;\n      const newScrolledToRight =\n        tableWidth - scrollLeft - scrollViewportWidth < 1;\n      setScrolledToLeft(newScrolledToLeft);\n      setScrolledToRight(newScrolledToRight);\n      if (newScrolledToLeft && newScrolledToLeft !== scrolledToLeft)\n        onScrollToLeft?.();\n      if (newScrolledToRight && newScrolledToRight !== scrolledToRight)\n        onScrollToRight?.();\n    }\n  }, [\n    fetching,\n    onScrollToBottom,\n    onScrollToLeft,\n    onScrollToRight,\n    onScrollToTop,\n    scrollViewportHeight,\n    scrollViewportRef,\n    scrollViewportWidth,\n    scrolledToBottom,\n    scrolledToLeft,\n    scrolledToRight,\n    scrolledToTop,\n    tableHeight,\n    tableWidth,\n  ]);\n\n  useIsomorphicLayoutEffect(processScrolling, [processScrolling]);\n\n  const handleScrollPositionChange = useCallback(\n    (e: { x: number; y: number }) => {\n      onScroll?.(e);\n      processScrolling();\n    },\n    [processScrolling, onScroll],\n  );\n\n  const handlePageChange = useCallback(\n    (page: number) => {\n      scrollViewportRef.current?.scrollTo({ top: 0, left: 0 });\n      onPageChange!(page);\n    },\n    [onPageChange, scrollViewportRef],\n  );\n\n  const recordsLength = records?.length;\n  const recordIds = records?.map((record) => getRecordId(record, idAccessor));\n  const selectionColumnVisible = !!selectedRecords;\n  const selectedRecordIds = selectedRecords?.map((record) =>\n    getRecordId(record, idAccessor),\n  );\n  const hasRecordsAndSelectedRecords =\n    recordIds !== undefined &&\n    selectedRecordIds !== undefined &&\n    selectedRecordIds.length > 0;\n\n  const selectableRecords = isRecordSelectable\n    ? records?.filter(isRecordSelectable)\n    : records;\n  const selectableRecordIds = selectableRecords?.map((record) =>\n    getRecordId(record, idAccessor),\n  );\n\n  const allSelectableRecordsSelected =\n    hasRecordsAndSelectedRecords &&\n    selectableRecordIds!.every((id) => selectedRecordIds.includes(id));\n  const someRecordsSelected =\n    hasRecordsAndSelectedRecords &&\n    selectableRecordIds!.some((id) => selectedRecordIds.includes(id));\n\n  const handleHeaderSelectionChange = useCallback(() => {\n    if (selectedRecords && onSelectedRecordsChange) {\n      onSelectedRecordsChange(\n        allSelectableRecordsSelected\n          ? selectedRecords.filter(\n              (record) =>\n                !selectableRecordIds!.includes(getRecordId(record, idAccessor)),\n            )\n          : uniqBy([...selectedRecords, ...selectableRecords!], (record) =>\n              getRecordId(record, idAccessor),\n            ),\n      );\n    }\n  }, [\n    allSelectableRecordsSelected,\n    idAccessor,\n    onSelectedRecordsChange,\n    selectableRecordIds,\n    selectableRecords,\n    selectedRecords,\n  ]);\n\n  const { lastSelectionChangeIndex, setLastSelectionChangeIndex } =\n    useLastSelectionChangeIndex(recordIds);\n  const selectionVisibleAndNotScrolledToLeft =\n    selectionColumnVisible && !scrolledToLeft;\n\n  const marginProperties = { m, my, mx, mt, mb, ml, mr };\n\n  return (\n    <Box\n      {...marginProperties}\n      className={clsx(\n        classes[\"mantine-datatable\"],\n        { \"mantine-datatable-with-border\": withTableBorder },\n        className,\n        classNames?.root,\n      )}\n      style={[\n        (theme) => ({\n          ...getTableCssVariables({\n            theme,\n            c,\n            backgroundColor,\n            borderColor,\n            rowBorderColor,\n            stripedColor,\n            highlightOnHoverColor,\n          }),\n          borderRadius:\n            theme.radius[borderRadius as RaikouSize] || borderRadius,\n          boxShadow: theme.shadows[shadow as RaikouSize] || shadow,\n          height,\n          minHeight,\n        }),\n        style,\n        styles?.root,\n      ]}\n    >\n      <DataTableScrollArea\n        viewportRef={useMergedRef(scrollViewportRef, scrollViewportRefProp)}\n        topShadowVisible={!scrolledToTop}\n        leftShadowVisible={!scrolledToLeft}\n        leftShadowBehind={selectionColumnVisible}\n        rightShadowVisible={!scrolledToRight}\n        rightShadowBehind={pinLastColumn}\n        bottomShadowVisible={!scrolledToBottom}\n        headerHeight={headerHeight}\n        footerHeight={footerHeight}\n        onScrollPositionChange={handleScrollPositionChange}\n        scrollAreaProps={scrollAreaProps}\n      >\n        <Table\n          ref={tableRef}\n          horizontalSpacing={horizontalSpacing}\n          className={clsx(\n            classes[\"mantine-datatable-table\"],\n            {\n              [TEXT_SELECTION_DISABLED]: textSelectionDisabled,\n              \"mantine-datatable-vertical-align-top\": verticalAlign === \"top\",\n              \"mantine-datatable-vertical-align-bottom\":\n                verticalAlign === \"bottom\",\n              \"mantine-datatable-last-row-border-bottom-visible\":\n                tableHeight < scrollViewportHeight,\n              \"mantine-datatable-pin-last-column\": pinLastColumn,\n              \"mantine-datatable-pin-last-column-scrolled\":\n                !scrolledToRight && pinLastColumn,\n            },\n            classNames?.table,\n          )}\n          style={styles?.table}\n          data-striped={(recordsLength && striped) || undefined}\n          data-highlight-on-hover={highlightOnHover || undefined}\n          {...otherProps}\n        >\n          {noHeader ? null : (\n            <DataTableHeader<T>\n              ref={headerRef}\n              className={classNames?.header}\n              style={styles?.header}\n              columns={effectiveColumns}\n              defaultColumnProps={defaultColumnProps}\n              groups={groups}\n              sortStatus={sortStatus}\n              sortIcons={sortIcons}\n              onSortStatusChange={onSortStatusChange}\n              selectionTrigger={selectionTrigger}\n              selectionVisible={selectionColumnVisible}\n              selectionChecked={allSelectableRecordsSelected}\n              selectionIndeterminate={\n                someRecordsSelected && !allSelectableRecordsSelected\n              }\n              onSelectionChange={handleHeaderSelectionChange}\n              selectionCheckboxProps={allRecordsSelectionCheckboxProps}\n              selectorCellShadowVisible={selectionVisibleAndNotScrolledToLeft}\n            />\n          )}\n          <tbody ref={bodyRef}>\n            {recordsLength ? (\n              records.map((record, index) => {\n                const recordId = getRecordId(record, idAccessor);\n                const isSelected =\n                  selectedRecordIds?.includes(recordId) || false;\n\n                let handleSelectionChange: React.MouseEventHandler | undefined;\n                if (onSelectedRecordsChange && selectedRecords) {\n                  handleSelectionChange = (e) => {\n                    if (\n                      e.nativeEvent.shiftKey &&\n                      lastSelectionChangeIndex !== null\n                    ) {\n                      const targetRecords = records.filter(\n                        index > lastSelectionChangeIndex\n                          ? (rec, idx) =>\n                              idx >= lastSelectionChangeIndex &&\n                              idx <= index &&\n                              (isRecordSelectable\n                                ? isRecordSelectable(rec, idx)\n                                : true)\n                          : (rec, idx) =>\n                              idx >= index &&\n                              idx <= lastSelectionChangeIndex &&\n                              (isRecordSelectable\n                                ? isRecordSelectable(rec, idx)\n                                : true),\n                      );\n                      onSelectedRecordsChange(\n                        isSelected\n                          ? differenceBy(selectedRecords, targetRecords, (r) =>\n                              getRecordId(r, idAccessor),\n                            )\n                          : uniqBy(\n                              [...selectedRecords, ...targetRecords],\n                              (r) => getRecordId(r, idAccessor),\n                            ),\n                      );\n                    } else {\n                      onSelectedRecordsChange(\n                        isSelected\n                          ? selectedRecords.filter(\n                              (rec) =>\n                                getRecordId(rec, idAccessor) !== recordId,\n                            )\n                          : uniqBy([...selectedRecords, record], (rec) =>\n                              getRecordId(rec, idAccessor),\n                            ),\n                      );\n                    }\n                    setLastSelectionChangeIndex(index);\n                  };\n                }\n\n                return (\n                  <DataTableRow<T>\n                    key={recordId as React.Key}\n                    record={record}\n                    index={index}\n                    columns={effectiveColumns}\n                    defaultColumnProps={defaultColumnProps}\n                    defaultColumnRender={defaultColumnRender}\n                    selectionTrigger={selectionTrigger}\n                    selectionVisible={selectionColumnVisible}\n                    selectionChecked={isSelected}\n                    onSelectionChange={handleSelectionChange}\n                    isRecordSelectable={isRecordSelectable}\n                    getSelectionCheckboxProps={getRecordSelectionCheckboxProps}\n                    onClick={onRowClick}\n                    onCellClick={onCellClick}\n                    onContextMenu={onRowContextMenu}\n                    onCellContextMenu={onCellContextMenu}\n                    expansion={rowExpansionInfo}\n                    color={rowColor}\n                    backgroundColor={rowBackgroundColor}\n                    className={rowClassName}\n                    style={rowStyle}\n                    customAttributes={customRowAttributes}\n                    selectorCellShadowVisible={\n                      selectionVisibleAndNotScrolledToLeft\n                    }\n                  />\n                );\n              })\n            ) : (\n              <DataTableEmptyRow />\n            )}\n          </tbody>\n          {effectiveColumns.some(({ footer }) => footer) && (\n            <DataTableFooter<T>\n              ref={footerRef}\n              className={classNames?.footer}\n              style={styles?.footer}\n              columns={effectiveColumns}\n              defaultColumnProps={defaultColumnProps}\n              selectionVisible={selectionColumnVisible}\n              selectorCellShadowVisible={selectionVisibleAndNotScrolledToLeft}\n              scrollDiff={tableHeight - scrollViewportHeight}\n            />\n          )}\n        </Table>\n      </DataTableScrollArea>\n      {page && (\n        <DataTablePagination\n          ref={paginationRef}\n          className={classNames?.pagination}\n          style={styles?.pagination}\n          horizontalSpacing={horizontalSpacing}\n          fetching={fetching}\n          page={page}\n          onPageChange={handlePageChange}\n          totalRecords={totalRecords}\n          recordsPerPage={recordsPerPage}\n          onRecordsPerPageChange={onRecordsPerPageChange}\n          recordsPerPageOptions={recordsPerPageOptions}\n          recordsPerPageLabel={recordsPerPageLabel}\n          paginationWithEdges={paginationWithEdges}\n          paginationActiveTextColor={paginationActiveTextColor}\n          paginationActiveBackgroundColor={paginationActiveBackgroundColor}\n          paginationSize={paginationSize}\n          paginationText={paginationText}\n          paginationWrapBreakpoint={paginationWrapBreakpoint}\n          getPaginationControlProps={getPaginationControlProps}\n          noRecordsText={noRecordsText}\n          loadingText={loadingText}\n          recordsLength={recordsLength}\n        />\n      )}\n      <DataTableLoader\n        pt={headerHeight}\n        pb={paginationHeight}\n        fetching={fetching}\n        backgroundBlur={loaderBackgroundBlur}\n        customContent={customLoader}\n        size={loaderSize}\n        type={loaderType}\n        color={loaderColor}\n      />\n      <DataTableEmptyState\n        pt={headerHeight}\n        pb={paginationHeight}\n        icon={noRecordsIcon}\n        text={noRecordsText}\n        active={!fetching && !recordsLength}\n      >\n        {emptyState}\n      </DataTableEmptyState>\n    </Box>\n  );\n}\n","import React from \"react\";\nimport {\n  Box,\n  BoxProps,\n  StylesApiProps,\n  factory,\n  ElementProps,\n  useProps,\n  useStyles,\n  RaikouColor,\n  RaikouSpacing,\n  getSpacing,\n  getThemeColor,\n  createVarsResolver,\n  Factory,\n} from \"@raikou/core\";\nimport {\n  TableCaption,\n  TableTbody,\n  TableTd,\n  TableTfoot,\n  TableTh,\n  TableTr,\n  TableThead,\n} from \"./Table.components\";\nimport { TableDataRenderer } from \"./TableDataRenderer\";\nimport { useStore } from \"./store\";\nimport classes from \"./Table.module.css\";\n\nexport type TableStylesNames =\n  | \"table\"\n  | \"thead\"\n  | \"tbody\"\n  | \"tfoot\"\n  | \"tr\"\n  | \"th\"\n  | \"td\"\n  | \"caption\";\n\nexport type TableCssVariables = {\n  table:\n    | \"--table-layout\"\n    | \"--table-border-color\"\n    | \"--table-caption-side\"\n    | \"--table-horizontal-spacing\"\n    | \"--table-vertical-spacing\"\n    | \"--table-striped-color\"\n    | \"--table-highlight-on-hover-color\";\n};\n\nexport interface TableData {\n  head?: React.ReactNode[];\n  body?: React.ReactNode[][];\n  foot?: React.ReactNode[];\n  caption?: string;\n}\n\nexport interface TableProps\n  extends BoxProps,\n    StylesApiProps<TableFactory>,\n    ElementProps<\"table\"> {\n  /** Value of `table-layout` style, `auto` by default */\n  layout?: React.CSSProperties[\"tableLayout\"];\n\n  /** Determines on which side `Table.Caption` is displayed, `bottom` by default */\n  captionSide?: \"top\" | \"bottom\";\n\n  /** Color of table borders, key of `theme.colors` or any valid CSS color */\n  borderColor?: RaikouColor;\n\n  /** Determines whether the table should have outer border, `false` by default */\n  withTableBorder?: boolean;\n\n  /** Determines whether the table should have borders between columns, `false` by default */\n  withColumnBorders?: boolean;\n\n  /** Determines whether the table should have borders between rows, `true` by default */\n  withRowBorders?: boolean;\n\n  /** Horizontal cells spacing, key of `theme.spacing` or any valid CSS value for padding, numbers are converted to rem, default value is `xs` */\n  horizontalSpacing?: RaikouSpacing;\n\n  /** Vertical cells spacing, key of `theme.spacing` or any valid CSS value for padding, numbers are converted to rem, default value is `xs` */\n  verticalSpacing?: RaikouSpacing;\n\n  /** Determines whether every odd/even row background should be changed to `strippedColor`, if set to `true`, then `odd` value will be used, `false` by default  */\n  striped?: boolean | \"odd\" | \"even\";\n\n  /** Background color of striped rows, key of `theme.colors` or any valid CSS color */\n  stripedColor?: RaikouColor;\n\n  /** Determines whether table rows background should change to `highlightOnHoverColor` when hovered, `false` by default */\n  highlightOnHover?: boolean;\n\n  /** Background color of table rows when hovered, key of `theme.colors` or any valid CSS color */\n  highlightOnHoverColor?: RaikouColor;\n\n  /** Data that should be used to generate table, ignored if `children` prop is set */\n  data?: TableData;\n}\n\nexport type TableFactory = Factory<{\n  props: TableProps;\n  ref: HTMLTableElement;\n  stylesNames: TableStylesNames;\n  vars: TableCssVariables;\n  staticComponents: {\n    Thead: typeof TableThead;\n    Tbody: typeof TableTbody;\n    Tfoot: typeof TableTfoot;\n    Td: typeof TableTd;\n    Th: typeof TableTh;\n    Tr: typeof TableTr;\n    Caption: typeof TableCaption;\n    DataRenderer: typeof TableDataRenderer;\n  };\n}>;\n\nconst defaultProps: Partial<TableProps> = {\n  withRowBorders: true,\n  verticalSpacing: 7,\n};\n\nconst varsResolver = createVarsResolver<TableFactory>(\n  (\n    theme,\n    {\n      layout,\n      captionSide,\n      horizontalSpacing,\n      verticalSpacing,\n      borderColor,\n      stripedColor,\n      highlightOnHoverColor,\n      striped,\n      highlightOnHover,\n    },\n  ) => ({\n    table: {\n      \"--table-layout\": layout,\n      \"--table-caption-side\": captionSide,\n      \"--table-horizontal-spacing\": getSpacing(horizontalSpacing),\n      \"--table-vertical-spacing\": getSpacing(verticalSpacing),\n      \"--table-border-color\": borderColor\n        ? getThemeColor(borderColor, theme)\n        : undefined,\n      \"--table-striped-color\":\n        striped && stripedColor\n          ? getThemeColor(stripedColor, theme)\n          : undefined,\n      \"--table-highlight-on-hover-color\":\n        highlightOnHover && highlightOnHoverColor\n          ? getThemeColor(highlightOnHoverColor, theme)\n          : undefined,\n    },\n  }),\n);\n\nexport const Table = factory<TableFactory>((_props, ref) => {\n  const props = useProps(\"Table\", defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    unstyled,\n    vars,\n    horizontalSpacing,\n    verticalSpacing,\n    captionSide,\n    stripedColor,\n    highlightOnHoverColor,\n    striped,\n    highlightOnHover,\n    withColumnBorders,\n    withRowBorders,\n    withTableBorder,\n    borderColor,\n    layout,\n    variant,\n    data,\n    children,\n    ...others\n  } = props;\n\n  const getStyles = useStyles<TableFactory>({\n    name: \"Table\",\n    props,\n    className,\n    style,\n    classes,\n    classNames,\n    styles,\n    unstyled,\n    rootSelector: \"table\",\n    vars,\n    varsResolver,\n  });\n\n  useStore.update((state) => {\n    state.getStyles = getStyles;\n    state.striped = striped === true ? \"odd\" : striped || undefined;\n    state.highlightOnHover = highlightOnHover;\n    state.withColumnBorders = withColumnBorders;\n    state.withRowBorders = withRowBorders;\n    state.captionSide = captionSide || \"bottom\";\n  });\n\n  return (\n    <Box\n      component=\"table\"\n      variant={variant}\n      ref={ref}\n      mod={{ \"data-with-table-border\": withTableBorder }}\n      {...getStyles(\"table\")}\n      {...others}\n    >\n      {children || (!!data && <TableDataRenderer data={data} />)}\n    </Box>\n  );\n});\n\nTable.classes = classes;\nTable.displayName = \"@raikou/core/Table\";\nTable.Td = TableTd;\nTable.Th = TableTh;\nTable.Tr = TableTr;\nTable.Thead = TableThead;\nTable.Tbody = TableTbody;\nTable.Tfoot = TableTfoot;\nTable.Caption = TableCaption;\nTable.DataRenderer = TableDataRenderer;\n","import React from \"react\";\nimport {\n  Box,\n  BoxProps,\n  CompoundStylesApiProps,\n  ElementProps,\n  factory,\n  useProps,\n  FactoryPayload,\n  Factory,\n} from \"@raikou/core\";\nimport type { TableFactory } from \"./Table\";\nimport { TableContextValue, useStore } from \"./store\";\n\nexport interface TableElementProps<Selector extends string>\n  extends BoxProps,\n    CompoundStylesApiProps<\n      Omit<TableFactory, \"stylesNames\"> & { stylesNames: Selector }\n    > {}\n\nexport interface TableThProps\n  extends TableElementProps<\"th\">,\n    ElementProps<\"th\"> {}\nexport interface TableTdProps\n  extends TableElementProps<\"td\">,\n    ElementProps<\"td\"> {}\nexport interface TableTrProps\n  extends TableElementProps<\"tr\">,\n    ElementProps<\"tr\"> {}\nexport interface TableTheadProps\n  extends TableElementProps<\"thead\">,\n    ElementProps<\"thead\"> {}\nexport interface TableTbodyProps\n  extends TableElementProps<\"tbody\">,\n    ElementProps<\"tbody\"> {}\nexport interface TableTfootProps\n  extends TableElementProps<\"tfoot\">,\n    ElementProps<\"tfoot\"> {}\nexport interface TableCaptionProps\n  extends TableElementProps<\"caption\">,\n    ElementProps<\"caption\"> {}\n\nexport type TableThFactory = Factory<{\n  props: TableThProps;\n  ref: HTMLTableCellElement;\n  stylesNames: \"th\";\n  compound: true;\n}>;\n\nexport type TableTdFactory = Factory<{\n  props: TableTdProps;\n  ref: HTMLTableCellElement;\n  stylesNames: \"td\";\n  compound: true;\n}>;\n\nexport type TableTrFactory = Factory<{\n  props: TableTrProps;\n  ref: HTMLTableRowElement;\n  stylesNames: \"tr\";\n  compound: true;\n}>;\n\nexport type TableTheadFactory = Factory<{\n  props: TableTheadProps;\n  ref: HTMLTableSectionElement;\n  stylesNames: \"thead\";\n  compound: true;\n}>;\n\nexport type TableTbodyFactory = Factory<{\n  props: TableTbodyProps;\n  ref: HTMLTableSectionElement;\n  stylesNames: \"tbody\";\n  compound: true;\n}>;\n\nexport type TableTfootFactory = Factory<{\n  props: TableTfootProps;\n  ref: HTMLTableSectionElement;\n  stylesNames: \"tfoot\";\n  compound: true;\n}>;\n\nexport type TableCaptionFactory = Factory<{\n  props: TableCaptionProps;\n  ref: HTMLTableCaptionElement;\n  stylesNames: \"caption\";\n  compound: true;\n}>;\n\ninterface TableElementOptions {\n  columnBorder?: true;\n  rowBorder?: true;\n  striped?: true;\n  highlightOnHover?: true;\n  captionSide?: true;\n}\n\nfunction getDataAttributes(\n  ctx: TableContextValue,\n  options?: TableElementOptions,\n) {\n  if (!options) {\n    return undefined;\n  }\n\n  const data: Record<string, boolean | string> = {};\n\n  if (options.columnBorder && ctx.withColumnBorders) {\n    data[\"data-with-column-border\"] = true;\n  }\n\n  if (options.rowBorder && ctx.withRowBorders) {\n    data[\"data-with-row-border\"] = true;\n  }\n\n  if (options.striped && ctx.striped) {\n    data[\"data-striped\"] = ctx.striped;\n  }\n\n  if (options.highlightOnHover && ctx.highlightOnHover) {\n    data[\"data-hover\"] = true;\n  }\n\n  if (options.captionSide && ctx.captionSide) {\n    data[\"data-side\"] = ctx.captionSide;\n  }\n\n  return data;\n}\n\nexport function tableElement<Factory extends FactoryPayload>(\n  element: \"th\" | \"td\" | \"tr\" | \"thead\" | \"tbody\" | \"tfoot\" | \"caption\",\n  options?: TableElementOptions,\n) {\n  const name = `Table${element.charAt(0).toUpperCase()}${element.slice(1)}`;\n  const Component = factory<Factory>((_props, ref) => {\n    const props = useProps(name, {}, _props);\n    const { classNames, className, style, styles, ...others } = props;\n\n    const ctx = useStore.getState();\n\n    return (\n      <Box\n        component={element}\n        ref={ref}\n        {...getDataAttributes(ctx, options)}\n        {...ctx.getStyles(element, {\n          className,\n          classNames,\n          style,\n          styles,\n          props,\n        })}\n        {...others}\n      />\n    );\n  });\n\n  Component.displayName = `@raikou/core/${name}`;\n  return Component;\n}\n\nexport const TableTh = tableElement<TableThFactory>(\"th\", {\n  columnBorder: true,\n});\nexport const TableTd = tableElement<TableTdFactory>(\"td\", {\n  columnBorder: true,\n});\nexport const TableTr = tableElement<TableTrFactory>(\"tr\", {\n  rowBorder: true,\n  striped: true,\n  highlightOnHover: true,\n});\nexport const TableThead = tableElement<TableTheadFactory>(\"thead\");\nexport const TableTbody = tableElement<TableTbodyFactory>(\"tbody\");\nexport const TableTfoot = tableElement<TableTfootFactory>(\"tfoot\");\nexport const TableCaption = tableElement<TableCaptionFactory>(\"caption\", {\n  captionSide: true,\n});\n","const errors = {\n\t0: \"Illegal state\",\n\t1: \"Immer drafts cannot have computed properties\",\n\t2: \"This object has been frozen and should not be mutated\",\n\t3(data: any) {\n\t\treturn (\n\t\t\t\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" +\n\t\t\tdata\n\t\t)\n\t},\n\t4: \"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n\t5: \"Immer forbids circular references\",\n\t6: \"The first or second argument to `produce` must be a function\",\n\t7: \"The third argument to `produce` must be a function or undefined\",\n\t8: \"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n\t9: \"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n\t10: \"The given draft is already finalized\",\n\t11: \"Object.defineProperty() cannot be used on an Immer draft\",\n\t12: \"Object.setPrototypeOf() cannot be used on an Immer draft\",\n\t13: \"Immer only supports deleting array indices\",\n\t14: \"Immer only supports setting array indices and the 'length' property\",\n\t15(path: string) {\n\t\treturn \"Cannot apply patch, path doesn't resolve: \" + path\n\t},\n\t16: 'Sets cannot have \"replace\" patches.',\n\t17(op: string) {\n\t\treturn \"Unsupported patch operation: \" + op\n\t},\n\t18(plugin: string) {\n\t\treturn `The plugin for '${plugin}' has not been loaded into Immer. To enable the plugin, import and call \\`enable${plugin}()\\` when initializing your application.`\n\t},\n\t20: \"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",\n\t21(thing: string) {\n\t\treturn `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${thing}'`\n\t},\n\t22(thing: string) {\n\t\treturn `'current' expects a draft, got: ${thing}`\n\t},\n\t23(thing: string) {\n\t\treturn `'original' expects a draft, got: ${thing}`\n\t}\n} as const\n\nexport function die(error: keyof typeof errors, ...args: any[]): never {\n\tif (__DEV__) {\n\t\tconst e = errors[error]\n\t\tconst msg = !e\n\t\t\t? \"unknown error nr: \" + error\n\t\t\t: typeof e === \"function\"\n\t\t\t? e.apply(null, args as any)\n\t\t\t: e\n\t\tthrow new Error(`[Immer] ${msg}`)\n\t}\n\tthrow new Error(\n\t\t`[Immer] minified error nr: ${error}${\n\t\t\targs.length ? \" \" + args.map(s => `'${s}'`).join(\",\") : \"\"\n\t\t}. Find the full error at: https://bit.ly/3cXEKWf`\n\t)\n}\n","import {\n\tDRAFT_STATE,\n\tDRAFTABLE,\n\thasSet,\n\tObjectish,\n\tDrafted,\n\tAnyObject,\n\tAnyMap,\n\tAnySet,\n\tImmerState,\n\thasMap,\n\tArchtypeObject,\n\tArchtypeArray,\n\tArchtypeMap,\n\tArchtypeSet,\n\tdie\n} from \"../internal\"\n\n/** Returns true if the given value is an Immer draft */\n/*#__PURE__*/\nexport function isDraft(value: any): boolean {\n\treturn !!value && !!value[DRAFT_STATE]\n}\n\n/** Returns true if the given value can be drafted by Immer */\n/*#__PURE__*/\nexport function isDraftable(value: any): boolean {\n\tif (!value) return false\n\treturn (\n\t\tisPlainObject(value) ||\n\t\tArray.isArray(value) ||\n\t\t!!value[DRAFTABLE] ||\n\t\t!!value.constructor[DRAFTABLE] ||\n\t\tisMap(value) ||\n\t\tisSet(value)\n\t)\n}\n\n/*#__PURE__*/\nexport function isPlainObject(value: any): boolean {\n\tif (!value || typeof value !== \"object\") return false\n\tconst proto = Object.getPrototypeOf(value)\n\treturn !proto || proto === Object.prototype\n}\n\n/** Get the underlying object that is represented by the given draft */\n/*#__PURE__*/\nexport function original<T>(value: T): T | undefined\nexport function original(value: Drafted<any>): any {\n\tif (!isDraft(value)) die(23, value)\n\treturn value[DRAFT_STATE].base_\n}\n\n/*#__PURE__*/\nexport const ownKeys: (target: AnyObject) => PropertyKey[] =\n\ttypeof Reflect !== \"undefined\" && Reflect.ownKeys\n\t\t? Reflect.ownKeys\n\t\t: typeof Object.getOwnPropertySymbols !== \"undefined\"\n\t\t? obj =>\n\t\t\t\tObject.getOwnPropertyNames(obj).concat(\n\t\t\t\t\tObject.getOwnPropertySymbols(obj) as any\n\t\t\t\t)\n\t\t: /* istanbul ignore next */ Object.getOwnPropertyNames\n\nexport const getOwnPropertyDescriptors =\n\tObject.getOwnPropertyDescriptors ||\n\tfunction getOwnPropertyDescriptors(target: any) {\n\t\t// Polyfill needed for Hermes and IE, see https://github.com/facebook/hermes/issues/274\n\t\tconst res: any = {}\n\t\townKeys(target).forEach(key => {\n\t\t\tres[key] = Object.getOwnPropertyDescriptor(target, key)\n\t\t})\n\t\treturn res\n\t}\n\nexport function each<T extends Objectish>(\n\tobj: T,\n\titer: (key: string | number, value: any, source: T) => void,\n\tenumerableOnly?: boolean\n): void\nexport function each(obj: any, iter: any, enumerableOnly = false) {\n\tif (getArchtype(obj) === ArchtypeObject) {\n\t\t;(enumerableOnly ? Object.keys : ownKeys)(obj).forEach(key => {\n\t\t\tif (!enumerableOnly || typeof key !== \"symbol\") iter(key, obj[key], obj)\n\t\t})\n\t} else {\n\t\tobj.forEach((entry: any, index: any) => iter(index, entry, obj))\n\t}\n}\n\n/*#__PURE__*/\nexport function getArchtype(thing: any): 0 | 1 | 2 | 3 {\n\t/* istanbul ignore next */\n\tconst state: undefined | ImmerState = thing[DRAFT_STATE]\n\treturn state\n\t\t? state.type_ > 3\n\t\t\t? state.type_ - 4 // cause Object and Array map back from 4 and 5\n\t\t\t: (state.type_ as any) // others are the same\n\t\t: Array.isArray(thing)\n\t\t? ArchtypeArray\n\t\t: isMap(thing)\n\t\t? ArchtypeMap\n\t\t: isSet(thing)\n\t\t? ArchtypeSet\n\t\t: ArchtypeObject\n}\n\n/*#__PURE__*/\nexport function has(thing: any, prop: PropertyKey): boolean {\n\treturn getArchtype(thing) === ArchtypeMap\n\t\t? thing.has(prop)\n\t\t: Object.prototype.hasOwnProperty.call(thing, prop)\n}\n\n/*#__PURE__*/\nexport function get(thing: AnyMap | AnyObject, prop: PropertyKey): any {\n\t// @ts-ignore\n\treturn getArchtype(thing) === ArchtypeMap ? thing.get(prop) : thing[prop]\n}\n\n/*#__PURE__*/\nexport function set(thing: any, propOrOldValue: PropertyKey, value: any) {\n\tconst t = getArchtype(thing)\n\tif (t === ArchtypeMap) thing.set(propOrOldValue, value)\n\telse if (t === ArchtypeSet) {\n\t\tthing.delete(propOrOldValue)\n\t\tthing.add(value)\n\t} else thing[propOrOldValue] = value\n}\n\n/*#__PURE__*/\nexport function is(x: any, y: any): boolean {\n\t// From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n\tif (x === y) {\n\t\treturn x !== 0 || 1 / x === 1 / y\n\t} else {\n\t\treturn x !== x && y !== y\n\t}\n}\n\n/*#__PURE__*/\nexport function isMap(target: any): target is AnyMap {\n\treturn hasMap && target instanceof Map\n}\n\n/*#__PURE__*/\nexport function isSet(target: any): target is AnySet {\n\treturn hasSet && target instanceof Set\n}\n/*#__PURE__*/\nexport function latest(state: ImmerState): any {\n\treturn state.copy_ || state.base_\n}\n\n/*#__PURE__*/\nexport function shallowCopy(base: any) {\n\tif (Array.isArray(base)) return Array.prototype.slice.call(base)\n\tconst descriptors = getOwnPropertyDescriptors(base)\n\tdelete descriptors[DRAFT_STATE as any]\n\tlet keys = ownKeys(descriptors)\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tconst key: any = keys[i]\n\t\tconst desc = descriptors[key]\n\t\tif (desc.writable === false) {\n\t\t\tdesc.writable = true\n\t\t\tdesc.configurable = true\n\t\t}\n\t\t// like object.assign, we will read any _own_, get/set accessors. This helps in dealing\n\t\t// with libraries that trap values, like mobx or vue\n\t\t// unlike object.assign, non-enumerables will be copied as well\n\t\tif (desc.get || desc.set)\n\t\t\tdescriptors[key] = {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true, // could live with !!desc.set as well here...\n\t\t\t\tenumerable: desc.enumerable,\n\t\t\t\tvalue: base[key]\n\t\t\t}\n\t}\n\treturn Object.create(Object.getPrototypeOf(base), descriptors)\n}\n\nexport function freeze(obj: any, deep: boolean): void {\n\tif (isFrozen(obj) || isDraft(obj) || !isDraftable(obj)) return\n\tif (getArchtype(obj) > 1 /* Map or Set */) {\n\t\tobj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections as any\n\t}\n\tObject.freeze(obj)\n\tif (deep) each(obj, (key, value) => freeze(value, true), true)\n}\n\nfunction dontMutateFrozenCollections() {\n\tdie(2)\n}\n\nexport function isFrozen(obj: any): boolean {\n\tif (obj == null || typeof obj !== \"object\") return true\n\t// See #600, IE dies on non-objects in Object.isFrozen\n\treturn Object.isFrozen(obj)\n}\n","import {\n\tSetState,\n\tImmerScope,\n\tProxyObjectState,\n\tProxyArrayState,\n\tES5ObjectState,\n\tES5ArrayState,\n\tMapState,\n\tDRAFT_STATE\n} from \"../internal\"\n\nexport type Objectish = AnyObject | AnyArray | AnyMap | AnySet\nexport type ObjectishNoSet = AnyObject | AnyArray | AnyMap\n\nexport type AnyObject = {[key: string]: any}\nexport type AnyArray = Array<any>\nexport type AnySet = Set<any>\nexport type AnyMap = Map<any, any>\n\nexport const ArchtypeObject = 0\nexport const ArchtypeArray = 1\nexport const ArchtypeMap = 2\nexport const ArchtypeSet = 3\n\nexport const ProxyTypeProxyObject = 0\nexport const ProxyTypeProxyArray = 1\nexport const ProxyTypeES5Object = 4\nexport const ProxyTypeES5Array = 5\nexport const ProxyTypeMap = 2\nexport const ProxyTypeSet = 3\n\nexport interface ImmerBaseState {\n\tparent_?: ImmerState\n\tscope_: ImmerScope\n\tmodified_: boolean\n\tfinalized_: boolean\n\tisManual_: boolean\n}\n\nexport type ImmerState =\n\t| ProxyObjectState\n\t| ProxyArrayState\n\t| ES5ObjectState\n\t| ES5ArrayState\n\t| MapState\n\t| SetState\n\n// The _internal_ type used for drafts (not to be confused with Draft, which is public facing)\nexport type Drafted<Base = any, T extends ImmerState = ImmerState> = {\n\t[DRAFT_STATE]: T\n} & Base\n","import {\n\tImmerState,\n\tPatch,\n\tImmerScope,\n\tDrafted,\n\tAnyObject,\n\tImmerBaseState,\n\tAnyMap,\n\tAnySet,\n\tProxyTypeES5Array,\n\tProxyTypeES5Object,\n\tProxyTypeMap,\n\tProxyTypeSet,\n\tdie\n} from \"../internal\"\n\n/** Plugin utilities */\nconst plugins: {\n\tPatches?: {\n\t\tgeneratePatches_(\n\t\t\tstate: ImmerState,\n\t\t\tbasePath: PatchPath,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tgenerateReplacementPatches_(\n\t\t\trootState: ImmerState,\n\t\t\treplacement: any,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tapplyPatches_<T>(draft: T, patches: Patch[]): T\n\t}\n\tES5?: {\n\t\twillFinalizeES5_(scope: ImmerScope, result: any, isReplaced: boolean): void\n\t\tcreateES5Proxy_<T>(\n\t\t\tbase: T,\n\t\t\tparent?: ImmerState\n\t\t): Drafted<T, ES5ObjectState | ES5ArrayState>\n\t\thasChanges_(state: ES5ArrayState | ES5ObjectState): boolean\n\t}\n\tMapSet?: {\n\t\tproxyMap_<T extends AnyMap>(target: T, parent?: ImmerState): T\n\t\tproxySet_<T extends AnySet>(target: T, parent?: ImmerState): T\n\t}\n} = {}\n\ntype Plugins = typeof plugins\n\nexport function getPlugin<K extends keyof Plugins>(\n\tpluginKey: K\n): Exclude<Plugins[K], undefined> {\n\tconst plugin = plugins[pluginKey]\n\tif (!plugin) {\n\t\tdie(18, pluginKey)\n\t}\n\t// @ts-ignore\n\treturn plugin\n}\n\nexport function loadPlugin<K extends keyof Plugins>(\n\tpluginKey: K,\n\timplementation: Plugins[K]\n): void {\n\tif (!plugins[pluginKey]) plugins[pluginKey] = implementation\n}\n\n/** ES5 Plugin */\n\ninterface ES5BaseState extends ImmerBaseState {\n\tassigned_: {[key: string]: any}\n\tparent_?: ImmerState\n\trevoked_: boolean\n}\n\nexport interface ES5ObjectState extends ES5BaseState {\n\ttype_: typeof ProxyTypeES5Object\n\tdraft_: Drafted<AnyObject, ES5ObjectState>\n\tbase_: AnyObject\n\tcopy_: AnyObject | null\n}\n\nexport interface ES5ArrayState extends ES5BaseState {\n\ttype_: typeof ProxyTypeES5Array\n\tdraft_: Drafted<AnyObject, ES5ArrayState>\n\tbase_: any\n\tcopy_: any\n}\n\n/** Map / Set plugin */\n\nexport interface MapState extends ImmerBaseState {\n\ttype_: typeof ProxyTypeMap\n\tcopy_: AnyMap | undefined\n\tassigned_: Map<any, boolean> | undefined\n\tbase_: AnyMap\n\trevoked_: boolean\n\tdraft_: Drafted<AnyMap, MapState>\n}\n\nexport interface SetState extends ImmerBaseState {\n\ttype_: typeof ProxyTypeSet\n\tcopy_: AnySet | undefined\n\tbase_: AnySet\n\tdrafts_: Map<any, Drafted> // maps the original value to the draft value in the new set\n\trevoked_: boolean\n\tdraft_: Drafted<AnySet, SetState>\n}\n\n/** Patches plugin */\n\nexport type PatchPath = (string | number)[]\n","import {\n\tPatch,\n\tPatchListener,\n\tDrafted,\n\tImmer,\n\tDRAFT_STATE,\n\tImmerState,\n\tProxyTypeProxyObject,\n\tProxyTypeProxyArray,\n\tgetPlugin\n} from \"../internal\"\nimport {die} from \"../utils/errors\"\n\n/** Each scope represents a `produce` call. */\n\nexport interface ImmerScope {\n\tpatches_?: Patch[]\n\tinversePatches_?: Patch[]\n\tcanAutoFreeze_: boolean\n\tdrafts_: any[]\n\tparent_?: ImmerScope\n\tpatchListener_?: PatchListener\n\timmer_: Immer\n\tunfinalizedDrafts_: number\n}\n\nlet currentScope: ImmerScope | undefined\n\nexport function getCurrentScope() {\n\tif (__DEV__ && !currentScope) die(0)\n\treturn currentScope!\n}\n\nfunction createScope(\n\tparent_: ImmerScope | undefined,\n\timmer_: Immer\n): ImmerScope {\n\treturn {\n\t\tdrafts_: [],\n\t\tparent_,\n\t\timmer_,\n\t\t// Whenever the modified draft contains a draft from another scope, we\n\t\t// need to prevent auto-freezing so the unowned draft can be finalized.\n\t\tcanAutoFreeze_: true,\n\t\tunfinalizedDrafts_: 0\n\t}\n}\n\nexport function usePatchesInScope(\n\tscope: ImmerScope,\n\tpatchListener?: PatchListener\n) {\n\tif (patchListener) {\n\t\tgetPlugin(\"Patches\") // assert we have the plugin\n\t\tscope.patches_ = []\n\t\tscope.inversePatches_ = []\n\t\tscope.patchListener_ = patchListener\n\t}\n}\n\nexport function revokeScope(scope: ImmerScope) {\n\tleaveScope(scope)\n\tscope.drafts_.forEach(revokeDraft)\n\t// @ts-ignore\n\tscope.drafts_ = null\n}\n\nexport function leaveScope(scope: ImmerScope) {\n\tif (scope === currentScope) {\n\t\tcurrentScope = scope.parent_\n\t}\n}\n\nexport function enterScope(immer: Immer) {\n\treturn (currentScope = createScope(currentScope, immer))\n}\n\nfunction revokeDraft(draft: Drafted) {\n\tconst state: ImmerState = draft[DRAFT_STATE]\n\tif (\n\t\tstate.type_ === ProxyTypeProxyObject ||\n\t\tstate.type_ === ProxyTypeProxyArray\n\t)\n\t\tstate.revoke_()\n\telse state.revoked_ = true\n}\n","import {\n\tImmerScope,\n\tDRAFT_STATE,\n\tisDraftable,\n\tNOTHING,\n\tPatchPath,\n\teach,\n\thas,\n\tfreeze,\n\tImmerState,\n\tisDraft,\n\tSetState,\n\tset,\n\tProxyTypeES5Object,\n\tProxyTypeES5Array,\n\tProxyTypeSet,\n\tgetPlugin,\n\tdie,\n\trevokeScope,\n\tisFrozen,\n\tshallowCopy\n} from \"../internal\"\n\nexport function processResult(result: any, scope: ImmerScope) {\n\tscope.unfinalizedDrafts_ = scope.drafts_.length\n\tconst baseDraft = scope.drafts_![0]\n\tconst isReplaced = result !== undefined && result !== baseDraft\n\tif (!scope.immer_.useProxies_)\n\t\tgetPlugin(\"ES5\").willFinalizeES5_(scope, result, isReplaced)\n\tif (isReplaced) {\n\t\tif (baseDraft[DRAFT_STATE].modified_) {\n\t\t\trevokeScope(scope)\n\t\t\tdie(4)\n\t\t}\n\t\tif (isDraftable(result)) {\n\t\t\t// Finalize the result in case it contains (or is) a subset of the draft.\n\t\t\tresult = finalize(scope, result)\n\t\t\tif (!scope.parent_) maybeFreeze(scope, result)\n\t\t}\n\t\tif (scope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generateReplacementPatches_(\n\t\t\t\tbaseDraft[DRAFT_STATE],\n\t\t\t\tresult,\n\t\t\t\tscope.patches_,\n\t\t\t\tscope.inversePatches_!\n\t\t\t)\n\t\t}\n\t} else {\n\t\t// Finalize the base draft.\n\t\tresult = finalize(scope, baseDraft, [])\n\t}\n\trevokeScope(scope)\n\tif (scope.patches_) {\n\t\tscope.patchListener_!(scope.patches_, scope.inversePatches_!)\n\t}\n\treturn result !== NOTHING ? result : undefined\n}\n\nfunction finalize(rootScope: ImmerScope, value: any, path?: PatchPath) {\n\t// Don't recurse in tho recursive data structures\n\tif (isFrozen(value)) return value\n\n\tconst state: ImmerState = value[DRAFT_STATE]\n\t// A plain object, might need freezing, might contain drafts\n\tif (!state) {\n\t\teach(\n\t\t\tvalue,\n\t\t\t(key, childValue) =>\n\t\t\t\tfinalizeProperty(rootScope, state, value, key, childValue, path),\n\t\t\ttrue // See #590, don't recurse into non-enumarable of non drafted objects\n\t\t)\n\t\treturn value\n\t}\n\t// Never finalize drafts owned by another scope.\n\tif (state.scope_ !== rootScope) return value\n\t// Unmodified draft, return the (frozen) original\n\tif (!state.modified_) {\n\t\tmaybeFreeze(rootScope, state.base_, true)\n\t\treturn state.base_\n\t}\n\t// Not finalized yet, let's do that now\n\tif (!state.finalized_) {\n\t\tstate.finalized_ = true\n\t\tstate.scope_.unfinalizedDrafts_--\n\t\tconst result =\n\t\t\t// For ES5, create a good copy from the draft first, with added keys and without deleted keys.\n\t\t\tstate.type_ === ProxyTypeES5Object || state.type_ === ProxyTypeES5Array\n\t\t\t\t? (state.copy_ = shallowCopy(state.draft_))\n\t\t\t\t: state.copy_\n\t\t// Finalize all children of the copy\n\t\t// For sets we clone before iterating, otherwise we can get in endless loop due to modifying during iteration, see #628\n\t\t// Although the original test case doesn't seem valid anyway, so if this in the way we can turn the next line\n\t\t// back to each(result, ....)\n\t\teach(\n\t\t\tstate.type_ === ProxyTypeSet ? new Set(result) : result,\n\t\t\t(key, childValue) =>\n\t\t\t\tfinalizeProperty(rootScope, state, result, key, childValue, path)\n\t\t)\n\t\t// everything inside is frozen, we can freeze here\n\t\tmaybeFreeze(rootScope, result, false)\n\t\t// first time finalizing, let's create those patches\n\t\tif (path && rootScope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generatePatches_(\n\t\t\t\tstate,\n\t\t\t\tpath,\n\t\t\t\trootScope.patches_,\n\t\t\t\trootScope.inversePatches_!\n\t\t\t)\n\t\t}\n\t}\n\treturn state.copy_\n}\n\nfunction finalizeProperty(\n\trootScope: ImmerScope,\n\tparentState: undefined | ImmerState,\n\ttargetObject: any,\n\tprop: string | number,\n\tchildValue: any,\n\trootPath?: PatchPath\n) {\n\tif (__DEV__ && childValue === targetObject) die(5)\n\tif (isDraft(childValue)) {\n\t\tconst path =\n\t\t\trootPath &&\n\t\t\tparentState &&\n\t\t\tparentState!.type_ !== ProxyTypeSet && // Set objects are atomic since they have no keys.\n\t\t\t!has((parentState as Exclude<ImmerState, SetState>).assigned_!, prop) // Skip deep patches for assigned keys.\n\t\t\t\t? rootPath!.concat(prop)\n\t\t\t\t: undefined\n\t\t// Drafts owned by `scope` are finalized here.\n\t\tconst res = finalize(rootScope, childValue, path)\n\t\tset(targetObject, prop, res)\n\t\t// Drafts from another scope must prevented to be frozen\n\t\t// if we got a draft back from finalize, we're in a nested produce and shouldn't freeze\n\t\tif (isDraft(res)) {\n\t\t\trootScope.canAutoFreeze_ = false\n\t\t} else return\n\t}\n\t// Search new objects for unfinalized drafts. Frozen objects should never contain drafts.\n\tif (isDraftable(childValue) && !isFrozen(childValue)) {\n\t\tif (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n\t\t\t// optimization: if an object is not a draft, and we don't have to\n\t\t\t// deepfreeze everything, and we are sure that no drafts are left in the remaining object\n\t\t\t// cause we saw and finalized all drafts already; we can stop visiting the rest of the tree.\n\t\t\t// This benefits especially adding large data tree's without further processing.\n\t\t\t// See add-data.js perf test\n\t\t\treturn\n\t\t}\n\t\tfinalize(rootScope, childValue)\n\t\t// immer deep freezes plain objects, so if there is no parent state, we freeze as well\n\t\tif (!parentState || !parentState.scope_.parent_)\n\t\t\tmaybeFreeze(rootScope, childValue)\n\t}\n}\n\nfunction maybeFreeze(scope: ImmerScope, value: any, deep = false) {\n\tif (scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n\t\tfreeze(value, deep)\n\t}\n}\n","import {\n\teach,\n\thas,\n\tis,\n\tisDraftable,\n\tshallowCopy,\n\tlatest,\n\tImmerBaseState,\n\tImmerState,\n\tDrafted,\n\tAnyObject,\n\tAnyArray,\n\tObjectish,\n\tgetCurrentScope,\n\tDRAFT_STATE,\n\tdie,\n\tcreateProxy,\n\tProxyTypeProxyObject,\n\tProxyTypeProxyArray\n} from \"../internal\"\n\ninterface ProxyBaseState extends ImmerBaseState {\n\tassigned_: {\n\t\t[property: string]: boolean\n\t}\n\tparent_?: ImmerState\n\trevoke_(): void\n}\n\nexport interface ProxyObjectState extends ProxyBaseState {\n\ttype_: typeof ProxyTypeProxyObject\n\tbase_: any\n\tcopy_: any\n\tdraft_: Drafted<AnyObject, ProxyObjectState>\n}\n\nexport interface ProxyArrayState extends ProxyBaseState {\n\ttype_: typeof ProxyTypeProxyArray\n\tbase_: AnyArray\n\tcopy_: AnyArray | null\n\tdraft_: Drafted<AnyArray, ProxyArrayState>\n}\n\ntype ProxyState = ProxyObjectState | ProxyArrayState\n\n/**\n * Returns a new draft of the `base` object.\n *\n * The second argument is the parent draft-state (used internally).\n */\nexport function createProxyProxy<T extends Objectish>(\n\tbase: T,\n\tparent?: ImmerState\n): Drafted<T, ProxyState> {\n\tconst isArray = Array.isArray(base)\n\tconst state: ProxyState = {\n\t\ttype_: isArray ? ProxyTypeProxyArray : (ProxyTypeProxyObject as any),\n\t\t// Track which produce call this is associated with.\n\t\tscope_: parent ? parent.scope_ : getCurrentScope()!,\n\t\t// True for both shallow and deep changes.\n\t\tmodified_: false,\n\t\t// Used during finalization.\n\t\tfinalized_: false,\n\t\t// Track which properties have been assigned (true) or deleted (false).\n\t\tassigned_: {},\n\t\t// The parent draft state.\n\t\tparent_: parent,\n\t\t// The base state.\n\t\tbase_: base,\n\t\t// The base proxy.\n\t\tdraft_: null as any, // set below\n\t\t// The base copy with any updated values.\n\t\tcopy_: null,\n\t\t// Called by the `produce` function.\n\t\trevoke_: null as any,\n\t\tisManual_: false\n\t}\n\n\t// the traps must target something, a bit like the 'real' base.\n\t// but also, we need to be able to determine from the target what the relevant state is\n\t// (to avoid creating traps per instance to capture the state in closure,\n\t// and to avoid creating weird hidden properties as well)\n\t// So the trick is to use 'state' as the actual 'target'! (and make sure we intercept everything)\n\t// Note that in the case of an array, we put the state in an array to have better Reflect defaults ootb\n\tlet target: T = state as any\n\tlet traps: ProxyHandler<object | Array<any>> = objectTraps\n\tif (isArray) {\n\t\ttarget = [state] as any\n\t\ttraps = arrayTraps\n\t}\n\n\tconst {revoke, proxy} = Proxy.revocable(target, traps)\n\tstate.draft_ = proxy as any\n\tstate.revoke_ = revoke\n\treturn proxy as any\n}\n\n/**\n * Object drafts\n */\nexport const objectTraps: ProxyHandler<ProxyState> = {\n\tget(state, prop) {\n\t\tif (prop === DRAFT_STATE) return state\n\n\t\tconst source = latest(state)\n\t\tif (!has(source, prop)) {\n\t\t\t// non-existing or non-own property...\n\t\t\treturn readPropFromProto(state, source, prop)\n\t\t}\n\t\tconst value = source[prop]\n\t\tif (state.finalized_ || !isDraftable(value)) {\n\t\t\treturn value\n\t\t}\n\t\t// Check for existing draft in modified state.\n\t\t// Assigned values are never drafted. This catches any drafts we created, too.\n\t\tif (value === peek(state.base_, prop)) {\n\t\t\tprepareCopy(state)\n\t\t\treturn (state.copy_![prop as any] = createProxy(\n\t\t\t\tstate.scope_.immer_,\n\t\t\t\tvalue,\n\t\t\t\tstate\n\t\t\t))\n\t\t}\n\t\treturn value\n\t},\n\thas(state, prop) {\n\t\treturn prop in latest(state)\n\t},\n\townKeys(state) {\n\t\treturn Reflect.ownKeys(latest(state))\n\t},\n\tset(\n\t\tstate: ProxyObjectState,\n\t\tprop: string /* strictly not, but helps TS */,\n\t\tvalue\n\t) {\n\t\tconst desc = getDescriptorFromProto(latest(state), prop)\n\t\tif (desc?.set) {\n\t\t\t// special case: if this write is captured by a setter, we have\n\t\t\t// to trigger it with the correct context\n\t\t\tdesc.set.call(state.draft_, value)\n\t\t\treturn true\n\t\t}\n\t\tif (!state.modified_) {\n\t\t\t// the last check is because we need to be able to distinguish setting a non-existig to undefined (which is a change)\n\t\t\t// from setting an existing property with value undefined to undefined (which is not a change)\n\t\t\tconst current = peek(latest(state), prop)\n\t\t\t// special case, if we assigning the original value to a draft, we can ignore the assignment\n\t\t\tconst currentState: ProxyObjectState = current?.[DRAFT_STATE]\n\t\t\tif (currentState && currentState.base_ === value) {\n\t\t\t\tstate.copy_![prop] = value\n\t\t\t\tstate.assigned_[prop] = false\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tif (is(value, current) && (value !== undefined || has(state.base_, prop)))\n\t\t\t\treturn true\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t}\n\t\t// @ts-ignore\n\t\tstate.copy_![prop] = value\n\t\tstate.assigned_[prop] = true\n\t\treturn true\n\t},\n\tdeleteProperty(state, prop: string) {\n\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\tif (peek(state.base_, prop) !== undefined || prop in state.base_) {\n\t\t\tstate.assigned_[prop] = false\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t} else {\n\t\t\t// if an originally not assigned property was deleted\n\t\t\tdelete state.assigned_[prop]\n\t\t}\n\t\t// @ts-ignore\n\t\tif (state.copy_) delete state.copy_[prop]\n\t\treturn true\n\t},\n\t// Note: We never coerce `desc.value` into an Immer draft, because we can't make\n\t// the same guarantee in ES5 mode.\n\tgetOwnPropertyDescriptor(state, prop) {\n\t\tconst owner = latest(state)\n\t\tconst desc = Reflect.getOwnPropertyDescriptor(owner, prop)\n\t\tif (!desc) return desc\n\t\treturn {\n\t\t\twritable: true,\n\t\t\tconfigurable: state.type_ !== ProxyTypeProxyArray || prop !== \"length\",\n\t\t\tenumerable: desc.enumerable,\n\t\t\tvalue: owner[prop]\n\t\t}\n\t},\n\tdefineProperty() {\n\t\tdie(11)\n\t},\n\tgetPrototypeOf(state) {\n\t\treturn Object.getPrototypeOf(state.base_)\n\t},\n\tsetPrototypeOf() {\n\t\tdie(12)\n\t}\n}\n\n/**\n * Array drafts\n */\n\nconst arrayTraps: ProxyHandler<[ProxyArrayState]> = {}\neach(objectTraps, (key, fn) => {\n\t// @ts-ignore\n\tarrayTraps[key] = function() {\n\t\targuments[0] = arguments[0][0]\n\t\treturn fn.apply(this, arguments)\n\t}\n})\narrayTraps.deleteProperty = function(state, prop) {\n\tif (__DEV__ && isNaN(parseInt(prop as any))) die(13)\n\treturn objectTraps.deleteProperty!.call(this, state[0], prop)\n}\narrayTraps.set = function(state, prop, value) {\n\tif (__DEV__ && prop !== \"length\" && isNaN(parseInt(prop as any))) die(14)\n\treturn objectTraps.set!.call(this, state[0], prop, value, state[0])\n}\n\n// Access a property without creating an Immer draft.\nfunction peek(draft: Drafted, prop: PropertyKey) {\n\tconst state = draft[DRAFT_STATE]\n\tconst source = state ? latest(state) : draft\n\treturn source[prop]\n}\n\nfunction readPropFromProto(state: ImmerState, source: any, prop: PropertyKey) {\n\tconst desc = getDescriptorFromProto(source, prop)\n\treturn desc\n\t\t? `value` in desc\n\t\t\t? desc.value\n\t\t\t: // This is a very special case, if the prop is a getter defined by the\n\t\t\t  // prototype, we should invoke it with the draft as context!\n\t\t\t  desc.get?.call(state.draft_)\n\t\t: undefined\n}\n\nfunction getDescriptorFromProto(\n\tsource: any,\n\tprop: PropertyKey\n): PropertyDescriptor | undefined {\n\t// 'in' checks proto!\n\tif (!(prop in source)) return undefined\n\tlet proto = Object.getPrototypeOf(source)\n\twhile (proto) {\n\t\tconst desc = Object.getOwnPropertyDescriptor(proto, prop)\n\t\tif (desc) return desc\n\t\tproto = Object.getPrototypeOf(proto)\n\t}\n\treturn undefined\n}\n\nexport function markChanged(state: ImmerState) {\n\tif (!state.modified_) {\n\t\tstate.modified_ = true\n\t\tif (state.parent_) {\n\t\t\tmarkChanged(state.parent_)\n\t\t}\n\t}\n}\n\nexport function prepareCopy(state: {base_: any; copy_: any}) {\n\tif (!state.copy_) {\n\t\tstate.copy_ = shallowCopy(state.base_)\n\t}\n}\n","import {\n\tIProduceWithPatches,\n\tIProduce,\n\tImmerState,\n\tDrafted,\n\tisDraftable,\n\tprocessResult,\n\tPatch,\n\tObjectish,\n\tDRAFT_STATE,\n\tDraft,\n\tPatchListener,\n\tisDraft,\n\tisMap,\n\tisSet,\n\tcreateProxyProxy,\n\tgetPlugin,\n\tdie,\n\thasProxies,\n\tisMinified,\n\tenterScope,\n\trevokeScope,\n\tleaveScope,\n\tusePatchesInScope,\n\tgetCurrentScope,\n\tNOTHING,\n\tfreeze,\n\tcurrent\n} from \"../internal\"\n\ninterface ProducersFns {\n\tproduce: IProduce\n\tproduceWithPatches: IProduceWithPatches\n}\n\nexport class Immer implements ProducersFns {\n\tuseProxies_: boolean = hasProxies\n\n\tautoFreeze_: boolean = __DEV__ ? true /* istanbul ignore next */ : !isMinified\n\n\tconstructor(config?: {useProxies?: boolean; autoFreeze?: boolean}) {\n\t\tif (typeof config?.useProxies === \"boolean\")\n\t\t\tthis.setUseProxies(config!.useProxies)\n\t\tif (typeof config?.autoFreeze === \"boolean\")\n\t\t\tthis.setAutoFreeze(config!.autoFreeze)\n\t\tthis.produce = this.produce.bind(this)\n\t\tthis.produceWithPatches = this.produceWithPatches.bind(this)\n\t}\n\n\t/**\n\t * The `produce` function takes a value and a \"recipe function\" (whose\n\t * return value often depends on the base state). The recipe function is\n\t * free to mutate its first argument however it wants. All mutations are\n\t * only ever applied to a __copy__ of the base state.\n\t *\n\t * Pass only a function to create a \"curried producer\" which relieves you\n\t * from passing the recipe function every time.\n\t *\n\t * Only plain objects and arrays are made mutable. All other objects are\n\t * considered uncopyable.\n\t *\n\t * Note: This function is __bound__ to its `Immer` instance.\n\t *\n\t * @param {any} base - the initial state\n\t * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n\t * @param {Function} patchListener - optional function that will be called with all the patches produced here\n\t * @returns {any} a new state, or the initial state if nothing was modified\n\t */\n\tproduce(base: any, recipe?: any, patchListener?: any) {\n\t\t// curried invocation\n\t\tif (typeof base === \"function\" && typeof recipe !== \"function\") {\n\t\t\tconst defaultBase = recipe\n\t\t\trecipe = base\n\n\t\t\tconst self = this\n\t\t\treturn function curriedProduce(\n\t\t\t\tthis: any,\n\t\t\t\tbase = defaultBase,\n\t\t\t\t...args: any[]\n\t\t\t) {\n\t\t\t\treturn self.produce(base, (draft: Drafted) => recipe.call(this, draft, ...args)) // prettier-ignore\n\t\t\t}\n\t\t}\n\n\t\tif (typeof recipe !== \"function\") die(6)\n\t\tif (patchListener !== undefined && typeof patchListener !== \"function\")\n\t\t\tdie(7)\n\n\t\tlet result\n\n\t\t// Only plain objects, arrays, and \"immerable classes\" are drafted.\n\t\tif (isDraftable(base)) {\n\t\t\tconst scope = enterScope(this)\n\t\t\tconst proxy = createProxy(this, base, undefined)\n\t\t\tlet hasError = true\n\t\t\ttry {\n\t\t\t\tresult = recipe(proxy)\n\t\t\t\thasError = false\n\t\t\t} finally {\n\t\t\t\t// finally instead of catch + rethrow better preserves original stack\n\t\t\t\tif (hasError) revokeScope(scope)\n\t\t\t\telse leaveScope(scope)\n\t\t\t}\n\t\t\tif (typeof Promise !== \"undefined\" && result instanceof Promise) {\n\t\t\t\treturn result.then(\n\t\t\t\t\tresult => {\n\t\t\t\t\t\tusePatchesInScope(scope, patchListener)\n\t\t\t\t\t\treturn processResult(result, scope)\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\trevokeScope(scope)\n\t\t\t\t\t\tthrow error\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t}\n\t\t\tusePatchesInScope(scope, patchListener)\n\t\t\treturn processResult(result, scope)\n\t\t} else if (!base || typeof base !== \"object\") {\n\t\t\tresult = recipe(base)\n\t\t\tif (result === NOTHING) return undefined\n\t\t\tif (result === undefined) result = base\n\t\t\tif (this.autoFreeze_) freeze(result, true)\n\t\t\treturn result\n\t\t} else die(21, base)\n\t}\n\n\tproduceWithPatches(arg1: any, arg2?: any, arg3?: any): any {\n\t\tif (typeof arg1 === \"function\") {\n\t\t\treturn (state: any, ...args: any[]) =>\n\t\t\t\tthis.produceWithPatches(state, (draft: any) => arg1(draft, ...args))\n\t\t}\n\n\t\tlet patches: Patch[], inversePatches: Patch[]\n\t\tconst nextState = this.produce(arg1, arg2, (p: Patch[], ip: Patch[]) => {\n\t\t\tpatches = p\n\t\t\tinversePatches = ip\n\t\t})\n\t\treturn [nextState, patches!, inversePatches!]\n\t}\n\n\tcreateDraft<T extends Objectish>(base: T): Draft<T> {\n\t\tif (!isDraftable(base)) die(8)\n\t\tif (isDraft(base)) base = current(base)\n\t\tconst scope = enterScope(this)\n\t\tconst proxy = createProxy(this, base, undefined)\n\t\tproxy[DRAFT_STATE].isManual_ = true\n\t\tleaveScope(scope)\n\t\treturn proxy as any\n\t}\n\n\tfinishDraft<D extends Draft<any>>(\n\t\tdraft: D,\n\t\tpatchListener?: PatchListener\n\t): D extends Draft<infer T> ? T : never {\n\t\tconst state: ImmerState = draft && (draft as any)[DRAFT_STATE]\n\t\tif (__DEV__) {\n\t\t\tif (!state || !state.isManual_) die(9)\n\t\t\tif (state.finalized_) die(10)\n\t\t}\n\t\tconst {scope_: scope} = state\n\t\tusePatchesInScope(scope, patchListener)\n\t\treturn processResult(undefined, scope)\n\t}\n\n\t/**\n\t * Pass true to automatically freeze all copies created by Immer.\n\t *\n\t * By default, auto-freezing is disabled in production.\n\t */\n\tsetAutoFreeze(value: boolean) {\n\t\tthis.autoFreeze_ = value\n\t}\n\n\t/**\n\t * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n\t * always faster than using ES5 proxies.\n\t *\n\t * By default, feature detection is used, so calling this is rarely necessary.\n\t */\n\tsetUseProxies(value: boolean) {\n\t\tif (value && !hasProxies) {\n\t\t\tdie(20)\n\t\t}\n\t\tthis.useProxies_ = value\n\t}\n\n\tapplyPatches(base: Objectish, patches: Patch[]) {\n\t\t// If a patch replaces the entire state, take that replacement as base\n\t\t// before applying patches\n\t\tlet i: number\n\t\tfor (i = patches.length - 1; i >= 0; i--) {\n\t\t\tconst patch = patches[i]\n\t\t\tif (patch.path.length === 0 && patch.op === \"replace\") {\n\t\t\t\tbase = patch.value\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\tconst applyPatchesImpl = getPlugin(\"Patches\").applyPatches_\n\t\tif (isDraft(base)) {\n\t\t\t// N.B: never hits if some patch a replacement, patches are never drafts\n\t\t\treturn applyPatchesImpl(base, patches)\n\t\t}\n\t\t// Otherwise, produce a copy of the base state.\n\t\treturn this.produce(base, (draft: Drafted) =>\n\t\t\tapplyPatchesImpl(draft, patches.slice(i + 1))\n\t\t)\n\t}\n}\n\nexport function createProxy<T extends Objectish>(\n\timmer: Immer,\n\tvalue: T,\n\tparent?: ImmerState\n): Drafted<T, ImmerState> {\n\t// precondition: createProxy should be guarded by isDraftable, so we know we can safely draft\n\tconst draft: Drafted = isMap(value)\n\t\t? getPlugin(\"MapSet\").proxyMap_(value, parent)\n\t\t: isSet(value)\n\t\t? getPlugin(\"MapSet\").proxySet_(value, parent)\n\t\t: immer.useProxies_\n\t\t? createProxyProxy(value, parent)\n\t\t: getPlugin(\"ES5\").createES5Proxy_(value, parent)\n\n\tconst scope = parent ? parent.scope_ : getCurrentScope()\n\tscope.drafts_.push(draft)\n\treturn draft\n}\n","import {\n\tdie,\n\tisDraft,\n\tshallowCopy,\n\teach,\n\tDRAFT_STATE,\n\tget,\n\tset,\n\tImmerState,\n\tisDraftable,\n\tArchtypeMap,\n\tArchtypeSet,\n\tgetArchtype,\n\tgetPlugin\n} from \"../internal\"\n\n/** Takes a snapshot of the current state of a draft and finalizes it (but without freezing). This is a great utility to print the current state during debugging (no Proxies in the way). The output of current can also be safely leaked outside the producer. */\nexport function current<T>(value: T): T\nexport function current(value: any): any {\n\tif (!isDraft(value)) die(22, value)\n\treturn currentImpl(value)\n}\n\nfunction currentImpl(value: any): any {\n\tif (!isDraftable(value)) return value\n\tconst state: ImmerState | undefined = value[DRAFT_STATE]\n\tlet copy: any\n\tconst archType = getArchtype(value)\n\tif (state) {\n\t\tif (\n\t\t\t!state.modified_ &&\n\t\t\t(state.type_ < 4 || !getPlugin(\"ES5\").hasChanges_(state as any))\n\t\t)\n\t\t\treturn state.base_\n\t\t// Optimization: avoid generating new drafts during copying\n\t\tstate.finalized_ = true\n\t\tcopy = copyHelper(value, archType)\n\t\tstate.finalized_ = false\n\t} else {\n\t\tcopy = copyHelper(value, archType)\n\t}\n\n\teach(copy, (key, childValue) => {\n\t\tif (state && get(state.base_, key) === childValue) return // no need to copy or search in something that didn't change\n\t\tset(copy, key, currentImpl(childValue))\n\t})\n\t// In the future, we might consider freezing here, based on the current settings\n\treturn archType === ArchtypeSet ? new Set(copy) : copy\n}\n\nfunction copyHelper(value: any, archType: number): any {\n\t// creates a shallow copy, even if it is a map or set\n\tswitch (archType) {\n\t\tcase ArchtypeMap:\n\t\t\treturn new Map(value)\n\t\tcase ArchtypeSet:\n\t\t\t// Set will be cloned as array temporarily, so that we can replace individual items\n\t\t\treturn Array.from(value)\n\t}\n\treturn shallowCopy(value)\n}\n","import {\n\tImmerState,\n\tDrafted,\n\tES5ArrayState,\n\tES5ObjectState,\n\teach,\n\thas,\n\tisDraft,\n\tlatest,\n\tDRAFT_STATE,\n\tis,\n\tloadPlugin,\n\tImmerScope,\n\tProxyTypeES5Array,\n\tProxyTypeES5Object,\n\tgetCurrentScope,\n\tdie,\n\tmarkChanged,\n\tobjectTraps,\n\townKeys,\n\tgetOwnPropertyDescriptors\n} from \"../internal\"\n\ntype ES5State = ES5ArrayState | ES5ObjectState\n\nexport function enableES5() {\n\tfunction willFinalizeES5_(\n\t\tscope: ImmerScope,\n\t\tresult: any,\n\t\tisReplaced: boolean\n\t) {\n\t\tif (!isReplaced) {\n\t\t\tif (scope.patches_) {\n\t\t\t\tmarkChangesRecursively(scope.drafts_![0])\n\t\t\t}\n\t\t\t// This is faster when we don't care about which attributes changed.\n\t\t\tmarkChangesSweep(scope.drafts_)\n\t\t}\n\t\t// When a child draft is returned, look for changes.\n\t\telse if (\n\t\t\tisDraft(result) &&\n\t\t\t(result[DRAFT_STATE] as ES5State).scope_ === scope\n\t\t) {\n\t\t\tmarkChangesSweep(scope.drafts_)\n\t\t}\n\t}\n\n\tfunction createES5Draft(isArray: boolean, base: any) {\n\t\tif (isArray) {\n\t\t\tconst draft = new Array(base.length)\n\t\t\tfor (let i = 0; i < base.length; i++)\n\t\t\t\tObject.defineProperty(draft, \"\" + i, proxyProperty(i, true))\n\t\t\treturn draft\n\t\t} else {\n\t\t\tconst descriptors = getOwnPropertyDescriptors(base)\n\t\t\tdelete descriptors[DRAFT_STATE as any]\n\t\t\tconst keys = ownKeys(descriptors)\n\t\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\t\tconst key: any = keys[i]\n\t\t\t\tdescriptors[key] = proxyProperty(\n\t\t\t\t\tkey,\n\t\t\t\t\tisArray || !!descriptors[key].enumerable\n\t\t\t\t)\n\t\t\t}\n\t\t\treturn Object.create(Object.getPrototypeOf(base), descriptors)\n\t\t}\n\t}\n\n\tfunction createES5Proxy_<T>(\n\t\tbase: T,\n\t\tparent?: ImmerState\n\t): Drafted<T, ES5ObjectState | ES5ArrayState> {\n\t\tconst isArray = Array.isArray(base)\n\t\tconst draft = createES5Draft(isArray, base)\n\n\t\tconst state: ES5ObjectState | ES5ArrayState = {\n\t\t\ttype_: isArray ? ProxyTypeES5Array : (ProxyTypeES5Object as any),\n\t\t\tscope_: parent ? parent.scope_ : getCurrentScope(),\n\t\t\tmodified_: false,\n\t\t\tfinalized_: false,\n\t\t\tassigned_: {},\n\t\t\tparent_: parent,\n\t\t\t// base is the object we are drafting\n\t\t\tbase_: base,\n\t\t\t// draft is the draft object itself, that traps all reads and reads from either the base (if unmodified) or copy (if modified)\n\t\t\tdraft_: draft,\n\t\t\tcopy_: null,\n\t\t\trevoked_: false,\n\t\t\tisManual_: false\n\t\t}\n\n\t\tObject.defineProperty(draft, DRAFT_STATE, {\n\t\t\tvalue: state,\n\t\t\t// enumerable: false <- the default\n\t\t\twritable: true\n\t\t})\n\t\treturn draft\n\t}\n\n\t// property descriptors are recycled to make sure we don't create a get and set closure per property,\n\t// but share them all instead\n\tconst descriptors: {[prop: string]: PropertyDescriptor} = {}\n\n\tfunction proxyProperty(\n\t\tprop: string | number,\n\t\tenumerable: boolean\n\t): PropertyDescriptor {\n\t\tlet desc = descriptors[prop]\n\t\tif (desc) {\n\t\t\tdesc.enumerable = enumerable\n\t\t} else {\n\t\t\tdescriptors[prop] = desc = {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable,\n\t\t\t\tget(this: any) {\n\t\t\t\t\tconst state = this[DRAFT_STATE]\n\t\t\t\t\tif (__DEV__) assertUnrevoked(state)\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\treturn objectTraps.get(state, prop)\n\t\t\t\t},\n\t\t\t\tset(this: any, value) {\n\t\t\t\t\tconst state = this[DRAFT_STATE]\n\t\t\t\t\tif (__DEV__) assertUnrevoked(state)\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tobjectTraps.set(state, prop, value)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn desc\n\t}\n\n\t// This looks expensive, but only proxies are visited, and only objects without known changes are scanned.\n\tfunction markChangesSweep(drafts: Drafted<any, ImmerState>[]) {\n\t\t// The natural order of drafts in the `scope` array is based on when they\n\t\t// were accessed. By processing drafts in reverse natural order, we have a\n\t\t// better chance of processing leaf nodes first. When a leaf node is known to\n\t\t// have changed, we can avoid any traversal of its ancestor nodes.\n\t\tfor (let i = drafts.length - 1; i >= 0; i--) {\n\t\t\tconst state: ES5State = drafts[i][DRAFT_STATE]\n\t\t\tif (!state.modified_) {\n\t\t\t\tswitch (state.type_) {\n\t\t\t\t\tcase ProxyTypeES5Array:\n\t\t\t\t\t\tif (hasArrayChanges(state)) markChanged(state)\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase ProxyTypeES5Object:\n\t\t\t\t\t\tif (hasObjectChanges(state)) markChanged(state)\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction markChangesRecursively(object: any) {\n\t\tif (!object || typeof object !== \"object\") return\n\t\tconst state: ES5State | undefined = object[DRAFT_STATE]\n\t\tif (!state) return\n\t\tconst {base_, draft_, assigned_, type_} = state\n\t\tif (type_ === ProxyTypeES5Object) {\n\t\t\t// Look for added keys.\n\t\t\t// probably there is a faster way to detect changes, as sweep + recurse seems to do some\n\t\t\t// unnecessary work.\n\t\t\t// also: probably we can store the information we detect here, to speed up tree finalization!\n\t\t\teach(draft_, key => {\n\t\t\t\tif ((key as any) === DRAFT_STATE) return\n\t\t\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\t\t\tif ((base_ as any)[key] === undefined && !has(base_, key)) {\n\t\t\t\t\tassigned_[key] = true\n\t\t\t\t\tmarkChanged(state)\n\t\t\t\t} else if (!assigned_[key]) {\n\t\t\t\t\t// Only untouched properties trigger recursion.\n\t\t\t\t\tmarkChangesRecursively(draft_[key])\n\t\t\t\t}\n\t\t\t})\n\t\t\t// Look for removed keys.\n\t\t\teach(base_, key => {\n\t\t\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\t\t\tif (draft_[key] === undefined && !has(draft_, key)) {\n\t\t\t\t\tassigned_[key] = false\n\t\t\t\t\tmarkChanged(state)\n\t\t\t\t}\n\t\t\t})\n\t\t} else if (type_ === ProxyTypeES5Array) {\n\t\t\tif (hasArrayChanges(state as ES5ArrayState)) {\n\t\t\t\tmarkChanged(state)\n\t\t\t\tassigned_.length = true\n\t\t\t}\n\n\t\t\tif (draft_.length < base_.length) {\n\t\t\t\tfor (let i = draft_.length; i < base_.length; i++) assigned_[i] = false\n\t\t\t} else {\n\t\t\t\tfor (let i = base_.length; i < draft_.length; i++) assigned_[i] = true\n\t\t\t}\n\n\t\t\t// Minimum count is enough, the other parts has been processed.\n\t\t\tconst min = Math.min(draft_.length, base_.length)\n\n\t\t\tfor (let i = 0; i < min; i++) {\n\t\t\t\t// Only untouched indices trigger recursion.\n\t\t\t\tif (assigned_[i] === undefined) markChangesRecursively(draft_[i])\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction hasObjectChanges(state: ES5ObjectState) {\n\t\tconst {base_, draft_} = state\n\n\t\t// Search for added keys and changed keys. Start at the back, because\n\t\t// non-numeric keys are ordered by time of definition on the object.\n\t\tconst keys = ownKeys(draft_)\n\t\tfor (let i = keys.length - 1; i >= 0; i--) {\n\t\t\tconst key: any = keys[i]\n\t\t\tif (key === DRAFT_STATE) continue\n\t\t\tconst baseValue = base_[key]\n\t\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\t\tif (baseValue === undefined && !has(base_, key)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\t// Once a base key is deleted, future changes go undetected, because its\n\t\t\t// descriptor is erased. This branch detects any missed changes.\n\t\t\telse {\n\t\t\t\tconst value = draft_[key]\n\t\t\t\tconst state: ImmerState = value && value[DRAFT_STATE]\n\t\t\t\tif (state ? state.base_ !== baseValue : !is(value, baseValue)) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// At this point, no keys were added or changed.\n\t\t// Compare key count to determine if keys were deleted.\n\t\tconst baseIsDraft = !!base_[DRAFT_STATE as any]\n\t\treturn keys.length !== ownKeys(base_).length + (baseIsDraft ? 0 : 1) // + 1 to correct for DRAFT_STATE\n\t}\n\n\tfunction hasArrayChanges(state: ES5ArrayState) {\n\t\tconst {draft_} = state\n\t\tif (draft_.length !== state.base_.length) return true\n\t\t// See #116\n\t\t// If we first shorten the length, our array interceptors will be removed.\n\t\t// If after that new items are added, result in the same original length,\n\t\t// those last items will have no intercepting property.\n\t\t// So if there is no own descriptor on the last position, we know that items were removed and added\n\t\t// N.B.: splice, unshift, etc only shift values around, but not prop descriptors, so we only have to check\n\t\t// the last one\n\t\tconst descriptor = Object.getOwnPropertyDescriptor(\n\t\t\tdraft_,\n\t\t\tdraft_.length - 1\n\t\t)\n\t\t// descriptor can be null, but only for newly created sparse arrays, eg. new Array(10)\n\t\tif (descriptor && !descriptor.get) return true\n\t\t// For all other cases, we don't have to compare, as they would have been picked up by the index setters\n\t\treturn false\n\t}\n\n\tfunction hasChanges_(state: ES5State) {\n\t\treturn state.type_ === ProxyTypeES5Object\n\t\t\t? hasObjectChanges(state)\n\t\t\t: hasArrayChanges(state)\n\t}\n\n\tfunction assertUnrevoked(state: any /*ES5State | MapState | SetState*/) {\n\t\tif (state.revoked_) die(3, JSON.stringify(latest(state)))\n\t}\n\n\tloadPlugin(\"ES5\", {\n\t\tcreateES5Proxy_,\n\t\twillFinalizeES5_,\n\t\thasChanges_\n\t})\n}\n","import {\n\tImmerState,\n\tPatch,\n\tSetState,\n\tES5ArrayState,\n\tProxyArrayState,\n\tMapState,\n\tES5ObjectState,\n\tProxyObjectState,\n\tPatchPath,\n\tget,\n\teach,\n\thas,\n\tgetArchtype,\n\tisSet,\n\tisMap,\n\tloadPlugin,\n\tProxyTypeProxyObject,\n\tProxyTypeES5Object,\n\tProxyTypeMap,\n\tProxyTypeES5Array,\n\tProxyTypeProxyArray,\n\tProxyTypeSet,\n\tArchtypeMap,\n\tArchtypeSet,\n\tArchtypeArray,\n\tdie,\n\tisDraft,\n\tisDraftable\n} from \"../internal\"\n\nexport function enablePatches() {\n\tconst REPLACE = \"replace\"\n\tconst ADD = \"add\"\n\tconst REMOVE = \"remove\"\n\n\tfunction generatePatches_(\n\t\tstate: ImmerState,\n\t\tbasePath: PatchPath,\n\t\tpatches: Patch[],\n\t\tinversePatches: Patch[]\n\t): void {\n\t\tswitch (state.type_) {\n\t\t\tcase ProxyTypeProxyObject:\n\t\t\tcase ProxyTypeES5Object:\n\t\t\tcase ProxyTypeMap:\n\t\t\t\treturn generatePatchesFromAssigned(\n\t\t\t\t\tstate,\n\t\t\t\t\tbasePath,\n\t\t\t\t\tpatches,\n\t\t\t\t\tinversePatches\n\t\t\t\t)\n\t\t\tcase ProxyTypeES5Array:\n\t\t\tcase ProxyTypeProxyArray:\n\t\t\t\treturn generateArrayPatches(state, basePath, patches, inversePatches)\n\t\t\tcase ProxyTypeSet:\n\t\t\t\treturn generateSetPatches(\n\t\t\t\t\t(state as any) as SetState,\n\t\t\t\t\tbasePath,\n\t\t\t\t\tpatches,\n\t\t\t\t\tinversePatches\n\t\t\t\t)\n\t\t}\n\t}\n\n\tfunction generateArrayPatches(\n\t\tstate: ES5ArrayState | ProxyArrayState,\n\t\tbasePath: PatchPath,\n\t\tpatches: Patch[],\n\t\tinversePatches: Patch[]\n\t) {\n\t\tlet {base_, assigned_} = state\n\t\tlet copy_ = state.copy_!\n\n\t\t// Reduce complexity by ensuring `base` is never longer.\n\t\tif (copy_.length < base_.length) {\n\t\t\t// @ts-ignore\n\t\t\t;[base_, copy_] = [copy_, base_]\n\t\t\t;[patches, inversePatches] = [inversePatches, patches]\n\t\t}\n\n\t\t// Process replaced indices.\n\t\tfor (let i = 0; i < base_.length; i++) {\n\t\t\tif (assigned_[i] && copy_[i] !== base_[i]) {\n\t\t\t\tconst path = basePath.concat([i])\n\t\t\t\tpatches.push({\n\t\t\t\t\top: REPLACE,\n\t\t\t\t\tpath,\n\t\t\t\t\t// Need to maybe clone it, as it can in fact be the original value\n\t\t\t\t\t// due to the base/copy inversion at the start of this function\n\t\t\t\t\tvalue: clonePatchValueIfNeeded(copy_[i])\n\t\t\t\t})\n\t\t\t\tinversePatches.push({\n\t\t\t\t\top: REPLACE,\n\t\t\t\t\tpath,\n\t\t\t\t\tvalue: clonePatchValueIfNeeded(base_[i])\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\t// Process added indices.\n\t\tfor (let i = base_.length; i < copy_.length; i++) {\n\t\t\tconst path = basePath.concat([i])\n\t\t\tpatches.push({\n\t\t\t\top: ADD,\n\t\t\t\tpath,\n\t\t\t\t// Need to maybe clone it, as it can in fact be the original value\n\t\t\t\t// due to the base/copy inversion at the start of this function\n\t\t\t\tvalue: clonePatchValueIfNeeded(copy_[i])\n\t\t\t})\n\t\t}\n\t\tif (base_.length < copy_.length) {\n\t\t\tinversePatches.push({\n\t\t\t\top: REPLACE,\n\t\t\t\tpath: basePath.concat([\"length\"]),\n\t\t\t\tvalue: base_.length\n\t\t\t})\n\t\t}\n\t}\n\n\t// This is used for both Map objects and normal objects.\n\tfunction generatePatchesFromAssigned(\n\t\tstate: MapState | ES5ObjectState | ProxyObjectState,\n\t\tbasePath: PatchPath,\n\t\tpatches: Patch[],\n\t\tinversePatches: Patch[]\n\t) {\n\t\tconst {base_, copy_} = state\n\t\teach(state.assigned_!, (key, assignedValue) => {\n\t\t\tconst origValue = get(base_, key)\n\t\t\tconst value = get(copy_!, key)\n\t\t\tconst op = !assignedValue ? REMOVE : has(base_, key) ? REPLACE : ADD\n\t\t\tif (origValue === value && op === REPLACE) return\n\t\t\tconst path = basePath.concat(key as any)\n\t\t\tpatches.push(op === REMOVE ? {op, path} : {op, path, value})\n\t\t\tinversePatches.push(\n\t\t\t\top === ADD\n\t\t\t\t\t? {op: REMOVE, path}\n\t\t\t\t\t: op === REMOVE\n\t\t\t\t\t? {op: ADD, path, value: clonePatchValueIfNeeded(origValue)}\n\t\t\t\t\t: {op: REPLACE, path, value: clonePatchValueIfNeeded(origValue)}\n\t\t\t)\n\t\t})\n\t}\n\n\tfunction generateSetPatches(\n\t\tstate: SetState,\n\t\tbasePath: PatchPath,\n\t\tpatches: Patch[],\n\t\tinversePatches: Patch[]\n\t) {\n\t\tlet {base_, copy_} = state\n\n\t\tlet i = 0\n\t\tbase_.forEach((value: any) => {\n\t\t\tif (!copy_!.has(value)) {\n\t\t\t\tconst path = basePath.concat([i])\n\t\t\t\tpatches.push({\n\t\t\t\t\top: REMOVE,\n\t\t\t\t\tpath,\n\t\t\t\t\tvalue\n\t\t\t\t})\n\t\t\t\tinversePatches.unshift({\n\t\t\t\t\top: ADD,\n\t\t\t\t\tpath,\n\t\t\t\t\tvalue\n\t\t\t\t})\n\t\t\t}\n\t\t\ti++\n\t\t})\n\t\ti = 0\n\t\tcopy_!.forEach((value: any) => {\n\t\t\tif (!base_.has(value)) {\n\t\t\t\tconst path = basePath.concat([i])\n\t\t\t\tpatches.push({\n\t\t\t\t\top: ADD,\n\t\t\t\t\tpath,\n\t\t\t\t\tvalue\n\t\t\t\t})\n\t\t\t\tinversePatches.unshift({\n\t\t\t\t\top: REMOVE,\n\t\t\t\t\tpath,\n\t\t\t\t\tvalue\n\t\t\t\t})\n\t\t\t}\n\t\t\ti++\n\t\t})\n\t}\n\n\tfunction generateReplacementPatches_(\n\t\trootState: ImmerState,\n\t\treplacement: any,\n\t\tpatches: Patch[],\n\t\tinversePatches: Patch[]\n\t): void {\n\t\tpatches.push({\n\t\t\top: REPLACE,\n\t\t\tpath: [],\n\t\t\tvalue: replacement\n\t\t})\n\t\tinversePatches.push({\n\t\t\top: REPLACE,\n\t\t\tpath: [],\n\t\t\tvalue: rootState.base_\n\t\t})\n\t}\n\n\tfunction applyPatches_<T>(draft: T, patches: Patch[]): T {\n\t\tpatches.forEach(patch => {\n\t\t\tconst {path, op} = patch\n\n\t\t\tlet base: any = draft\n\t\t\tfor (let i = 0; i < path.length - 1; i++) {\n\t\t\t\tbase = get(base, path[i])\n\t\t\t\tif (typeof base !== \"object\") die(15, path.join(\"/\"))\n\t\t\t}\n\n\t\t\tconst type = getArchtype(base)\n\t\t\tconst value = deepClonePatchValue(patch.value) // used to clone patch to ensure original patch is not modified, see #411\n\t\t\tconst key = path[path.length - 1]\n\t\t\tswitch (op) {\n\t\t\t\tcase REPLACE:\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase ArchtypeMap:\n\t\t\t\t\t\t\treturn base.set(key, value)\n\t\t\t\t\t\t/* istanbul ignore next */\n\t\t\t\t\t\tcase ArchtypeSet:\n\t\t\t\t\t\t\tdie(16)\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t// if value is an object, then it's assigned by reference\n\t\t\t\t\t\t\t// in the following add or remove ops, the value field inside the patch will also be modifyed\n\t\t\t\t\t\t\t// so we use value from the cloned patch\n\t\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t\treturn (base[key] = value)\n\t\t\t\t\t}\n\t\t\t\tcase ADD:\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase ArchtypeArray:\n\t\t\t\t\t\t\treturn base.splice(key as any, 0, value)\n\t\t\t\t\t\tcase ArchtypeMap:\n\t\t\t\t\t\t\treturn base.set(key, value)\n\t\t\t\t\t\tcase ArchtypeSet:\n\t\t\t\t\t\t\treturn base.add(value)\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn (base[key] = value)\n\t\t\t\t\t}\n\t\t\t\tcase REMOVE:\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase ArchtypeArray:\n\t\t\t\t\t\t\treturn base.splice(key as any, 1)\n\t\t\t\t\t\tcase ArchtypeMap:\n\t\t\t\t\t\t\treturn base.delete(key)\n\t\t\t\t\t\tcase ArchtypeSet:\n\t\t\t\t\t\t\treturn base.delete(patch.value)\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn delete base[key]\n\t\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\tdie(17, op)\n\t\t\t}\n\t\t})\n\n\t\treturn draft\n\t}\n\n\t// optimize: this is quite a performance hit, can we detect intelligently when it is needed?\n\t// E.g. auto-draft when new objects from outside are assigned and modified?\n\t// (See failing test when deepClone just returns obj)\n\tfunction deepClonePatchValue<T>(obj: T): T\n\tfunction deepClonePatchValue(obj: any) {\n\t\tif (!isDraftable(obj)) return obj\n\t\tif (Array.isArray(obj)) return obj.map(deepClonePatchValue)\n\t\tif (isMap(obj))\n\t\t\treturn new Map(\n\t\t\t\tArray.from(obj.entries()).map(([k, v]) => [k, deepClonePatchValue(v)])\n\t\t\t)\n\t\tif (isSet(obj)) return new Set(Array.from(obj).map(deepClonePatchValue))\n\t\tconst cloned = Object.create(Object.getPrototypeOf(obj))\n\t\tfor (const key in obj) cloned[key] = deepClonePatchValue(obj[key])\n\t\treturn cloned\n\t}\n\n\tfunction clonePatchValueIfNeeded<T>(obj: T): T {\n\t\tif (isDraft(obj)) {\n\t\t\treturn deepClonePatchValue(obj)\n\t\t} else return obj\n\t}\n\n\tloadPlugin(\"Patches\", {\n\t\tapplyPatches_,\n\t\tgeneratePatches_,\n\t\tgenerateReplacementPatches_\n\t})\n}\n","// types only!\nimport {\n\tImmerState,\n\tAnyMap,\n\tAnySet,\n\tMapState,\n\tSetState,\n\tDRAFT_STATE,\n\tgetCurrentScope,\n\tlatest,\n\titeratorSymbol,\n\tisDraftable,\n\tcreateProxy,\n\tloadPlugin,\n\tmarkChanged,\n\tProxyTypeMap,\n\tProxyTypeSet,\n\tdie,\n\teach\n} from \"../internal\"\n\nexport function enableMapSet() {\n\t/* istanbul ignore next */\n\tvar extendStatics = function(d: any, b: any): any {\n\t\textendStatics =\n\t\t\tObject.setPrototypeOf ||\n\t\t\t({__proto__: []} instanceof Array &&\n\t\t\t\tfunction(d, b) {\n\t\t\t\t\td.__proto__ = b\n\t\t\t\t}) ||\n\t\t\tfunction(d, b) {\n\t\t\t\tfor (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]\n\t\t\t}\n\t\treturn extendStatics(d, b)\n\t}\n\n\t// Ugly hack to resolve #502 and inherit built in Map / Set\n\tfunction __extends(d: any, b: any): any {\n\t\textendStatics(d, b)\n\t\tfunction __(this: any): any {\n\t\t\tthis.constructor = d\n\t\t}\n\t\td.prototype =\n\t\t\t// @ts-ignore\n\t\t\t((__.prototype = b.prototype), new __())\n\t}\n\n\tconst DraftMap = (function(_super) {\n\t\t__extends(DraftMap, _super)\n\t\t// Create class manually, cause #502\n\t\tfunction DraftMap(this: any, target: AnyMap, parent?: ImmerState): any {\n\t\t\tthis[DRAFT_STATE] = {\n\t\t\t\ttype_: ProxyTypeMap,\n\t\t\t\tparent_: parent,\n\t\t\t\tscope_: parent ? parent.scope_ : getCurrentScope()!,\n\t\t\t\tmodified_: false,\n\t\t\t\tfinalized_: false,\n\t\t\t\tcopy_: undefined,\n\t\t\t\tassigned_: undefined,\n\t\t\t\tbase_: target,\n\t\t\t\tdraft_: this as any,\n\t\t\t\tisManual_: false,\n\t\t\t\trevoked_: false\n\t\t\t} as MapState\n\t\t\treturn this\n\t\t}\n\t\tconst p = DraftMap.prototype\n\n\t\tObject.defineProperty(p, \"size\", {\n\t\t\tget: function() {\n\t\t\t\treturn latest(this[DRAFT_STATE]).size\n\t\t\t}\n\t\t\t// enumerable: false,\n\t\t\t// configurable: true\n\t\t})\n\n\t\tp.has = function(key: any): boolean {\n\t\t\treturn latest(this[DRAFT_STATE]).has(key)\n\t\t}\n\n\t\tp.set = function(key: any, value: any) {\n\t\t\tconst state: MapState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tif (!latest(state).has(key) || latest(state).get(key) !== value) {\n\t\t\t\tprepareMapCopy(state)\n\t\t\t\tmarkChanged(state)\n\t\t\t\tstate.assigned_!.set(key, true)\n\t\t\t\tstate.copy_!.set(key, value)\n\t\t\t\tstate.assigned_!.set(key, true)\n\t\t\t}\n\t\t\treturn this\n\t\t}\n\n\t\tp.delete = function(key: any): boolean {\n\t\t\tif (!this.has(key)) {\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst state: MapState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tprepareMapCopy(state)\n\t\t\tmarkChanged(state)\n\t\t\tstate.assigned_!.set(key, false)\n\t\t\tstate.copy_!.delete(key)\n\t\t\treturn true\n\t\t}\n\n\t\tp.clear = function() {\n\t\t\tconst state: MapState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tif (latest(state).size) {\n\t\t\t\tprepareMapCopy(state)\n\t\t\t\tmarkChanged(state)\n\t\t\t\tstate.assigned_ = new Map()\n\t\t\t\teach(state.base_, key => {\n\t\t\t\t\tstate.assigned_!.set(key, false)\n\t\t\t\t})\n\t\t\t\tstate.copy_!.clear()\n\t\t\t}\n\t\t}\n\n\t\tp.forEach = function(\n\t\t\tcb: (value: any, key: any, self: any) => void,\n\t\t\tthisArg?: any\n\t\t) {\n\t\t\tconst state: MapState = this[DRAFT_STATE]\n\t\t\tlatest(state).forEach((_value: any, key: any, _map: any) => {\n\t\t\t\tcb.call(thisArg, this.get(key), key, this)\n\t\t\t})\n\t\t}\n\n\t\tp.get = function(key: any): any {\n\t\t\tconst state: MapState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tconst value = latest(state).get(key)\n\t\t\tif (state.finalized_ || !isDraftable(value)) {\n\t\t\t\treturn value\n\t\t\t}\n\t\t\tif (value !== state.base_.get(key)) {\n\t\t\t\treturn value // either already drafted or reassigned\n\t\t\t}\n\t\t\t// despite what it looks, this creates a draft only once, see above condition\n\t\t\tconst draft = createProxy(state.scope_.immer_, value, state)\n\t\t\tprepareMapCopy(state)\n\t\t\tstate.copy_!.set(key, draft)\n\t\t\treturn draft\n\t\t}\n\n\t\tp.keys = function(): IterableIterator<any> {\n\t\t\treturn latest(this[DRAFT_STATE]).keys()\n\t\t}\n\n\t\tp.values = function(): IterableIterator<any> {\n\t\t\tconst iterator = this.keys()\n\t\t\treturn {\n\t\t\t\t[iteratorSymbol]: () => this.values(),\n\t\t\t\tnext: () => {\n\t\t\t\t\tconst r = iterator.next()\n\t\t\t\t\t/* istanbul ignore next */\n\t\t\t\t\tif (r.done) return r\n\t\t\t\t\tconst value = this.get(r.value)\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdone: false,\n\t\t\t\t\t\tvalue\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} as any\n\t\t}\n\n\t\tp.entries = function(): IterableIterator<[any, any]> {\n\t\t\tconst iterator = this.keys()\n\t\t\treturn {\n\t\t\t\t[iteratorSymbol]: () => this.entries(),\n\t\t\t\tnext: () => {\n\t\t\t\t\tconst r = iterator.next()\n\t\t\t\t\t/* istanbul ignore next */\n\t\t\t\t\tif (r.done) return r\n\t\t\t\t\tconst value = this.get(r.value)\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdone: false,\n\t\t\t\t\t\tvalue: [r.value, value]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} as any\n\t\t}\n\n\t\tp[iteratorSymbol] = function() {\n\t\t\treturn this.entries()\n\t\t}\n\n\t\treturn DraftMap\n\t})(Map)\n\n\tfunction proxyMap_<T extends AnyMap>(target: T, parent?: ImmerState): T {\n\t\t// @ts-ignore\n\t\treturn new DraftMap(target, parent)\n\t}\n\n\tfunction prepareMapCopy(state: MapState) {\n\t\tif (!state.copy_) {\n\t\t\tstate.assigned_ = new Map()\n\t\t\tstate.copy_ = new Map(state.base_)\n\t\t}\n\t}\n\n\tconst DraftSet = (function(_super) {\n\t\t__extends(DraftSet, _super)\n\t\t// Create class manually, cause #502\n\t\tfunction DraftSet(this: any, target: AnySet, parent?: ImmerState) {\n\t\t\tthis[DRAFT_STATE] = {\n\t\t\t\ttype_: ProxyTypeSet,\n\t\t\t\tparent_: parent,\n\t\t\t\tscope_: parent ? parent.scope_ : getCurrentScope()!,\n\t\t\t\tmodified_: false,\n\t\t\t\tfinalized_: false,\n\t\t\t\tcopy_: undefined,\n\t\t\t\tbase_: target,\n\t\t\t\tdraft_: this,\n\t\t\t\tdrafts_: new Map(),\n\t\t\t\trevoked_: false,\n\t\t\t\tisManual_: false\n\t\t\t} as SetState\n\t\t\treturn this\n\t\t}\n\t\tconst p = DraftSet.prototype\n\n\t\tObject.defineProperty(p, \"size\", {\n\t\t\tget: function() {\n\t\t\t\treturn latest(this[DRAFT_STATE]).size\n\t\t\t}\n\t\t\t// enumerable: true,\n\t\t})\n\n\t\tp.has = function(value: any): boolean {\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\t// bit of trickery here, to be able to recognize both the value, and the draft of its value\n\t\t\tif (!state.copy_) {\n\t\t\t\treturn state.base_.has(value)\n\t\t\t}\n\t\t\tif (state.copy_.has(value)) return true\n\t\t\tif (state.drafts_.has(value) && state.copy_.has(state.drafts_.get(value)))\n\t\t\t\treturn true\n\t\t\treturn false\n\t\t}\n\n\t\tp.add = function(value: any): any {\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tif (!this.has(value)) {\n\t\t\t\tprepareSetCopy(state)\n\t\t\t\tmarkChanged(state)\n\t\t\t\tstate.copy_!.add(value)\n\t\t\t}\n\t\t\treturn this\n\t\t}\n\n\t\tp.delete = function(value: any): any {\n\t\t\tif (!this.has(value)) {\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tprepareSetCopy(state)\n\t\t\tmarkChanged(state)\n\t\t\treturn (\n\t\t\t\tstate.copy_!.delete(value) ||\n\t\t\t\t(state.drafts_.has(value)\n\t\t\t\t\t? state.copy_!.delete(state.drafts_.get(value))\n\t\t\t\t\t: /* istanbul ignore next */ false)\n\t\t\t)\n\t\t}\n\n\t\tp.clear = function() {\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tif (latest(state).size) {\n\t\t\t\tprepareSetCopy(state)\n\t\t\t\tmarkChanged(state)\n\t\t\t\tstate.copy_!.clear()\n\t\t\t}\n\t\t}\n\n\t\tp.values = function(): IterableIterator<any> {\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tprepareSetCopy(state)\n\t\t\treturn state.copy_!.values()\n\t\t}\n\n\t\tp.entries = function entries(): IterableIterator<[any, any]> {\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tprepareSetCopy(state)\n\t\t\treturn state.copy_!.entries()\n\t\t}\n\n\t\tp.keys = function(): IterableIterator<any> {\n\t\t\treturn this.values()\n\t\t}\n\n\t\tp[iteratorSymbol] = function() {\n\t\t\treturn this.values()\n\t\t}\n\n\t\tp.forEach = function forEach(cb: any, thisArg?: any) {\n\t\t\tconst iterator = this.values()\n\t\t\tlet result = iterator.next()\n\t\t\twhile (!result.done) {\n\t\t\t\tcb.call(thisArg, result.value, result.value, this)\n\t\t\t\tresult = iterator.next()\n\t\t\t}\n\t\t}\n\n\t\treturn DraftSet\n\t})(Set)\n\n\tfunction proxySet_<T extends AnySet>(target: T, parent?: ImmerState): T {\n\t\t// @ts-ignore\n\t\treturn new DraftSet(target, parent)\n\t}\n\n\tfunction prepareSetCopy(state: SetState) {\n\t\tif (!state.copy_) {\n\t\t\t// create drafts for all entries to preserve insertion order\n\t\t\tstate.copy_ = new Set()\n\t\t\tstate.base_.forEach(value => {\n\t\t\t\tif (isDraftable(value)) {\n\t\t\t\t\tconst draft = createProxy(state.scope_.immer_, value, state)\n\t\t\t\t\tstate.drafts_.set(value, draft)\n\t\t\t\t\tstate.copy_!.add(draft)\n\t\t\t\t} else {\n\t\t\t\t\tstate.copy_!.add(value)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\tfunction assertUnrevoked(state: any /*ES5State | MapState | SetState*/) {\n\t\tif (state.revoked_) die(3, JSON.stringify(latest(state)))\n\t}\n\n\tloadPlugin(\"MapSet\", {proxyMap_, proxySet_})\n}\n","import {enableES5} from \"./es5\"\nimport {enableMapSet} from \"./mapset\"\nimport {enablePatches} from \"./patches\"\n\nexport function enableAllPlugins() {\n\tenableES5()\n\tenableMapSet()\n\tenablePatches()\n}\n","import {\n\tIProduce,\n\tIProduceWithPatches,\n\tImmer,\n\tDraft,\n\tImmutable\n} from \"./internal\"\n\nexport {\n\tDraft,\n\tImmutable,\n\tPatch,\n\tPatchListener,\n\toriginal,\n\tcurrent,\n\tisDraft,\n\tisDraftable,\n\tNOTHING as nothing,\n\tDRAFTABLE as immerable\n} from \"./internal\"\n\nconst immer = new Immer()\n\n/**\n * The `produce` function takes a value and a \"recipe function\" (whose\n * return value often depends on the base state). The recipe function is\n * free to mutate its first argument however it wants. All mutations are\n * only ever applied to a __copy__ of the base state.\n *\n * Pass only a function to create a \"curried producer\" which relieves you\n * from passing the recipe function every time.\n *\n * Only plain objects and arrays are made mutable. All other objects are\n * considered uncopyable.\n *\n * Note: This function is __bound__ to its `Immer` instance.\n *\n * @param {any} base - the initial state\n * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n * @param {Function} patchListener - optional function that will be called with all the patches produced here\n * @returns {any} a new state, or the initial state if nothing was modified\n */\nexport const produce: IProduce = immer.produce\nexport default produce\n\n/**\n * Like `produce`, but `produceWithPatches` always returns a tuple\n * [nextState, patches, inversePatches] (instead of just the next state)\n */\nexport const produceWithPatches: IProduceWithPatches = immer.produceWithPatches.bind(\n\timmer\n)\n\n/**\n * Pass true to automatically freeze all copies created by Immer.\n *\n * By default, auto-freezing is disabled in production.\n */\nexport const setAutoFreeze = immer.setAutoFreeze.bind(immer)\n\n/**\n * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n * always faster than using ES5 proxies.\n *\n * By default, feature detection is used, so calling this is rarely necessary.\n */\nexport const setUseProxies = immer.setUseProxies.bind(immer)\n\n/**\n * Apply an array of Immer patches to the first argument.\n *\n * This function is a producer, which means copy-on-write is in effect.\n */\nexport const applyPatches = immer.applyPatches.bind(immer)\n\n/**\n * Create an Immer draft from the given base state, which may be a draft itself.\n * The draft can be modified until you finalize it with the `finishDraft` function.\n */\nexport const createDraft = immer.createDraft.bind(immer)\n\n/**\n * Finalize an Immer draft from a `createDraft` call, returning the base state\n * (if no changes were made) or a modified copy. The draft must *not* be\n * mutated afterwards.\n *\n * Pass a function as the 2nd argument to generate Immer patches based on the\n * changes that were made.\n */\nexport const finishDraft = immer.finishDraft.bind(immer)\n\n/**\n * This function is actually a no-op, but can be used to cast an immutable type\n * to an draft type and make TypeScript happy\n *\n * @param value\n */\nexport function castDraft<T>(value: T): Draft<T> {\n\treturn value as any\n}\n\n/**\n * This function is actually a no-op, but can be used to cast a mutable type\n * to an immutable type and make TypeScript happy\n * @param value\n */\nexport function castImmutable<T>(value: T): Immutable<T> {\n\treturn value as any\n}\n\nexport {Immer}\n\nexport {enableES5} from \"./plugins/es5\"\nexport {enablePatches} from \"./plugins/patches\"\nexport {enableMapSet} from \"./plugins/mapset\"\nexport {enableAllPlugins} from \"./plugins/all\"\n","// Should be no imports here!\n\n// Some things that should be evaluated before all else...\n\n// We only want to know if non-polyfilled symbols are available\nconst hasSymbol =\n\ttypeof Symbol !== \"undefined\" && typeof Symbol(\"x\") === \"symbol\"\nexport const hasMap = typeof Map !== \"undefined\"\nexport const hasSet = typeof Set !== \"undefined\"\nexport const hasProxies =\n\ttypeof Proxy !== \"undefined\" &&\n\ttypeof Proxy.revocable !== \"undefined\" &&\n\ttypeof Reflect !== \"undefined\"\n\n/* istanbul ignore next */\nfunction mini() {}\nexport const isMinified = mini.name !== \"mini\"\n\n/**\n * The sentinel value returned by producers to replace the draft with undefined.\n */\nexport const NOTHING: Nothing = hasSymbol\n\t? Symbol.for(\"immer-nothing\")\n\t: ({[\"immer-nothing\"]: true} as any)\n\n/**\n * To let Immer treat your class instances as plain immutable objects\n * (albeit with a custom prototype), you must define either an instance property\n * or a static property on each of your custom classes.\n *\n * Otherwise, your class instance will never be drafted, which means it won't be\n * safe to mutate in a produce callback.\n */\nexport const DRAFTABLE: unique symbol = hasSymbol\n\t? Symbol.for(\"immer-draftable\")\n\t: (\"__$immer_draftable\" as any)\n\nexport const DRAFT_STATE: unique symbol = hasSymbol\n\t? Symbol.for(\"immer-state\")\n\t: (\"__$immer_state\" as any)\n\n// Even a polyfilled Symbol might provide Symbol.iterator\nexport const iteratorSymbol: typeof Symbol.iterator =\n\t(typeof Symbol != \"undefined\" && Symbol.iterator) || (\"@@iterator\" as any)\n\n/** Use a class type for `nothing` so its type is unique */\nexport class Nothing {\n\t// This lets us do `Exclude<T, Nothing>`\n\t// @ts-ignore\n\tprivate _!: unique symbol\n}\n","import produce from \"immer\";\nvar PureStore = /** @class */ (function () {\n    function PureStore(parent, getter, rootState) {\n        var _this = this;\n        this.callbacks = [];\n        this.getState = function () { return _this.getter(_this.root.rootState); };\n        this.update = function (updater) {\n            var updaterFn = (updater instanceof Function) ?\n                updater : function (e) { return Object.assign(e, updater); };\n            var oldState = _this.root.rootState;\n            _this.root.rootState = produce(_this.root.rootState, function (s) {\n                updaterFn(_this.getter(s));\n            });\n            if (_this.root.rootState !== oldState) {\n                _this.root.callbacks.forEach(function (callback) { return callback(); });\n            }\n        };\n        this.storeFor = function (getter) { return new PureStore(_this, getter); };\n        this.updaterFor = function (getter) { return _this.storeFor(getter).update; };\n        this.subscribe = function (callback) {\n            _this.root.callbacks.push(callback);\n            return function () { return _this.root.callbacks.splice(_this.root.callbacks.indexOf(callback), 1); };\n        };\n        this.parent = parent;\n        this.root = (parent && parent.root) || this;\n        if (!parent)\n            this.rootState = rootState;\n        this.getter = function (s) { return getter(parent ? parent.getter(s) : s); };\n    }\n    Object.defineProperty(PureStore.prototype, \"state\", {\n        get: function () { return this.getState(); },\n        enumerable: true,\n        configurable: true\n    });\n    return PureStore;\n}());\nexport { PureStore };\nexport default (function (state) { return (new PureStore(null, function (s) { return s; }, state)); });\n","import { GetStylesApi } from \"@raikou/core\";\nimport type { TableFactory } from \"./Table\";\nimport createStore from \"pure-store\";\n\nexport type TableContextValue = {\n  getStyles: GetStylesApi<TableFactory> | any;\n  striped: \"odd\" | \"even\" | undefined;\n  highlightOnHover: boolean | undefined;\n  withColumnBorders: boolean | undefined;\n  withRowBorders: boolean | undefined;\n  captionSide: \"top\" | \"bottom\";\n};\n\nexport const useStore = createStore<TableContextValue>({\n  getStyles: undefined,\n  striped: undefined,\n  highlightOnHover: undefined,\n  withColumnBorders: undefined,\n  withRowBorders: undefined,\n  captionSide: \"top\",\n});\n","import React from 'react';\nimport {\n  TableTd,\n  TableTr,\n  TableTh,\n  TableTbody,\n  TableTfoot,\n  TableThead,\n  TableCaption,\n} from './Table.components';\nimport type { TableData } from './Table';\n\nexport interface TableDataRendererProps {\n  data: TableData;\n}\n\nexport function TableDataRenderer({ data }: TableDataRendererProps) {\n  return (\n    <>\n      {data.caption && <TableCaption>{data.caption}</TableCaption>}\n\n      {data.head && (\n        <TableThead>\n          <TableTr>\n            {data.head.map((item, index) => (\n              <TableTh key={index}>{item}</TableTh>\n            ))}\n          </TableTr>\n        </TableThead>\n      )}\n\n      {data.body && (\n        <TableTbody>\n          {data.body.map((row, rowIndex) => (\n            <TableTr key={rowIndex}>\n              {row.map((item, index) => (\n                <TableTd key={index}>{item}</TableTd>\n              ))}\n            </TableTr>\n          ))}\n        </TableTbody>\n      )}\n\n      {data.foot && (\n        <TableTfoot>\n          <TableTr>\n            {data.foot.map((item, index) => (\n              <TableTh key={index}>{item}</TableTh>\n            ))}\n          </TableTr>\n        </TableTfoot>\n      )}\n    </>\n  );\n}\n\nTableDataRenderer.displayName = '@mantine/core/TableDataRenderer';\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/Table/src/Table.module.css\"; export default {\"table\":\"m-b23fa0ef\",\"th\":\"m-4e7aa4f3\",\"tr\":\"m-4e7aa4fd\",\"td\":\"m-4e7aa4ef\",\"tbody\":\"m-b2404537\",\"thead\":\"m-b242d975\",\"caption\":\"m-9e5a3ac7\",\"scrollContainer\":\"m-a100c15\",\"scrollContainerInner\":\"m-62259741\"}","import React from \"react\";\nimport classes from \"./DataTableEmptyRow.module.css\";\n\nexport function DataTableEmptyRow() {\n  return (\n    <tr className={classes[\"mantine-datatable-empty-row\"]}>\n      <td />\n    </tr>\n  );\n}\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/datatable/src/DataTableEmptyRow.module.css\"; export default {\"mantine-datatable-empty-row\":\"m-ddb297ee\"}","import React from \"react\";\n\nimport { type RaikouSpacing, type StyleProp } from \"@raikou/core\";\nimport { Center } from \"../../components/Center/src\";\nimport { Text } from \"../../components/Text/src\";\nimport { IconDatabaseOff } from \"./icons/IconDatabaseOff\";\nimport classes from \"./DataTableEmptyState.module.css\";\n\ntype DataTableEmptyStateProps = React.PropsWithChildren<{\n  icon: React.ReactNode | undefined;\n  text: string;\n  pt: StyleProp<RaikouSpacing>;\n  pb: StyleProp<RaikouSpacing>;\n  active: boolean;\n}>;\n\nexport function DataTableEmptyState({\n  icon,\n  text,\n  pt,\n  pb,\n  active,\n  children,\n}: DataTableEmptyStateProps) {\n  return (\n    <Center\n      pt={pt}\n      pb={pb}\n      className={classes[\"mantine-datatable-empty-state\"]}\n      data-active={active || undefined}\n    >\n      {children || (\n        <>\n          {icon || (\n            <div className={classes[\"mantine-datatable-empty-state-icon\"]}>\n              <IconDatabaseOff />\n            </div>\n          )}\n          <Text size=\"sm\" c=\"dimmed\">\n            {text}\n          </Text>\n        </>\n      )}\n    </Center>\n  );\n}\n","import React from \"react\";\nimport {\n  Box,\n  BoxProps,\n  StylesApiProps,\n  polymorphicFactory,\n  useProps,\n  useStyles,\n  PolymorphicFactory,\n} from \"@raikou/core\";\nimport classes from \"./Center.module.css\";\n\nexport type CenterStylesNames = \"root\";\n\nexport interface CenterProps extends BoxProps, StylesApiProps<CenterFactory> {\n  /** Content that should be centered vertically and horizontally */\n  children?: React.ReactNode;\n\n  /** Determines whether `inline-flex` should be used instead of `flex`, `false` by default */\n  inline?: boolean;\n}\n\nexport type CenterFactory = PolymorphicFactory<{\n  props: CenterProps;\n  defaultRef: HTMLDivElement;\n  defaultComponent: \"div\";\n  stylesNames: CenterStylesNames;\n}>;\n\nconst defaultProps: Partial<CenterProps> = {};\n\nexport const Center = polymorphicFactory<CenterFactory>((_props, ref) => {\n  const props = useProps(\"Center\", defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    unstyled,\n    vars,\n    inline,\n    ...others\n  } = props;\n\n  const getStyles = useStyles<CenterFactory>({\n    name: \"Center\",\n    props,\n    classes,\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    vars,\n  });\n\n  return <Box ref={ref} mod={{ inline }} {...getStyles(\"root\")} {...others} />;\n});\n\nCenter.displayName = \"@raikou/core/Center\";\nCenter.classes = classes;\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/Center/src/Center.module.css\"; export default {\"root\":\"m-4451eb3a\"}","import React from \"react\";\nimport {\n  Box,\n  BoxProps,\n  StylesApiProps,\n  polymorphicFactory,\n  RaikouGradient,\n  useStyles,\n  useProps,\n  getGradient,\n  BoxMod,\n  createVarsResolver,\n  PolymorphicFactory,\n  RaikouSize,\n  getFontSize,\n  getLineHeight,\n} from \"@raikou/core\";\nimport classes from \"./Text.module.css\";\n\ntype TextTruncate = \"end\" | \"start\" | boolean;\n\nfunction getTextTruncate(truncate: TextTruncate | undefined) {\n  if (truncate === \"start\") {\n    return \"start\";\n  }\n\n  if (truncate === \"end\" || truncate) {\n    return \"end\";\n  }\n\n  return undefined;\n}\n\nexport type TextStylesNames = \"root\";\nexport type TextVariant = \"text\" | \"gradient\";\nexport type TextCssVariables = {\n  root: \"--text-gradient\" | \"--text-line-clamp\" | \"--text-fz\" | \"--text-lh\";\n};\n\nexport interface TextProps extends BoxProps, StylesApiProps<TextFactory> {\n  __staticSelector?: string;\n  mod?: BoxMod;\n\n  /** Controls `font-size` and `line-height`, `'md'` by default */\n  size?: RaikouSize | (string & {});\n\n  /** Number of lines after which Text will be truncated */\n  lineClamp?: number;\n\n  /** Side on which Text must be truncated, if `true`, text in truncated from the start */\n  truncate?: TextTruncate;\n\n  /** Sets `line-height` to 1 for centering, `false` by default */\n  inline?: boolean;\n\n  /** Determines whether font properties should be inherited from the parent, `false` by default */\n  inherit?: boolean;\n\n  /** Gradient configuration, ignored when `variant` is not `gradient`, `theme.defaultGradient` by default */\n  gradient?: RaikouGradient;\n\n  /** Shorthand for `component=\"span\"`, `false` by default, default root element is `p` */\n  span?: boolean;\n}\n\nexport type TextFactory = PolymorphicFactory<{\n  props: TextProps;\n  defaultComponent: \"p\";\n  defaultRef: HTMLParagraphElement;\n  stylesNames: TextStylesNames;\n  vars: TextCssVariables;\n  variant: TextVariant;\n}>;\n\nconst defaultProps: Partial<TextProps> = {\n  inherit: false,\n};\n\nconst varsResolver = createVarsResolver<TextFactory>(\n  (theme, { variant, lineClamp, gradient, size }) => ({\n    root: {\n      \"--text-fz\": getFontSize(size),\n      \"--text-lh\": getLineHeight(size),\n      \"--text-gradient\":\n        variant === \"gradient\" ? getGradient(gradient, theme) : undefined,\n      \"--text-line-clamp\":\n        typeof lineClamp === \"number\" ? lineClamp.toString() : undefined,\n    },\n  }),\n);\n\nexport const Text = polymorphicFactory<TextFactory>((_props, ref) => {\n  const props = useProps(\"Text\", defaultProps, _props);\n  const {\n    lineClamp,\n    truncate,\n    inline,\n    inherit,\n    gradient,\n    span,\n    __staticSelector,\n    vars,\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    variant,\n    mod,\n    size,\n    ...others\n  } = props;\n\n  const getStyles = useStyles<TextFactory>({\n    name: [\"Text\", __staticSelector],\n    props,\n    classes,\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    vars,\n    varsResolver,\n  });\n\n  return (\n    <Box\n      {...getStyles(\"root\", { focusable: true })}\n      ref={ref}\n      component={span ? \"span\" : \"p\"}\n      variant={variant}\n      mod={[\n        {\n          \"data-truncate\": getTextTruncate(truncate),\n          \"data-line-clamp\": typeof lineClamp === \"number\",\n          \"data-inline\": inline,\n          \"data-inherit\": inherit,\n        },\n        mod,\n      ]}\n      size={size}\n      {...others}\n    />\n  );\n});\n\nText.classes = classes;\nText.displayName = \"@raikou/core/Text\";\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/Text/src/Text.module.css\"; export default {\"root\":\"m-b6d8b162\"}","import React from \"react\";\n\nexport function IconDatabaseOff() {\n  return (\n    <svg\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      strokeWidth=\"2\"\n      stroke=\"currentColor\"\n      fill=\"none\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\n      <path d=\"M12.983 8.978c3.955 -.182 7.017 -1.446 7.017 -2.978c0 -1.657 -3.582 -3 -8 -3c-1.661 0 -3.204 .19 -4.483 .515m-2.783 1.228c-.471 .382 -.734 .808 -.734 1.257c0 1.22 1.944 2.271 4.734 2.74\" />\n      <path d=\"M4 6v6c0 1.657 3.582 3 8 3c.986 0 1.93 -.067 2.802 -.19m3.187 -.82c1.251 -.53 2.011 -1.228 2.011 -1.99v-6\" />\n      <path d=\"M4 12v6c0 1.657 3.582 3 8 3c3.217 0 5.991 -.712 7.261 -1.74m.739 -3.26v-4\" />\n      <path d=\"M3 3l18 18\" />\n    </svg>\n  );\n}\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/datatable/src/DataTableEmptyState.module.css\"; export default {\"mantine-datatable-empty-state\":\"m-4d3d1c5c\",\"mantine-datatable-empty-state-icon\":\"m-d83d9b4a\"}","import React, { forwardRef } from \"react\";\nimport { rem, type RaikouStyleProp } from \"@raikou/core\";\nimport { TableTfoot, TableTr } from \"../../components/Table/src\";\nimport clsx from \"clsx\";\nimport { DataTableFooterCell } from \"./DataTableFooterCell\";\nimport { DataTableFooterSelectorPlaceholderCell } from \"./DataTableFooterSelectorPlaceholderCell\";\nimport type { DataTableColumn, DataTableDefaultColumnProps } from \"./types\";\nimport classes from \"./DataTableFooter.module.css\";\n\ntype DataTableFooterProps<T> = {\n  className: string | undefined;\n  style: RaikouStyleProp | undefined;\n  columns: DataTableColumn<T>[];\n  defaultColumnProps: DataTableDefaultColumnProps<T> | undefined;\n  selectionVisible: boolean;\n  selectorCellShadowVisible: boolean;\n  scrollDiff: number;\n};\n\nexport const DataTableFooter = forwardRef(function DataTableFooter<T>(\n  {\n    className,\n    style,\n    columns,\n    defaultColumnProps,\n    selectionVisible,\n    selectorCellShadowVisible,\n    scrollDiff,\n  }: DataTableFooterProps<T>,\n  ref: React.ForwardedRef<HTMLTableSectionElement>,\n) {\n  const relative = scrollDiff < 0;\n  return (\n    <TableTfoot\n      ref={ref}\n      className={clsx(classes[\"mantine-datatable-footer\"], className)}\n      style={[\n        {\n          position: relative ? \"relative\" : \"sticky\",\n          bottom: rem(relative ? scrollDiff : 0),\n        },\n        style,\n      ]}\n    >\n      <TableTr>\n        {selectionVisible && (\n          <DataTableFooterSelectorPlaceholderCell\n            shadowVisible={selectorCellShadowVisible}\n          />\n        )}\n        {columns.map(({ hidden, ...columnProps }) => {\n          if (hidden) return null;\n\n          const {\n            accessor,\n            visibleMediaQuery,\n            textAlign,\n            width,\n            footer,\n            footerClassName,\n            footerStyle,\n            noWrap,\n            ellipsis,\n          } = { ...defaultColumnProps, ...columnProps };\n\n          return (\n            <DataTableFooterCell<T>\n              key={accessor as React.Key}\n              className={footerClassName}\n              style={footerStyle}\n              visibleMediaQuery={visibleMediaQuery}\n              textAlign={textAlign}\n              width={width}\n              title={footer}\n              noWrap={noWrap}\n              ellipsis={ellipsis}\n            />\n          );\n        })}\n      </TableTr>\n    </TableTfoot>\n  );\n}) as <T>(\n  props: DataTableFooterProps<T> & {\n    ref: React.ForwardedRef<HTMLTableSectionElement>;\n  },\n) => JSX.Element;\n","import { type RaikouStyleProp, type RaikouTheme } from \"@raikou/core\";\nimport { TableTh } from \"../../components/Table/src\";\nimport clsx from \"clsx\";\nimport { useMediaQueryStringOrFunction } from \"./hooks\";\nimport type { DataTableColumn } from \"./types\";\nimport {\n  ELLIPSIS,\n  NOWRAP,\n  TEXT_ALIGN_CENTER,\n  TEXT_ALIGN_LEFT,\n  TEXT_ALIGN_RIGHT,\n} from \"./utilityClasses\";\n\ntype DataTableFooterCellProps<T> = {\n  className: string | undefined;\n  style: RaikouStyleProp | undefined;\n  visibleMediaQuery: string | ((theme: RaikouTheme) => string) | undefined;\n  title: React.ReactNode | undefined;\n} & Pick<DataTableColumn<T>, \"noWrap\" | \"ellipsis\" | \"textAlign\" | \"width\">;\n\nexport function DataTableFooterCell<T>({\n  className,\n  style,\n  visibleMediaQuery,\n  title,\n  noWrap,\n  ellipsis,\n  textAlign,\n  width,\n}: DataTableFooterCellProps<T>) {\n  if (!useMediaQueryStringOrFunction(visibleMediaQuery)) return null;\n  return (\n    <TableTh\n      className={clsx(\n        {\n          [NOWRAP]: noWrap || ellipsis,\n          [ELLIPSIS]: ellipsis,\n          [TEXT_ALIGN_LEFT]: textAlign === \"left\",\n          [TEXT_ALIGN_CENTER]: textAlign === \"center\",\n          [TEXT_ALIGN_RIGHT]: textAlign === \"right\",\n        },\n        className,\n      )}\n      style={[\n        {\n          width,\n          minWidth: width,\n          maxWidth: width,\n        },\n        style,\n      ]}\n    >\n      {title}\n    </TableTh>\n  );\n}\n","import { useResizeObserver } from \"@raikou/hooks\";\n\nexport function useElementOuterSize<T extends HTMLElement>() {\n  const [ref] = useResizeObserver<T>();\n  const { width, height } = ref.current?.getBoundingClientRect() || {\n    width: 0,\n    height: 0,\n  };\n  return { ref, width, height };\n}\n","import { useEffect, useLayoutEffect } from 'react';\n\nexport const useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n","import { useEffect, useState } from 'react';\n\nexport function useLastSelectionChangeIndex(recordIds: unknown[] | undefined) {\n  const [lastSelectionChangeIndex, setLastSelectionChangeIndex] = useState<number | null>(null);\n  const recordIdsString = recordIds?.join(':') || '';\n  useEffect(() => {\n    setLastSelectionChangeIndex(null);\n  }, [recordIdsString]);\n\n  return { lastSelectionChangeIndex, setLastSelectionChangeIndex };\n}\n","// Modified from https://github.com/mantinedev/mantine/blob/8c12a76c56da51af34213f18dd67c8b72a0ddb44/src/mantine-hooks/src/use-media-query/use-media-query.ts\n\nimport { useEffect, useRef, useState } from 'react';\n\nexport interface UseMediaQueryOptions {\n  getInitialValueInEffect: boolean;\n}\n\n/**\n * Older versions of Safari (shipped with Catalina and before) do not support addEventListener on matchMedia\n * https://stackoverflow.com/questions/56466261/matchmedia-addlistener-marked-as-deprecated-addeventlistener-equivalent\n * */\nfunction attachMediaListeners(queries: MediaQueryList[], callback: (matches: boolean[]) => void) {\n  const callbackWrapper = () => {\n    callback(queries.map((query) => query.matches));\n  };\n  const subscriptions = queries.map((query) => {\n    try {\n      query.addEventListener('change', callbackWrapper);\n      return () => query.removeEventListener('change', callbackWrapper);\n    } catch (e) {\n      query.addListener(callbackWrapper);\n      return () => query.removeListener(callbackWrapper);\n    }\n  });\n  return () => {\n    subscriptions.forEach((unsubscribe) => unsubscribe());\n  };\n}\n\nfunction getInitialValue(queries: string[], initialValues?: boolean[]) {\n  if (initialValues) {\n    return initialValues;\n  }\n\n  if (typeof window !== 'undefined' && 'matchMedia' in window) {\n    return queries.map((query) => window.matchMedia(query).matches);\n  }\n\n  return queries.map(() => false);\n}\n\nexport function useMediaQueries(\n  queries: string[],\n  initialValues?: boolean[],\n  { getInitialValueInEffect }: UseMediaQueryOptions = {\n    getInitialValueInEffect: true,\n  }\n) {\n  const [matches, setMatches] = useState(\n    getInitialValueInEffect ? initialValues : getInitialValue(queries, initialValues)\n  );\n  const queryRef = useRef<MediaQueryList[]>();\n\n  useEffect(() => {\n    if ('matchMedia' in window) {\n      queryRef.current = queries.map((query) => window.matchMedia(query));\n      setMatches(queryRef.current.map((queryResult) => queryResult.matches));\n      return attachMediaListeners(queryRef.current, (event) => {\n        setMatches(event);\n      });\n    }\n\n    return undefined;\n  }, [queries]);\n\n  return matches;\n}\n","import { type RaikouTheme, DEFAULT_THEME } from \"@raikou/core\";\nimport { useMemo } from \"react\";\nimport { useMediaQueries } from \"./useMediaQueries\";\n\nexport function useMediaQueriesStringOrFunction(\n  queries: (string | ((theme: RaikouTheme) => string) | undefined)[],\n) {\n  const theme = DEFAULT_THEME;\n  const values = useMemo(\n    () =>\n      queries.map(\n        (query) => (typeof query === \"function\" ? query(theme) : query) ?? \"\",\n      ),\n    [queries, theme],\n  );\n  const defaults = useMemo(() => queries.map(() => true), [queries]);\n  return useMediaQueries(values, defaults);\n}\n","import { DEFAULT_THEME, type RaikouTheme } from \"@raikou/core\";\nimport { useMediaQuery } from \"@raikou/hooks\";\n\nexport function useMediaQueryStringOrFunction(\n  mediaQuery: string | ((theme: RaikouTheme) => string) | undefined,\n) {\n  const theme = DEFAULT_THEME;\n  const mediaQueryValue =\n    typeof mediaQuery === \"function\" ? mediaQuery(theme) : mediaQuery;\n  return useMediaQuery(mediaQueryValue || \"\", true);\n}\n","import { useState } from 'react';\nimport { DataTableRowExpansionProps } from '../types/DataTableRowExpansionProps';\nimport { getRecordId } from '../utils';\n\nexport function useRowExpansion<T>({\n  rowExpansion,\n  records,\n  idAccessor,\n}: {\n  rowExpansion?: DataTableRowExpansionProps<T>;\n  records: T[] | undefined;\n  idAccessor: (keyof T | (string & NonNullable<unknown>)) | ((record: T) => React.Key);\n}) {\n  let initiallyExpandedRecordIds: unknown[] = [];\n  if (rowExpansion && records) {\n    const { trigger, allowMultiple, initiallyExpanded } = rowExpansion;\n    if (records && trigger === 'always') {\n      initiallyExpandedRecordIds = records.map((r) => getRecordId(r, idAccessor));\n    } else if (initiallyExpanded) {\n      initiallyExpandedRecordIds = records\n        .filter((record, index) => initiallyExpanded({ record, index }))\n        .map((r) => getRecordId(r, idAccessor));\n      if (!allowMultiple) {\n        initiallyExpandedRecordIds = [initiallyExpandedRecordIds[0]];\n      }\n    }\n  }\n\n  let expandedRecordIds: unknown[];\n  let setExpandedRecordIds: ((expandedRecordIds: unknown[]) => void) | undefined;\n  const expandedRecordIdsState = useState<unknown[]>(initiallyExpandedRecordIds);\n\n  if (rowExpansion) {\n    const { trigger, allowMultiple, collapseProps, content } = rowExpansion;\n    if (rowExpansion.expanded) {\n      ({ recordIds: expandedRecordIds, onRecordIdsChange: setExpandedRecordIds } = rowExpansion.expanded);\n    } else {\n      [expandedRecordIds, setExpandedRecordIds] = expandedRecordIdsState;\n    }\n\n    const collapseRow = (record: T) =>\n      setExpandedRecordIds?.(expandedRecordIds.filter((id) => id !== getRecordId(record, idAccessor)));\n\n    return {\n      expandOnClick: trigger !== 'always' && trigger !== 'never',\n      isRowExpanded: (record: T) =>\n        trigger === 'always' ? true : expandedRecordIds.includes(getRecordId(record, idAccessor)),\n      expandRow: (record: T) => {\n        const recordId = getRecordId(record, idAccessor);\n        setExpandedRecordIds?.(allowMultiple ? [...expandedRecordIds, recordId] : [recordId]);\n      },\n      collapseRow,\n      collapseProps,\n      content:\n        ({ record, index }: { record: T; index: number }) =>\n        () =>\n          content({ record, index, collapse: () => collapseRow(record) }),\n    };\n  }\n}\n","/**\n * Utility function that returns a humanized version of a string, e.g. \"camelCase\" -> \"Camel Case\"\n */\nexport function humanize(value: string) {\n  const str = value\n    .replace(/([a-z\\d])([A-Z]+)/g, '$1 $2')\n    .replace(/\\W|_/g, ' ')\n    .trim()\n    .toLowerCase();\n  return `${str.charAt(0).toUpperCase()}${str.slice(1)}`;\n}\n\n/**\n * Utility function that returns an array of values that are present in the first array but not in the second\n */\nexport function differenceBy<T>(arr1: T[], arr2: T[], iteratee: (value: T) => unknown) {\n  return arr1.filter((c) => !arr2.map(iteratee).includes(iteratee(c)));\n}\n\n/**\n * Utility function that returns an array of unique values from a given array\n */\nexport function uniqBy<T>(arr: T[], iteratee: (value: T) => unknown) {\n  return arr.filter((x, i, self) => i === self.findIndex((y) => iteratee(x) === iteratee(y)));\n}\n\n/**\n * Utility function that returns the value at a given path in an object\n */\nexport function getValueAtPath<T>(obj: T, path: keyof T | (string & NonNullable<unknown>)) {\n  if (!path) return undefined;\n  const pathArray = (path as string).match(/([^[.\\]])+/g) as string[];\n  return pathArray.reduce((prevObj: unknown, key) => prevObj && (prevObj as Record<string, unknown>)[key], obj);\n}\n\n/**\n * Utility function that returns the record id using idAccessor\n */\nexport function getRecordId<T>(\n  record: T,\n  idAccessor: keyof T | (string & NonNullable<unknown>) | ((record: T) => React.Key)\n) {\n  return typeof idAccessor === 'string'\n    ? getValueAtPath(record, idAccessor)\n    : (idAccessor as (record: T) => React.Key)(record);\n}\n","import { useTimeout } from \"@raikou/hooks\";\nimport { useEffect, useState } from \"react\";\n\nexport function useRowExpansionStatus(\n  open: boolean,\n  transitionDuration?: number,\n) {\n  const [expanded, setExpanded] = useState(open);\n  const [visible, setVisible] = useState(open);\n\n  const expand = useTimeout(() => setExpanded(true), 0);\n  const hide = useTimeout(() => setVisible(false), transitionDuration || 200);\n\n  useEffect(() => {\n    if (open) {\n      hide.clear();\n      setVisible(true);\n      expand.start();\n    } else {\n      expand.clear();\n      setExpanded(false);\n      hide.start();\n    }\n  }, [expand, hide, open]);\n\n  return { expanded, visible };\n}\n","export const NOWRAP = \"utilityClasses_mantine-datatable-nowrap\";\nexport const ELLIPSIS = \"utilityClasses_mantine-datatable-ellipsis\";\nexport const POINTER_CURSOR = \"utilityClasses_mantine-datatable-pointer-cursor\";\nexport const TEXT_SELECTION_DISABLED =\n  \"utilityClasses_mantine-datatable-text-selection-disabled\";\nexport const TEXT_ALIGN_LEFT =\n  \"utilityClasses_mantine-datatable-text-align-left\";\nexport const TEXT_ALIGN_CENTER =\n  \"utilityClasses_mantine-datatable-text-align-center\";\nexport const TEXT_ALIGN_RIGHT =\n  \"utilityClasses_mantine-datatable-text-align-right\";\n","import React from \"react\";\nimport { TableTh } from \"../../components/Table/src\";\nimport classes from \"./DataTableFooterSelectorPlaceholderCell.module.css\";\n\ntype DataTableFooterSelectorPlaceholderCellProps = {\n  shadowVisible: boolean;\n};\n\nexport function DataTableFooterSelectorPlaceholderCell({\n  shadowVisible,\n}: DataTableFooterSelectorPlaceholderCellProps) {\n  return (\n    <TableTh\n      className={classes[\"mantine-datatable-footer-selector-placeholder-cell\"]}\n      data-shadow-visible={shadowVisible || undefined}\n    />\n  );\n}\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/datatable/src/DataTableFooterSelectorPlaceholderCell.module.css\"; export default {\"mantine-datatable-footer-selector-placeholder-cell\":\"m-f06ba0fe\"}","import \"/Users/paul/development/src/github/raikou/packages/raikou/datatable/src/DataTableFooter.module.css\"; export default {\"mantine-datatable-footer\":\"m-43dc25f9\"}","import React, { forwardRef } from \"react\";\nimport { type RaikouStyleProp } from \"@raikou/core\";\nimport { TableThead, TableTr } from \"../../components/Table/src\";\nimport { type CheckboxProps } from \"../../components/Checkbox/src\";\nimport clsx from \"clsx\";\nimport { DataTableColumnGroupHeaderCell } from \"./DataTableColumnGroupHeaderCell\";\nimport { DataTableHeaderCell } from \"./DataTableHeaderCell\";\nimport { DataTableHeaderSelectorCell } from \"./DataTableHeaderSelectorCell\";\nimport type {\n  DataTableColumn,\n  DataTableColumnGroup,\n  DataTableSelectionTrigger,\n  DataTableSortProps,\n} from \"./types\";\nimport classes from \"./DataTableHeader.module.css\";\n\ntype DataTableHeaderProps<T> = {\n  className: string | undefined;\n  style?: RaikouStyleProp;\n  sortStatus: DataTableSortProps<T>[\"sortStatus\"];\n  sortIcons: DataTableSortProps<T>[\"sortIcons\"];\n  onSortStatusChange: DataTableSortProps<T>[\"onSortStatusChange\"];\n  columns: DataTableColumn<T>[];\n  defaultColumnProps: Omit<DataTableColumn<T>, \"accessor\"> | undefined;\n  groups: readonly DataTableColumnGroup<T>[] | undefined;\n  selectionTrigger: DataTableSelectionTrigger;\n  selectionVisible: boolean;\n  selectionChecked: boolean;\n  selectionIndeterminate: boolean;\n  onSelectionChange: (() => void) | undefined;\n  selectionCheckboxProps: CheckboxProps;\n  selectorCellShadowVisible: boolean;\n};\n\nexport const DataTableHeader = forwardRef(function DataTableHeader<T>(\n  {\n    className,\n    style,\n    sortStatus,\n    sortIcons,\n    onSortStatusChange,\n    columns,\n    defaultColumnProps,\n    groups,\n    selectionTrigger,\n    selectionVisible,\n    selectionChecked,\n    selectionIndeterminate,\n    onSelectionChange,\n    selectionCheckboxProps,\n    selectorCellShadowVisible,\n  }: DataTableHeaderProps<T>,\n  ref: React.ForwardedRef<HTMLTableSectionElement>,\n) {\n  const allRecordsSelectorCell = selectionVisible ? (\n    <DataTableHeaderSelectorCell\n      trigger={selectionTrigger}\n      shadowVisible={selectorCellShadowVisible}\n      checked={selectionChecked}\n      indeterminate={selectionIndeterminate}\n      checkboxProps={selectionCheckboxProps}\n      onChange={onSelectionChange}\n      rowSpan={groups ? 2 : undefined}\n    />\n  ) : null;\n\n  return (\n    <TableThead\n      className={clsx(classes[\"mantine-datatable-header\"], className)}\n      style={style}\n      ref={ref}\n    >\n      {groups && (\n        <TableTr>\n          {allRecordsSelectorCell}\n          {groups.map((group) => (\n            <DataTableColumnGroupHeaderCell key={group.id} group={group} />\n          ))}\n        </TableTr>\n      )}\n      <TableTr>\n        {!groups && allRecordsSelectorCell}\n        {columns.map(({ hidden, ...columnProps }) => {\n          if (hidden) return null;\n\n          const {\n            accessor,\n            visibleMediaQuery,\n            textAlign,\n            width,\n            title,\n            sortable,\n            titleClassName,\n            titleStyle,\n            filter,\n            filtering,\n          } = { ...defaultColumnProps, ...columnProps };\n\n          return (\n            <DataTableHeaderCell<T>\n              key={accessor as React.Key}\n              accessor={accessor}\n              className={titleClassName}\n              style={titleStyle}\n              visibleMediaQuery={visibleMediaQuery}\n              textAlign={textAlign}\n              width={width}\n              title={title}\n              sortable={sortable}\n              sortStatus={sortStatus}\n              sortIcons={sortIcons}\n              onSortStatusChange={onSortStatusChange}\n              filter={filter}\n              filtering={filtering}\n            />\n          );\n        })}\n      </TableTr>\n    </TableThead>\n  );\n}) as <T>(\n  props: DataTableHeaderProps<T> & {\n    ref: React.ForwardedRef<HTMLTableSectionElement>;\n  },\n) => JSX.Element;\n","import React, { useMemo } from \"react\";\nimport { TableTh } from \"../../components/Table/src\";\nimport clsx from \"clsx\";\nimport { useMediaQueriesStringOrFunction } from \"./hooks\";\nimport type { DataTableColumnGroup } from \"./types\";\nimport {\n  TEXT_ALIGN_CENTER,\n  TEXT_ALIGN_LEFT,\n  TEXT_ALIGN_RIGHT,\n} from \"./utilityClasses\";\nimport { humanize } from \"./utils\";\nimport classes from \"./DataTable.module.css\";\n\ntype DataTableColumnGroupHeaderCellProps<T> = {\n  group: DataTableColumnGroup<T>;\n};\n\nexport function DataTableColumnGroupHeaderCell<T>({\n  group: { id, columns, title, textAlign, className, style },\n}: DataTableColumnGroupHeaderCellProps<T>) {\n  const queries = useMemo(\n    () => columns.map(({ visibleMediaQuery }) => visibleMediaQuery),\n    [columns],\n  );\n  const visibles = useMediaQueriesStringOrFunction(queries);\n  const colSpan = useMemo(\n    () => columns.filter(({ hidden }, i) => !hidden && visibles?.[i]).length,\n    [columns, visibles],\n  );\n\n  return colSpan > 0 ? (\n    <TableTh\n      colSpan={colSpan}\n      className={clsx(\n        classes[\"mantine-datatable-column-group-header-cell\"],\n        {\n          [TEXT_ALIGN_LEFT]: textAlign === \"left\",\n          [TEXT_ALIGN_CENTER]: textAlign === \"center\",\n          [TEXT_ALIGN_RIGHT]: textAlign === \"right\",\n        },\n        className,\n      )}\n      style={style}\n    >\n      {title ?? humanize(id)}\n    </TableTh>\n  ) : null;\n}\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/datatable/src/DataTable.module.css\"; export default {\"mantine-datatable\":\"m-df0af934\",\"mantine-datatable-with-border\":\"m-a324bffa\",\"mantine-datatable-table\":\"m-f14a91f5\",\"mantine-datatable-vertical-align-top\":\"m-4c48d22f\",\"mantine-datatable-vertical-align-bottom\":\"m-2f8fa311\",\"mantine-datatable-last-row-border-bottom-visible\":\"m-a69aca20\",\"mantine-datatable-empty-row\":\"m-67103001\",\"mantine-datatable-pin-last-column\":\"m-a067d39c\",\"mantine-datatable-column-group-header-cell\":\"m-fd09d616\",\"mantine-datatable-row-expansion-cell\":\"m-752de33c\",\"mantine-datatable-pin-last-column-scrolled\":\"m-4085733d\"}","import React from \"react\";\nimport { Box, RaikouStyleProp, type RaikouTheme } from \"@raikou/core\";\nimport { Center } from \"../../components/Center/src\";\nimport { Group } from \"../../components/Group/src\";\nimport { TableTh } from \"../../components/Table/src\";\nimport clsx from \"clsx\";\nimport { DataTableHeaderCellFilter } from \"./DataTableHeaderCellFilter\";\nimport { useMediaQueryStringOrFunction } from \"./hooks\";\nimport { IconArrowUp } from \"./icons/IconArrowUp\";\nimport { IconArrowsVertical } from \"./icons/IconArrowsVertical\";\nimport type { DataTableColumn, DataTableSortProps } from \"./types\";\nimport {\n  ELLIPSIS,\n  NOWRAP,\n  TEXT_ALIGN_CENTER,\n  TEXT_ALIGN_LEFT,\n  TEXT_ALIGN_RIGHT,\n} from \"./utilityClasses\";\nimport { humanize } from \"./utils\";\nimport classes from \"./DataTableHeaderCell.module.css\";\n\ntype DataTableHeaderCellProps<T> = {\n  className: string | undefined;\n  style: RaikouStyleProp | undefined;\n  visibleMediaQuery: string | ((theme: RaikouTheme) => string) | undefined;\n  title: React.ReactNode | undefined;\n  sortStatus: DataTableSortProps<T>[\"sortStatus\"];\n  sortIcons: DataTableSortProps<T>[\"sortIcons\"];\n  onSortStatusChange: DataTableSortProps<T>[\"onSortStatusChange\"];\n} & Pick<\n  DataTableColumn<T>,\n  \"accessor\" | \"sortable\" | \"textAlign\" | \"width\" | \"filter\" | \"filtering\"\n>;\n\nexport function DataTableHeaderCell<T>({\n  className,\n  style,\n  accessor,\n  visibleMediaQuery,\n  title,\n  sortable,\n  sortIcons,\n  textAlign,\n  width,\n  sortStatus,\n  onSortStatusChange,\n  filter,\n  filtering,\n}: DataTableHeaderCellProps<T>) {\n  if (!useMediaQueryStringOrFunction(visibleMediaQuery)) return null;\n  const text = title ?? humanize(accessor as string);\n  const tooltip = typeof text === \"string\" ? text : undefined;\n  const sortAction =\n    sortable && onSortStatusChange\n      ? (e?: React.BaseSyntheticEvent) => {\n          if (e?.defaultPrevented) return;\n\n          onSortStatusChange({\n            columnAccessor: accessor,\n            direction:\n              sortStatus?.columnAccessor === accessor\n                ? sortStatus.direction === \"asc\"\n                  ? \"desc\"\n                  : \"asc\"\n                : sortStatus?.direction ?? \"asc\",\n          });\n        }\n      : undefined;\n  return (\n    <TableTh\n      className={clsx(\n        {\n          \"mantine-datatable-header-cell-sortable\": sortable,\n        },\n        className,\n      )}\n      style={[{ width, minWidth: width, maxWidth: width }, style]}\n      role={sortable ? \"button\" : undefined}\n      tabIndex={sortable ? 0 : undefined}\n      onClick={sortAction}\n      onKeyDown={(e) => e.key === \"Enter\" && sortAction?.()}\n    >\n      <Group\n        className={classes[\"mantine-datatable-header-cell-sortable-group\"]}\n        justify=\"space-between\"\n        wrap=\"nowrap\"\n      >\n        <Box\n          className={clsx(\n            \"mantine-datatable-header-cell-sortable-text\",\n            {\n              [TEXT_ALIGN_LEFT]: textAlign === \"left\",\n              [TEXT_ALIGN_CENTER]: textAlign === \"center\",\n              [TEXT_ALIGN_RIGHT]: textAlign === \"right\",\n            },\n            NOWRAP,\n            ELLIPSIS,\n          )}\n          title={tooltip}\n        >\n          {text}\n        </Box>\n        {sortable || sortStatus?.columnAccessor === accessor ? (\n          <>\n            {sortStatus?.columnAccessor === accessor ? (\n              <Center\n                className={clsx(\n                  classes[\"mantine-datatable-header-cell-sortable-icon\"],\n                  {\n                    \"mantine-datatable-header-cell-sortable-icon-reversed\":\n                      sortStatus.direction === \"desc\",\n                  },\n                )}\n                role=\"img\"\n                aria-label={`Sorted ${\n                  sortStatus.direction === \"desc\" ? \"descending\" : \"ascending\"\n                }`}\n              >\n                {sortIcons?.sorted || <IconArrowUp />}\n              </Center>\n            ) : (\n              <Center\n                className={\n                  classes[\n                    \"mantine-datatable-header-cell-sortable-unsorted-icon\"\n                  ]\n                }\n                role=\"img\"\n                aria-label=\"Not sorted\"\n              >\n                {sortIcons?.unsorted || <IconArrowsVertical />}\n              </Center>\n            )}\n          </>\n        ) : null}\n        {filter ? (\n          <DataTableHeaderCellFilter isActive={!!filtering}>\n            {filter}\n          </DataTableHeaderCellFilter>\n        ) : null}\n      </Group>\n    </TableTh>\n  );\n}\n","import React from \"react\";\nimport {\n  Box,\n  BoxProps,\n  StylesApiProps,\n  factory,\n  ElementProps,\n  useProps,\n  useStyles,\n  RaikouSpacing,\n  getSpacing,\n  createVarsResolver,\n  Factory,\n} from \"@raikou/core\";\nimport { filterFalsyChildren } from \"./filter-falsy-children/filter-falsy-children\";\nimport classes from \"./Group.module.css\";\n\nexport type GroupStylesNames = \"root\";\nexport type GroupCssVariables = {\n  root:\n    | \"--group-gap\"\n    | \"--group-align\"\n    | \"--group-justify\"\n    | \"--group-wrap\"\n    | \"--group-child-width\";\n};\n\nexport interface GroupStylesCtx {\n  childWidth: string;\n}\n\nexport interface GroupProps\n  extends BoxProps,\n    StylesApiProps<GroupFactory>,\n    ElementProps<\"div\"> {\n  __size?: any;\n\n  /** Controls `justify-content` CSS property, `'flex-start'` by default */\n  justify?: React.CSSProperties[\"justifyContent\"];\n\n  /** Controls `align-items` CSS property, `'center'` by default */\n  align?: React.CSSProperties[\"alignItems\"];\n\n  /** Controls `flex-wrap` CSS property, `'wrap'` by default */\n  wrap?: React.CSSProperties[\"flexWrap\"];\n\n  /** Key of `theme.spacing` or any valid CSS value for `gap`, numbers are converted to rem, `'md'` by default */\n  gap?: RaikouSpacing;\n\n  /** Determines whether each child element should have `flex-grow: 1` style, `false` by default */\n  grow?: boolean;\n\n  /** Determines whether children should take only dedicated amount of space (`max-width` style is set based on the number of children), `true` by default */\n  preventGrowOverflow?: boolean;\n}\n\nexport type GroupFactory = Factory<{\n  props: GroupProps;\n  ref: HTMLDivElement;\n  stylesNames: GroupStylesNames;\n  vars: GroupCssVariables;\n  ctx: GroupStylesCtx;\n}>;\n\nconst defaultProps: Partial<GroupProps> = {\n  preventGrowOverflow: true,\n  gap: \"md\",\n  align: \"center\",\n  justify: \"flex-start\",\n  wrap: \"wrap\",\n};\n\nconst varsResolver = createVarsResolver<GroupFactory>(\n  (\n    _,\n    { grow, preventGrowOverflow, gap, align, justify, wrap },\n    { childWidth },\n  ) => ({\n    root: {\n      \"--group-child-width\":\n        grow && preventGrowOverflow ? childWidth : undefined,\n      \"--group-gap\": getSpacing(gap),\n      \"--group-align\": align,\n      \"--group-justify\": justify,\n      \"--group-wrap\": wrap,\n    },\n  }),\n);\n\nexport const Group = factory<GroupFactory>((_props, ref) => {\n  const props = useProps(\"Group\", defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    unstyled,\n    children,\n    gap,\n    align,\n    justify,\n    wrap,\n    grow,\n    preventGrowOverflow,\n    vars,\n    variant,\n    __size,\n    ...others\n  } = props;\n\n  // @ts-ignore\n  const filteredChildren = filterFalsyChildren(children);\n  const childrenCount = filteredChildren.length;\n  const resolvedGap = getSpacing(gap ?? \"md\");\n  const childWidth = `calc(${\n    100 / childrenCount\n  }% - (${resolvedGap} - ${resolvedGap} / ${childrenCount}))`;\n\n  const stylesCtx: GroupStylesCtx = { childWidth };\n\n  const getStyles = useStyles<GroupFactory>({\n    name: \"Group\",\n    props,\n    stylesCtx,\n    className,\n    style,\n    classes,\n    classNames,\n    styles,\n    unstyled,\n    vars,\n    varsResolver,\n  });\n\n  return (\n    <Box\n      {...getStyles(\"root\")}\n      ref={ref}\n      variant={variant}\n      mod={{ grow }}\n      size={__size}\n      {...others}\n    >\n      {filteredChildren}\n    </Box>\n  );\n});\n\nGroup.displayName = \"@raikou/core/Group\";\nGroup.classes = classes;\n","import { Children, ReactElement, ReactNode } from 'react';\n\nexport function filterFalsyChildren(children: ReactNode) {\n  return (Children.toArray(children) as ReactElement[]).filter(Boolean);\n}\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/Group/src/Group.module.css\"; export default {\"root\":\"m-4081bf90\"}","import React from \"react\";\nimport { ActionIcon } from \"../../components/ActionIcon/src\";\nimport { Popover, PopoverTarget } from \"../../components/Popover/src\";\nimport { useDisclosure } from \"@raikou/hooks\";\nimport { IconFilter } from \"./icons/IconFilter\";\nimport { IconFilterFilled } from \"./icons/IconFilterFilled\";\nimport type { DataTableColumn } from \"./types\";\nimport classes from \"./DataTableHeaderCellFilter.module.css\";\n\ntype DataTableHeaderCellFilterProps<T> = {\n  children: DataTableColumn<T>[\"filter\"];\n  isActive: boolean;\n};\n\nexport function DataTableHeaderCellFilter<T>({\n  children,\n  isActive,\n}: DataTableHeaderCellFilterProps<T>) {\n  const [isOpen, { close, toggle }] = useDisclosure(false);\n  const Icon = isActive ? IconFilterFilled : IconFilter;\n\n  return (\n    <Popover\n      withArrow\n      withinPortal\n      shadow=\"md\"\n      opened={isOpen}\n      onClose={close}\n      trapFocus\n    >\n      <PopoverTarget>\n        <ActionIcon\n          className={\n            classes[\"mantine-datatable-header-cell-filter-action-icon\"]\n          }\n          data-active={isActive || undefined}\n          size=\"sm\"\n          variant=\"default\"\n          onClick={(e) => {\n            e.preventDefault();\n            toggle();\n          }}\n        >\n          <Icon />\n        </ActionIcon>\n      </PopoverTarget>\n      <Popover.Dropdown onClick={(e) => e.preventDefault()}>\n        {typeof children === \"function\" ? children({ close }) : children}\n      </Popover.Dropdown>\n    </Popover>\n  );\n}\n","import React from \"react\";\nimport {\n  BoxProps,\n  useProps,\n  StylesApiProps,\n  useStyles,\n  RaikouSize,\n  RaikouColor,\n  RaikouGradient,\n  getRadius,\n  polymorphicFactory,\n  getSize,\n  createVarsResolver,\n  RaikouRadius,\n  PolymorphicFactory,\n} from \"@raikou/core\";\nimport { UnstyledButton } from \"../../UnstyledButton/src\";\nimport { LoaderProps, Loader } from \"../../Loader/src\";\nimport { ActionIconGroup } from \"./ActionIconGroup/ActionIconGroup\";\nimport classes from \"./ActionIcon.module.css\";\n\nexport type ActionIconVariant =\n  | \"filled\"\n  | \"light\"\n  | \"outline\"\n  | \"transparent\"\n  | \"white\"\n  | \"subtle\"\n  | \"default\"\n  | \"gradient\";\n\nexport type ActionIconStylesNames = \"root\" | \"loader\";\nexport type ActionIconCssVariables = {\n  root:\n    | \"--ai-radius\"\n    | \"--ai-size\"\n    | \"--ai-bg\"\n    | \"--ai-hover\"\n    | \"--ai-color\"\n    | \"--ai-bd\";\n};\n\nexport interface ActionIconProps\n  extends BoxProps,\n    StylesApiProps<ActionIconFactory> {\n  \"data-disabled\"?: boolean;\n  __staticSelector?: string;\n\n  /** Determines whether `Loader` component should be displayed instead of the `children`, `false` by default */\n  loading?: boolean;\n\n  /** Props added to the `Loader` component (only visible when `loading` prop is set) */\n  loaderProps?: LoaderProps;\n\n  /** Controls width and height of the button. Numbers are converted to rem. `'md'` by default. */\n  size?: RaikouSize | (string & {}) | number;\n\n  /** Key of `theme.colors` or any valid CSS color. Default value is `theme.primaryColor`.  */\n  color?: RaikouColor;\n\n  /** Key of `theme.radius` or any valid CSS value to set border-radius. Numbers are converted to rem. `theme.defaultRadius` by default. */\n  radius?: RaikouRadius;\n\n  /** Gradient data used when `variant=\"gradient\"`, default value is `theme.defaultGradient` */\n  gradient?: RaikouGradient;\n\n  /** Sets `disabled` and `data-disabled` attributes on the button element */\n  disabled?: boolean;\n\n  /** Icon displayed inside the button */\n  children?: React.ReactNode;\n}\n\nexport type ActionIconFactory = PolymorphicFactory<{\n  props: ActionIconProps;\n  defaultComponent: \"button\";\n  defaultRef: HTMLButtonElement;\n  stylesNames: ActionIconStylesNames;\n  variant: ActionIconVariant;\n  vars: ActionIconCssVariables;\n  staticComponents: {\n    Group: typeof ActionIconGroup;\n  };\n}>;\n\nconst defaultProps: Partial<ActionIconProps> = {};\n\nconst varsResolver = createVarsResolver<ActionIconFactory>(\n  (theme, { size, radius, variant, gradient, color }) => {\n    const colors = theme.variantColorResolver({\n      color: color || theme.primaryColor,\n      theme,\n      gradient,\n      variant: variant || \"filled\",\n    });\n\n    return {\n      root: {\n        \"--ai-size\": getSize(size, \"ai-size\"),\n        \"--ai-radius\": radius === undefined ? undefined : getRadius(radius),\n        \"--ai-bg\": color || variant ? colors.background : undefined,\n        \"--ai-hover\": color || variant ? colors.hover : undefined,\n        \"--ai-color\": color || variant ? colors.color : undefined,\n        \"--ai-bd\": color || variant ? colors.border : undefined,\n      },\n    };\n  },\n);\n\nexport const ActionIcon = polymorphicFactory<ActionIconFactory>(\n  (_props, ref) => {\n    const props = useProps(\"ActionIcon\", defaultProps, _props);\n    const {\n      className,\n      unstyled,\n      variant,\n      classNames,\n      styles,\n      style,\n      loading,\n      loaderProps,\n      size,\n      color,\n      radius,\n      __staticSelector,\n      gradient,\n      vars,\n      children,\n      disabled,\n      \"data-disabled\": dataDisabled,\n      ...others\n    } = props;\n\n    const getStyles = useStyles<ActionIconFactory>({\n      name: [\"ActionIcon\", __staticSelector],\n      props,\n      className,\n      style,\n      classes,\n      classNames,\n      styles,\n      unstyled,\n      vars,\n      varsResolver,\n    });\n\n    return (\n      <UnstyledButton\n        {...getStyles(\"root\", {\n          active: !disabled && !loading && !dataDisabled,\n        })}\n        {...others}\n        unstyled={unstyled}\n        variant={variant}\n        size={size}\n        disabled={disabled || loading}\n        ref={ref}\n        mod={{ loading, disabled: disabled || dataDisabled }}\n      >\n        {loading ? (\n          <Loader\n            {...getStyles(\"loader\")}\n            color=\"var(--ai-color)\"\n            size=\"calc(var(--ai-size) * 0.55)\"\n            {...loaderProps}\n          />\n        ) : (\n          children\n        )}\n      </UnstyledButton>\n    );\n  },\n);\n\nActionIcon.displayName = \"@raikou/core/ActionIcon\";\nActionIcon.Group = ActionIconGroup;\nActionIcon.classes = classes;\n","import React from \"react\";\nimport {\n  Box,\n  useProps,\n  StylesApiProps,\n  useStyles,\n  polymorphicFactory,\n  BoxComponentProps,\n  PolymorphicFactory,\n} from \"@raikou/core\";\nimport classes from \"./UnstyledButton.module.css\";\n\nexport type UnstyledButtonStylesNames = \"root\";\n\nexport interface UnstyledButtonProps\n  extends Omit<BoxComponentProps, \"vars\" | \"variant\">,\n    StylesApiProps<UnstyledButtonFactory> {\n  __staticSelector?: string;\n}\n\nconst defaultProps: Partial<UnstyledButtonProps> = {\n  __staticSelector: \"UnstyledButton\",\n};\n\nexport type UnstyledButtonFactory = PolymorphicFactory<{\n  props: UnstyledButtonProps;\n  stylesNames: UnstyledButtonStylesNames;\n  defaultComponent: \"button\";\n  defaultRef: HTMLButtonElement;\n}>;\n\nexport const UnstyledButton = polymorphicFactory<UnstyledButtonFactory>(\n  (_props: UnstyledButtonProps & { component?: any }, ref) => {\n    const props = useProps(\"UnstyledButton\", defaultProps, _props);\n    const {\n      className,\n      component = \"button\",\n      __staticSelector,\n      unstyled,\n      classNames,\n      styles,\n      style,\n      ...others\n    } = props;\n\n    const getStyles = useStyles<UnstyledButtonFactory>({\n      name: __staticSelector!,\n      props,\n      classes,\n      className,\n      style,\n      classNames,\n      styles,\n      unstyled,\n    });\n\n    return (\n      <Box\n        {...getStyles(\"root\", { focusable: true })}\n        component={component}\n        ref={ref}\n        type={component === \"button\" ? \"button\" : undefined}\n        {...others}\n      />\n    );\n  },\n);\n\nUnstyledButton.displayName = \"@raikou/core/UnstyledButton\";\nUnstyledButton.classes = classes;\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/UnstyledButton/src/UnstyledButton.module.css\"; export default {\"root\":\"m-87cf2631\"}","import React from \"react\";\nimport {\n  Box,\n  RaikouSize,\n  RaikouColor,\n  BoxProps,\n  useProps,\n  getThemeColor,\n  StylesApiProps,\n  useStyles,\n  factory,\n  getSize,\n  createVarsResolver,\n  Factory,\n} from \"@raikou/core\";\nimport { Bars } from \"./loaders/Bars\";\nimport { Oval } from \"./loaders/Oval\";\nimport { Progress } from \"./loaders/Progress\";\nimport { Dots } from \"./loaders/Dots\";\nimport type { RaikouLoader, RaikouLoadersRecord } from \"./Loader.types\";\nimport classes from \"./Loader.module.css\";\n\nexport type LoaderStylesNames = \"root\";\nexport type LoaderCssVariables = {\n  root: \"--loader-size\" | \"--loader-color\";\n};\n\nexport interface LoaderProps\n  extends BoxProps,\n    StylesApiProps<LoaderFactory>,\n    Omit<React.ComponentPropsWithoutRef<\"svg\">, keyof BoxProps> {\n  /** Controls `width` and `height` of the loader. `Loader` has predefined `xs`-`xl` values. Numbers are converted to rem. Default value is `'md'` */\n  size?: RaikouSize | (string & {}) | number;\n\n  /** Key of `theme.colors` or any valid CSS color, default value is `theme.primaryColor`  */\n  color?: RaikouColor;\n\n  /** Loader type, key of `loaders` prop, default value is `'oval'` */\n  type?: RaikouLoader;\n\n  /** Object of loaders components, can be customized via default props or inline. Default value contains `bars`, `oval` and `dots` */\n  loaders?: RaikouLoadersRecord;\n}\n\nexport type LoaderFactory = Factory<{\n  props: LoaderProps;\n  ref: HTMLSpanElement;\n  stylesNames: LoaderStylesNames;\n  vars: LoaderCssVariables;\n  staticComponents: {\n    defaultLoaders: typeof defaultLoaders;\n  };\n}>;\n\nexport const defaultLoaders: RaikouLoadersRecord = {\n  bars: Bars,\n  oval: Oval,\n  dots: Dots,\n  progress: Progress,\n};\n\nconst defaultProps: Partial<LoaderProps> = {\n  loaders: defaultLoaders,\n  type: \"oval\",\n};\n\nconst varsResolver = createVarsResolver<LoaderFactory>(\n  (theme, { size, color }) => ({\n    root: {\n      \"--loader-size\": getSize(size, \"loader-size\"),\n      \"--loader-color\": color ? getThemeColor(color, theme) : undefined,\n    },\n  }),\n);\n\nexport const Loader = factory<LoaderFactory>((_props, ref) => {\n  const props = useProps(\"Loader\", defaultProps, _props);\n  const {\n    size,\n    color,\n    type,\n    vars,\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    loaders,\n    variant,\n    ...others\n  } = props;\n\n  const getStyles = useStyles<LoaderFactory>({\n    name: \"Loader\",\n    props,\n    classes,\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    vars,\n    varsResolver,\n  });\n\n  return (\n    <Box\n      {...getStyles(\"root\")}\n      ref={ref}\n      component={(loaders as any)[type!]}\n      variant={variant}\n      size={size}\n      {...others}\n    />\n  );\n});\n\nLoader.displayName = \"@raikou/core/Loader\";\nLoader.classes = classes;\n","import React, { forwardRef } from \"react\";\nimport cx from \"clsx\";\nimport { Box } from \"@raikou/core\";\nimport { RaikouLoaderComponent } from \"../Loader.types\";\nimport classes from \"../Loader.module.css\";\n\nexport const Bars: RaikouLoaderComponent = forwardRef(\n  ({ className, ...others }, ref) => (\n    <Box\n      component=\"span\"\n      className={cx(classes.barsLoader, className)}\n      {...others}\n      ref={ref}\n    >\n      <span className={classes.bar} />\n      <span className={classes.bar} />\n      <span className={classes.bar} />\n    </Box>\n  ),\n);\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/Loader/src/Loader.module.css\"; export default {\"root\":\"m-5ae2e3c\",\"barsLoader\":\"m-7a2bd4cd\",\"bar\":\"m-870bb79\",\"bars-loader-animation\":\"m-5d2b3b9d\",\"dotsLoader\":\"m-4e3f22d7\",\"dot\":\"m-870c4af\",\"loader-dots-animation\":\"m-aac34a1\",\"ovalLoader\":\"m-b34414df\",\"oval-loader-animation\":\"m-f8e89c4b\",\"progressLoader\":\"m-f7590d7a\"}","import React, { forwardRef } from \"react\";\nimport cx from \"clsx\";\nimport { Box } from \"@raikou/core\";\nimport { RaikouLoaderComponent } from \"../Loader.types\";\nimport classes from \"../Loader.module.css\";\n\nexport const Oval: RaikouLoaderComponent = forwardRef(\n  ({ className, ...others }, ref) => (\n    <Box\n      component=\"span\"\n      className={cx(classes.ovalLoader, className)}\n      {...others}\n      ref={ref}\n    />\n  ),\n);\n","import React, { forwardRef } from \"react\";\nimport cx from \"clsx\";\nimport { Box } from \"@raikou/core\";\nimport { RaikouLoaderComponent } from \"../Loader.types\";\nimport classes from \"../Loader.module.css\";\n\nexport const Progress: RaikouLoaderComponent = forwardRef(\n  ({ className, ...others }, ref) => (\n    <Box\n      component=\"span\"\n      className={cx(classes.progressLoader, className)}\n      {...others}\n      ref={ref}\n    >\n      <svg viewBox=\"0 0 38 38\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g fill=\"none\" fillRule=\"evenodd\">\n          <g transform=\"translate(2.5 2.5)\" strokeWidth=\"5\">\n            <circle strokeOpacity=\".5\" cx=\"16\" cy=\"16\" r=\"16\" />\n            <path d=\"M32 16c0-9.94-8.06-16-16-16\">\n              <animateTransform\n                attributeName=\"transform\"\n                type=\"rotate\"\n                from=\"0 16 16\"\n                to=\"360 16 16\"\n                dur=\"1s\"\n                repeatCount=\"indefinite\"\n              />\n            </path>\n          </g>\n        </g>\n      </svg>\n    </Box>\n  ),\n);\n","import React, { forwardRef } from \"react\";\nimport cx from \"clsx\";\nimport { Box } from \"@raikou/core\";\nimport { RaikouLoaderComponent } from \"../Loader.types\";\nimport classes from \"../Loader.module.css\";\n\nexport const Dots: RaikouLoaderComponent = forwardRef(\n  ({ className, ...others }, ref) => (\n    <Box\n      component=\"span\"\n      className={cx(classes.dotsLoader, className)}\n      {...others}\n      ref={ref}\n    >\n      <span className={classes.dot} />\n      <span className={classes.dot} />\n      <span className={classes.dot} />\n    </Box>\n  ),\n);\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/Loader/src/Loader.module.css\"; export default {\"root\":\"m-5ae2e3c\",\"barsLoader\":\"m-7a2bd4cd\",\"bar\":\"m-870bb79\",\"bars-loader-animation\":\"m-5d2b3b9d\",\"dotsLoader\":\"m-4e3f22d7\",\"dot\":\"m-870c4af\",\"loader-dots-animation\":\"m-aac34a1\",\"ovalLoader\":\"m-b34414df\",\"oval-loader-animation\":\"m-f8e89c4b\",\"progressLoader\":\"m-f7590d7a\"}","import React from \"react\";\nimport {\n  factory,\n  Box,\n  BoxProps,\n  StylesApiProps,\n  useProps,\n  useStyles,\n  rem,\n  createVarsResolver,\n  Factory,\n} from \"@raikou/core\";\nimport classes from \"../ActionIcon.module.css\";\n\nexport type ActionIconGroupStylesNames = \"group\";\nexport type ActionIconGroupCssVariables = {\n  group: \"--ai-border-width\";\n};\n\nexport interface ActionIconGroupProps\n  extends BoxProps,\n    StylesApiProps<ActionIconGroupFactory> {\n  /** `ActionIcon` components only */\n  children?: React.ReactNode;\n\n  /** Controls group orientation, `'horizontal'` by default */\n  orientation?: \"horizontal\" | \"vertical\";\n\n  /** `border-width` of the child `ActionIcon` components. Default value in `1` */\n  borderWidth?: number | string;\n}\n\nexport type ActionIconGroupFactory = Factory<{\n  props: ActionIconGroupProps;\n  ref: HTMLDivElement;\n  stylesNames: ActionIconGroupStylesNames;\n  vars: ActionIconGroupCssVariables;\n}>;\n\nconst defaultProps: Partial<ActionIconGroupProps> = {\n  orientation: \"horizontal\",\n};\n\nconst varsResolver = createVarsResolver<ActionIconGroupFactory>(\n  (_, { borderWidth }) => ({\n    group: { \"--ai-border-width\": rem(borderWidth) },\n  }),\n);\n\nexport const ActionIconGroup = factory<ActionIconGroupFactory>(\n  (_props, ref) => {\n    const props = useProps(\"ActionIconGroup\", defaultProps, _props);\n    const {\n      className,\n      style,\n      classNames,\n      styles,\n      unstyled,\n      orientation,\n      vars,\n      borderWidth,\n      variant,\n      ...others\n    } = useProps(\"ActionIconGroup\", defaultProps, _props);\n\n    const getStyles = useStyles<ActionIconGroupFactory>({\n      name: \"ActionIconGroup\",\n      props,\n      classes,\n      className,\n      style,\n      classNames,\n      styles,\n      unstyled,\n      vars,\n      varsResolver,\n      rootSelector: \"group\",\n    });\n\n    return (\n      <Box\n        {...getStyles(\"group\")}\n        ref={ref}\n        variant={variant}\n        mod={{ \"data-orientation\": orientation }}\n        role=\"group\"\n        {...others}\n      />\n    );\n  },\n);\n\nActionIconGroup.classes = classes;\nActionIconGroup.displayName = \"@raikou/core/ActionIconGroup\";\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/ActionIcon/src/ActionIcon.module.css\"; export default {\"root\":\"m-8d3f4000\",\"loader\":\"m-302b9fb1\",\"group\":\"m-1a0f1b21\"}","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/ActionIcon/src/ActionIcon.module.css\"; export default {\"root\":\"m-8d3f4000\",\"loader\":\"m-302b9fb1\",\"group\":\"m-1a0f1b21\"}","/* eslint-disable react/no-unused-prop-types */\nimport React, { useRef, useState, useCallback } from \"react\";\nimport { useId, useClickOutside } from \"@raikou/hooks\";\nimport {\n  RaikouShadow,\n  getDefaultZIndex,\n  useProps,\n  RaikouRadius,\n  useDirection,\n  useStyles,\n  Factory,\n  createVarsResolver,\n  getRadius,\n  getShadow,\n  StylesApiProps,\n  ExtendComponent,\n} from \"@raikou/core\";\nimport { TransitionOverride } from \"../../Transition/src\";\nimport {\n  getFloatingPosition,\n  FloatingAxesOffsets,\n  FloatingPosition,\n  ArrowPosition,\n} from \"../../Floating/src\";\nimport { PortalProps } from \"../../Portal/src\";\nimport { usePopover } from \"./use-popover\";\nimport { PopoverContextProvider } from \"./Popover.context\";\nimport { PopoverWidth, PopoverMiddlewares } from \"./Popover.types\";\nimport { PopoverTarget } from \"./PopoverTarget/PopoverTarget\";\nimport { PopoverDropdown } from \"./PopoverDropdown/PopoverDropdown\";\nimport classes from \"./Popover.module.css\";\n\nexport type PopoverStylesNames = \"dropdown\" | \"arrow\";\nexport type PopoverCssVariables = {\n  dropdown: \"--popover-radius\" | \"--popover-shadow\";\n};\n\nexport interface __PopoverProps {\n  /** Dropdown position relative to the target element, `'bottom'` by default */\n  position?: FloatingPosition;\n\n  /** Offset of the dropdown element, `8` by default */\n  offset?: number | FloatingAxesOffsets;\n\n  /** Called when dropdown position changes */\n  onPositionChange?: (position: FloatingPosition) => void;\n\n  /** `useEffect` dependencies to force update dropdown position, `[]` by default */\n  positionDependencies?: any[];\n\n  /** Called when dropdown closes */\n  onClose?: () => void;\n\n  /** Called when dropdown opens */\n  onOpen?: () => void;\n\n  /** If set dropdown will not be unmounted from the DOM when it is hidden, `display: none` styles will be added instead, `false` by default */\n  keepMounted?: boolean;\n\n  /** Props passed down to the `Transition` component that used to animate dropdown presence, use to configure duration and animation type, `{ duration: 150, transition: 'fade' }` by default */\n  transitionProps?: TransitionOverride;\n\n  /** Dropdown width, or `'target'` to make dropdown width the same as target element, `'max-content'` by default */\n  width?: PopoverWidth;\n\n  /** Floating ui middlewares to configure position handling, `{ flip: true, shift: true, inline: false }` by default */\n  middlewares?: PopoverMiddlewares;\n\n  /** Determines whether component should have an arrow, `false` by default */\n  withArrow?: boolean;\n\n  /** Arrow size in px, `7` by default */\n  arrowSize?: number;\n\n  /** Arrow offset in px, `5` by default */\n  arrowOffset?: number;\n\n  /** Arrow `border-radius` in px, `0` by default */\n  arrowRadius?: number;\n\n  /** Arrow position */\n  arrowPosition?: ArrowPosition;\n\n  /** Determines whether dropdown should be rendered within the `Portal`, `true` by default */\n  withinPortal?: boolean;\n\n  /** Props to pass down to the `Portal` when `withinPortal` is true */\n  portalProps?: Omit<PortalProps, \"children\">;\n\n  /** Dropdown `z-index`, `300` by default */\n  zIndex?: React.CSSProperties[\"zIndex\"];\n\n  /** Key of `theme.radius` or any valid CSS value to set border-radius, `theme.defaultRadius` by default */\n  radius?: RaikouRadius;\n\n  /** Key of `theme.shadows` or any other valid CSS `box-shadow` value */\n  shadow?: RaikouShadow;\n\n  /** If set, popover dropdown will not be rendered */\n  disabled?: boolean;\n\n  /** Determines whether focus should be automatically returned to control when dropdown closes, `false` by default */\n  returnFocus?: boolean;\n}\n\nexport interface PopoverProps\n  extends __PopoverProps,\n    StylesApiProps<PopoverFactory> {\n  __staticSelector?: string;\n\n  /** `Popover.Target` and `Popover.Dropdown` components */\n  children?: React.ReactNode;\n\n  /** Initial opened state for uncontrolled component */\n  defaultOpened?: boolean;\n\n  /** Controlled dropdown opened state */\n  opened?: boolean;\n\n  /** Called with current state when dropdown opens or closes */\n  onChange?: (opened: boolean) => void;\n\n  /** Determines whether dropdown should be closed on outside clicks, `true` by default */\n  closeOnClickOutside?: boolean;\n\n  /** Events that trigger outside clicks */\n  clickOutsideEvents?: string[];\n\n  /** Determines whether focus should be trapped within dropdown, `false` by default */\n  trapFocus?: boolean;\n\n  /** Determines whether dropdown should be closed when `Escape` key is pressed, `true` by default */\n  closeOnEscape?: boolean;\n\n  /** id base to create accessibility connections */\n  id?: string;\n\n  /** Determines whether dropdown and target elements should have accessible roles, `true` by default */\n  withRoles?: boolean;\n}\n\nexport type PopoverFactory = Factory<{\n  props: PopoverProps;\n  stylesNames: PopoverStylesNames;\n  vars: PopoverCssVariables;\n}>;\n\nconst defaultProps: Partial<PopoverProps> = {\n  position: \"bottom\",\n  offset: 8,\n  positionDependencies: [],\n  transitionProps: { transition: \"fade\", duration: 150 },\n  middlewares: { flip: true, shift: true, inline: false },\n  arrowSize: 7,\n  arrowOffset: 5,\n  arrowRadius: 0,\n  arrowPosition: \"side\",\n  closeOnClickOutside: true,\n  withinPortal: true,\n  closeOnEscape: true,\n  trapFocus: false,\n  withRoles: true,\n  returnFocus: false,\n  clickOutsideEvents: [\"mousedown\", \"touchstart\"],\n  zIndex: getDefaultZIndex(\"popover\"),\n  __staticSelector: \"Popover\",\n  width: \"max-content\",\n};\n\nconst varsResolver = createVarsResolver<PopoverFactory>(\n  (_, { radius, shadow }) => ({\n    dropdown: {\n      \"--popover-radius\": radius === undefined ? undefined : getRadius(radius),\n      \"--popover-shadow\": getShadow(shadow),\n    },\n  }),\n);\n\nexport function Popover(_props: PopoverProps) {\n  const props = useProps(\"Popover\", defaultProps, _props);\n  const {\n    children,\n    position,\n    offset,\n    onPositionChange,\n    positionDependencies,\n    opened,\n    transitionProps,\n    width,\n    middlewares,\n    withArrow,\n    arrowSize,\n    arrowOffset,\n    arrowRadius,\n    arrowPosition,\n    unstyled,\n    classNames,\n    styles,\n    closeOnClickOutside,\n    withinPortal,\n    portalProps,\n    closeOnEscape,\n    clickOutsideEvents,\n    trapFocus,\n    onClose,\n    onOpen,\n    onChange,\n    zIndex,\n    radius,\n    shadow,\n    id,\n    defaultOpened,\n    __staticSelector,\n    withRoles,\n    disabled,\n    returnFocus,\n    variant,\n    keepMounted,\n    vars,\n    ...others\n  } = props;\n\n  const getStyles = useStyles<PopoverFactory>({\n    name: __staticSelector!,\n    props,\n    classes,\n    classNames,\n    styles,\n    unstyled,\n    rootSelector: \"dropdown\",\n    vars,\n    varsResolver,\n  });\n\n  const arrowRef = useRef<HTMLDivElement | null>(null);\n  const [targetNode, setTargetNode] = useState<HTMLElement | null>(null);\n  const [dropdownNode, setDropdownNode] = useState<HTMLElement | null>(null);\n  const { dir } = useDirection();\n\n  const uid = useId(id);\n  const popover = usePopover({\n    middlewares,\n    width,\n    position: getFloatingPosition(dir, position!),\n    offset:\n      typeof offset === \"number\"\n        ? offset + (withArrow ? arrowSize! / 2 : 0)\n        : offset!,\n    arrowRef,\n    arrowOffset: arrowOffset!,\n    onPositionChange,\n    positionDependencies,\n    opened,\n    defaultOpened,\n    onChange,\n    onOpen,\n    onClose,\n  });\n\n  useClickOutside(\n    () => closeOnClickOutside && popover.onClose(),\n    clickOutsideEvents,\n    [targetNode, dropdownNode],\n  );\n\n  const reference = useCallback(\n    (node: HTMLElement) => {\n      setTargetNode(node);\n      popover.floating.reference(node);\n    },\n    [popover.floating.reference],\n  );\n\n  const floating = useCallback(\n    (node: HTMLElement) => {\n      setDropdownNode(node);\n      popover.floating.floating(node);\n    },\n    [popover.floating.floating],\n  );\n\n  return (\n    <PopoverContextProvider\n      value={{\n        returnFocus,\n        disabled,\n        controlled: popover.controlled,\n        reference,\n        floating,\n        x: popover.floating.x!,\n        y: popover.floating.y!,\n        arrowX: popover.floating?.middlewareData?.arrow?.x!,\n        arrowY: popover.floating?.middlewareData?.arrow?.y!,\n        opened: popover.opened,\n        arrowRef,\n        transitionProps,\n        width,\n        withArrow,\n        arrowSize: arrowSize!,\n        arrowOffset: arrowOffset!,\n        arrowRadius: arrowRadius!,\n        arrowPosition: arrowPosition!,\n        placement: popover.floating.placement,\n        trapFocus,\n        withinPortal,\n        portalProps,\n        zIndex,\n        radius,\n        shadow,\n        closeOnEscape,\n        onClose: popover.onClose,\n        onToggle: popover.onToggle,\n        getTargetId: () => `${uid}-target`,\n        getDropdownId: () => `${uid}-dropdown`,\n        withRoles,\n        targetProps: others,\n        __staticSelector: __staticSelector!,\n        classNames,\n        styles,\n        unstyled,\n        variant,\n        keepMounted,\n        getStyles,\n      }}\n    >\n      {children}\n    </PopoverContextProvider>\n  );\n}\n\nPopover.Target = PopoverTarget;\nPopover.Dropdown = PopoverDropdown;\nPopover.displayName = \"@raikou/core/Popover\";\nPopover.extend = (input: ExtendComponent<PopoverFactory>) => input;\n","import { useRef, useEffect } from \"react\";\n\ninterface UseDelayedHoverInput {\n  open: () => void;\n  close: () => void;\n  openDelay: number | undefined;\n  closeDelay: number | undefined;\n}\n\nexport function useDelayedHover({\n  open,\n  close,\n  openDelay,\n  closeDelay,\n}: UseDelayedHoverInput) {\n  const openTimeout = useRef(-1);\n  const closeTimeout = useRef(-1);\n\n  const clearTimeouts = () => {\n    window.clearTimeout(openTimeout.current);\n    window.clearTimeout(closeTimeout.current);\n  };\n\n  const openDropdown = () => {\n    clearTimeouts();\n\n    if (openDelay === 0) {\n      open();\n    } else {\n      openTimeout.current = window.setTimeout(open, openDelay);\n    }\n  };\n\n  const closeDropdown = () => {\n    clearTimeouts();\n\n    if (closeDelay === 0) {\n      close();\n    } else {\n      closeTimeout.current = window.setTimeout(close, closeDelay);\n    }\n  };\n\n  useEffect(() => clearTimeouts, []);\n\n  return { openDropdown, closeDropdown };\n}\n","import { useState, useEffect } from \"react\";\nimport { autoUpdate } from \"@floating-ui/react\";\nimport { useDidUpdate } from \"@raikou/hooks\";\nimport { FloatingPosition } from \"./types\";\n\ninterface Payload {\n  opened: boolean | undefined;\n  floating: {\n    update: () => void;\n    refs: {\n      floating: React.MutableRefObject<any>;\n      reference: React.MutableRefObject<any>;\n    };\n  };\n  positionDependencies: any[];\n  position: FloatingPosition;\n}\n\nexport function useFloatingAutoUpdate({\n  opened,\n  floating,\n  position,\n  positionDependencies,\n}: Payload) {\n  const [delayedUpdate, setDelayedUpdate] = useState(0);\n\n  useEffect(() => {\n    if (floating.refs.reference.current && floating.refs.floating.current) {\n      return autoUpdate(\n        floating.refs.reference.current,\n        floating.refs.floating.current,\n        floating.update,\n      );\n    }\n\n    return undefined;\n  }, [\n    floating.refs.reference.current,\n    floating.refs.floating.current,\n    opened,\n    delayedUpdate,\n    position,\n  ]);\n\n  useDidUpdate(() => {\n    floating.update();\n  }, positionDependencies);\n\n  useDidUpdate(() => {\n    setDelayedUpdate((c) => c + 1);\n  }, [opened]);\n}\n","function getAlignment(placement) {\n  return placement.split('-')[1];\n}\n\nfunction getLengthFromAxis(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\n\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\n\nfunction getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'x' : 'y';\n}\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const mainAxis = getMainAxisFromPlacement(placement);\n  const length = getLengthFromAxis(mainAxis);\n  const commonAlign = reference[length] / 2 - floating[length] / 2;\n  const side = getSide(placement);\n  const isVertical = mainAxis === 'x';\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[mainAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[mainAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a reference element when it is given a certain positioning strategy.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n      continue;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\n\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\n\nfunction getSideObjectFromPadding(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\n\nfunction rectToClientRect(rect) {\n  return {\n    ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getSideObjectFromPadding(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    ...rects.floating,\n    x,\n    y\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\nconst min = Math.min;\nconst max = Math.max;\n\nfunction within(min$1, value, max$1) {\n  return max(min$1, min(value, max$1));\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getSideObjectFromPadding(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getMainAxisFromPlacement(placement);\n    const length = getLengthFromAxis(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = within(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. This stops `shift()` from taking action, but can\n    // be worked around by calling it again after the `arrow()` if desired.\n    const shouldAddOffset = getAlignment(placement) != null && center != offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? min$1 - center : max - center : 0;\n    return {\n      [axis]: coords[axis] - alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset + alignmentOffset\n      }\n    };\n  }\n});\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst allPlacements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-start\", side + \"-end\"), []);\n\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\n\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const mainAxis = getMainAxisFromPlacement(placement);\n  const length = getLengthFromAxis(mainAxis);\n  let mainAlignmentSide = mainAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return {\n    main: mainAlignmentSide,\n    cross: getOppositePlacement(mainAlignmentSide)\n  };\n}\n\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = allPlacements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements = alignment !== undefined || allowedPlacements === allPlacements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const {\n        main,\n        cross\n      } = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[main], overflow[cross]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\n\nfunction getSideList(side, isStart, rtl) {\n  const lr = ['left', 'right'];\n  const rl = ['right', 'left'];\n  const tb = ['top', 'bottom'];\n  const bt = ['bottom', 'top'];\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case 'left':\n    case 'right':\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const side = getSide(placement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== 'none') {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const {\n          main,\n          cross\n        } = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[main], overflow[cross]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle.\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$map$so;\n                const placement = (_overflowsData$map$so = overflowsData.map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getSideObjectFromPadding(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getMainAxisFromPlacement(placement) === 'x') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getMainAxisFromPlacement(placement) === 'x';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n\n  // eslint-disable-next-line prefer-const\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: diffCoords\n      };\n    }\n  };\n};\n\nfunction getCrossAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const mainAxis = getMainAxisFromPlacement(getSide(placement));\n      const crossAxis = getCrossAxis(mainAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = within(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = within(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const mainAxis = getMainAxisFromPlacement(placement);\n      const crossAxis = getCrossAxis(mainAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const axis = getMainAxisFromPlacement(placement);\n      const isXAxis = axis === 'x';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const overflowAvailableHeight = height - overflow[heightSide];\n      const overflowAvailableWidth = width - overflow[widthSide];\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if (isXAxis) {\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        availableWidth = alignment || noShift ? min(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;\n      } else {\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        availableHeight = alignment || noShift ? min(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isXAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, rectToClientRect, shift, size };\n","import { rectToClientRect, computePosition as computePosition$1 } from '@floating-ui/core';\nexport { arrow, autoPlacement, detectOverflow, flip, hide, inline, limitShift, offset, shift, size } from '@floating-ui/core';\n\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null ? void 0 : (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\n\nfunction getComputedStyle$1(element) {\n  return getWindow(element).getComputedStyle(element);\n}\n\nfunction isNode(value) {\n  return value instanceof getWindow(value).Node;\n}\nfunction getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\n\nfunction isHTMLElement(value) {\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(node) {\n  // Browsers without `ShadowRoot` support.\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return node instanceof getWindow(node).ShadowRoot || node instanceof ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle$1(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  const safari = isSafari();\n  const css = getComputedStyle$1(element);\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  return css.transform !== 'none' || css.perspective !== 'none' || (css.containerType ? css.containerType !== 'normal' : false) || !safari && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !safari && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective', 'filter'].some(value => (css.willChange || '').includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => (css.contain || '').includes(value));\n}\nfunction isSafari() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\n\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle$1(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction isElement(value) {\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isSafari() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentIFrame = win.frameElement;\n    while (currentIFrame && offsetParent && offsetWin !== win) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentIFrame = getWindow(currentIFrame).frameElement;\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\n\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  if (offsetParent === documentElement) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== 'fixed') {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle$1(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\n\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\n\nfunction getOverflowAncestors(node, list) {\n  var _node$ownerDocument;\n  if (list === void 0) {\n    list = [];\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor));\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isSafari();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      ...clippingAncestor,\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle$1(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle$1(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle$1(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  return getCssDimensions(element);\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle$1(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  return element.offsetParent;\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = getParentNode(currentNode);\n    }\n  }\n  return null;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const window = getWindow(element);\n  if (!isHTMLElement(element)) {\n    return window;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle$1(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle$1(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {\n    return window;\n  }\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nconst getElementRects = async function (_ref) {\n  let {\n    reference,\n    floating,\n    strategy\n  } = _ref;\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  return {\n    reference: getRectRelativeToOffsetParent(reference, await getOffsetParentFn(floating), strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      ...(await getDimensionsFn(floating))\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    clearTimeout(timeoutId);\n    io && io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 100);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          resizeObserver && resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo && cleanupIo();\n    resizeObserver && resizeObserver.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a reference element when it is given a certain CSS positioning\n * strategy.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { autoUpdate, computePosition, getOverflowAncestors, platform };\n","import { arrow as arrow$1, computePosition } from '@floating-ui/dom';\nexport { autoPlacement, autoUpdate, computePosition, detectOverflow, flip, getOverflowAncestors, hide, inline, limitShift, offset, platform, shift, size } from '@floating-ui/dom';\nimport * as React from 'react';\nimport { useLayoutEffect, useEffect } from 'react';\nimport * as ReactDOM from 'react-dom';\n\n/**\n * A data provider that provides data to position an inner element of the\n * floating element (usually a triangle or caret) so that it is centered to the\n * reference element.\n * This wraps the core `arrow` middleware to allow React refs as the element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => {\n  const {\n    element,\n    padding\n  } = options;\n  function isRef(value) {\n    return Object.prototype.hasOwnProperty.call(value, 'current');\n  }\n  return {\n    name: 'arrow',\n    options,\n    fn(args) {\n      if (isRef(element)) {\n        if (element.current != null) {\n          return arrow$1({\n            element: element.current,\n            padding\n          }).fn(args);\n        }\n        return {};\n      } else if (element) {\n        return arrow$1({\n          element,\n          padding\n        }).fn(args);\n      }\n      return {};\n    }\n  };\n};\n\nvar index = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\n\n// Fork of `fast-deep-equal` that only does the comparisons we need and compares\n// functions\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (typeof a === 'function' && a.toString() === b.toString()) {\n    return true;\n  }\n  let length, i, keys;\n  if (a && b && typeof a == 'object') {\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;) {\n        if (!deepEqual(a[i], b[i])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) {\n      return false;\n    }\n    for (i = length; i-- !== 0;) {\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) {\n        return false;\n      }\n    }\n    for (i = length; i-- !== 0;) {\n      const key = keys[i];\n      if (key === '_owner' && a.$$typeof) {\n        continue;\n      }\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return a !== a && b !== b;\n}\n\nfunction useLatestRef(value) {\n  const ref = React.useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\n/**\n * Provides data to position a floating element.\n * @see https://floating-ui.com/docs/react\n */\nfunction useFloating(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform,\n    whileElementsMounted,\n    open\n  } = options;\n  const [data, setData] = React.useState({\n    x: null,\n    y: null,\n    strategy,\n    placement,\n    middlewareData: {},\n    isPositioned: false\n  });\n  const [latestMiddleware, setLatestMiddleware] = React.useState(middleware);\n  if (!deepEqual(latestMiddleware, middleware)) {\n    setLatestMiddleware(middleware);\n  }\n  const referenceRef = React.useRef(null);\n  const floatingRef = React.useRef(null);\n  const dataRef = React.useRef(data);\n  const whileElementsMountedRef = useLatestRef(whileElementsMounted);\n  const platformRef = useLatestRef(platform);\n  const [reference, _setReference] = React.useState(null);\n  const [floating, _setFloating] = React.useState(null);\n  const setReference = React.useCallback(node => {\n    if (referenceRef.current !== node) {\n      referenceRef.current = node;\n      _setReference(node);\n    }\n  }, []);\n  const setFloating = React.useCallback(node => {\n    if (floatingRef.current !== node) {\n      floatingRef.current = node;\n      _setFloating(node);\n    }\n  }, []);\n  const update = React.useCallback(() => {\n    if (!referenceRef.current || !floatingRef.current) {\n      return;\n    }\n    const config = {\n      placement,\n      strategy,\n      middleware: latestMiddleware\n    };\n    if (platformRef.current) {\n      config.platform = platformRef.current;\n    }\n    computePosition(referenceRef.current, floatingRef.current, config).then(data => {\n      const fullData = {\n        ...data,\n        isPositioned: true\n      };\n      if (isMountedRef.current && !deepEqual(dataRef.current, fullData)) {\n        dataRef.current = fullData;\n        ReactDOM.flushSync(() => {\n          setData(fullData);\n        });\n      }\n    });\n  }, [latestMiddleware, placement, strategy, platformRef]);\n  index(() => {\n    if (open === false && dataRef.current.isPositioned) {\n      dataRef.current.isPositioned = false;\n      setData(data => ({\n        ...data,\n        isPositioned: false\n      }));\n    }\n  }, [open]);\n  const isMountedRef = React.useRef(false);\n  index(() => {\n    isMountedRef.current = true;\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n  index(() => {\n    if (reference && floating) {\n      if (whileElementsMountedRef.current) {\n        return whileElementsMountedRef.current(reference, floating, update);\n      } else {\n        update();\n      }\n    }\n  }, [reference, floating, update, whileElementsMountedRef]);\n  const refs = React.useMemo(() => ({\n    reference: referenceRef,\n    floating: floatingRef,\n    setReference,\n    setFloating\n  }), [setReference, setFloating]);\n  const elements = React.useMemo(() => ({\n    reference,\n    floating\n  }), [reference, floating]);\n  return React.useMemo(() => ({\n    ...data,\n    update,\n    refs,\n    elements,\n    reference: setReference,\n    floating: setFloating\n  }), [data, update, refs, elements, setReference, setFloating]);\n}\n\nexport { arrow, useFloating };\n","import { platform, getOverflowAncestors, offset, detectOverflow, useFloating as useFloating$1 } from '@floating-ui/react-dom';\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, getOverflowAncestors, hide, inline, limitShift, offset, platform, shift, size } from '@floating-ui/react-dom';\nimport * as React from 'react';\nimport { useLayoutEffect, useEffect, useRef } from 'react';\nimport { hideOthers } from 'aria-hidden';\nimport { tabbable } from 'tabbable';\nimport { createPortal, flushSync } from 'react-dom';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nvar index = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\n\nlet serverHandoffComplete = false;\nlet count = 0;\nconst genId = () => \"floating-ui-\" + count++;\nfunction useFloatingId() {\n  const [id, setId] = React.useState(() => serverHandoffComplete ? genId() : undefined);\n  index(() => {\n    if (id == null) {\n      setId(genId());\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  React.useEffect(() => {\n    if (!serverHandoffComplete) {\n      serverHandoffComplete = true;\n    }\n  }, []);\n  return id;\n}\n\n// `toString()` prevents bundlers from trying to `import { useId } from 'react'`\nconst useReactId = React[/*#__PURE__*/'useId'.toString()];\n\n/**\n * Uses React 18's built-in `useId()` when available, or falls back to a\n * slightly less performant (requiring a double render) implementation for\n * earlier React versions.\n * @see https://floating-ui.com/docs/useId\n */\nconst useId = useReactId || useFloatingId;\n\n/**\n * Renders a pointing arrow triangle.\n * @see https://floating-ui.com/docs/FloatingArrow\n */\nconst FloatingArrow = /*#__PURE__*/React.forwardRef(function FloatingArrow(_ref, ref) {\n  var _rest$style;\n  let {\n    context: {\n      placement,\n      elements: {\n        floating\n      },\n      middlewareData: {\n        arrow\n      }\n    },\n    width = 14,\n    height = 7,\n    tipRadius = 0,\n    strokeWidth = 0,\n    staticOffset,\n    stroke,\n    d,\n    ...rest\n  } = _ref;\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!ref) {\n      console.warn('Floating UI: The `ref` prop is required for the `FloatingArrow`', 'component.');\n    }\n  }\n\n  // Strokes must be double the border width, this ensures the stroke's width\n  // works as you'd expect.\n  strokeWidth *= 2;\n  const halfStrokeWidth = strokeWidth / 2;\n  const svgX = width / 2 * (tipRadius / -8 + 1);\n  const svgY = height / 2 * tipRadius / 4;\n  const [side, alignment] = placement.split('-');\n  const isRTL = floating ? platform.isRTL(floating) : false;\n  const isCustomShape = !!d;\n  const isVerticalSide = side === 'top' || side === 'bottom';\n  const yOffsetProp = staticOffset && alignment === 'end' ? 'bottom' : 'top';\n  let xOffsetProp = staticOffset && alignment === 'end' ? 'right' : 'left';\n  if (staticOffset && isRTL) {\n    xOffsetProp = alignment === 'end' ? 'left' : 'right';\n  }\n  const arrowOffsetY = isCustomShape ? 0 : halfStrokeWidth;\n  const arrowX = (arrow == null ? void 0 : arrow.x) != null ? staticOffset || arrow.x : '';\n  const arrowY = (arrow == null ? void 0 : arrow.y) != null ? staticOffset || arrow.y + arrowOffsetY : '';\n  const dValue = d || 'M0,0' + (\" H\" + width) + (\" L\" + (width - svgX) + \",\" + (height - svgY)) + (\" Q\" + width / 2 + \",\" + height + \" \" + svgX + \",\" + (height - svgY)) + ' Z';\n  const rotation = {\n    top: isCustomShape ? 'rotate(180deg)' : '',\n    left: isCustomShape ? 'rotate(90deg)' : 'rotate(-90deg)',\n    bottom: isCustomShape ? '' : 'rotate(180deg)',\n    right: isCustomShape ? 'rotate(-90deg)' : 'rotate(90deg)'\n  }[side];\n  const clipPathId = useId();\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({}, rest, {\n    // @ts-ignore\n    suppressHydrationWarning: true,\n    \"aria-hidden\": true,\n    ref: ref,\n    width: isCustomShape ? width : width + strokeWidth,\n    height: width,\n    viewBox: \"0 0 \" + width + \" \" + (height > width ? height : width),\n    style: {\n      ...rest.style,\n      position: 'absolute',\n      pointerEvents: 'none',\n      [xOffsetProp]: arrowX,\n      [yOffsetProp]: arrowY,\n      [side]: isVerticalSide || isCustomShape ? '100%' : \"calc(100% - \" + strokeWidth / 2 + \"px)\",\n      transform: \"\" + rotation + ((_rest$style = rest.style) != null && _rest$style.transform ? \" \" + rest.style.transform : '')\n    }\n  }), strokeWidth > 0 && /*#__PURE__*/React.createElement(\"path\", {\n    clipPath: \"url(#\" + clipPathId + \")\",\n    fill: \"none\",\n    stroke: stroke\n    // Account for the stroke on the fill path rendered below.\n    ,\n    strokeWidth: strokeWidth + (d ? 0 : 1),\n    d: dValue\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: strokeWidth && !d ? rest.fill : 'none',\n    d: dValue\n  }), /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: clipPathId\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: -halfStrokeWidth,\n    y: halfStrokeWidth * (isCustomShape ? -1 : 1),\n    width: width + strokeWidth,\n    height: width\n  })));\n});\n\nfunction createPubSub() {\n  const map = new Map();\n  return {\n    emit(event, data) {\n      var _map$get;\n      (_map$get = map.get(event)) == null ? void 0 : _map$get.forEach(handler => handler(data));\n    },\n    on(event, listener) {\n      map.set(event, [...(map.get(event) || []), listener]);\n    },\n    off(event, listener) {\n      var _map$get2;\n      map.set(event, ((_map$get2 = map.get(event)) == null ? void 0 : _map$get2.filter(l => l !== listener)) || []);\n    }\n  };\n}\n\nconst FloatingNodeContext = /*#__PURE__*/React.createContext(null);\nconst FloatingTreeContext = /*#__PURE__*/React.createContext(null);\nconst useFloatingParentNodeId = () => {\n  var _React$useContext;\n  return ((_React$useContext = React.useContext(FloatingNodeContext)) == null ? void 0 : _React$useContext.id) || null;\n};\nconst useFloatingTree = () => React.useContext(FloatingTreeContext);\n\n/**\n * Registers a node into the floating tree, returning its id.\n */\nconst useFloatingNodeId = customParentId => {\n  const id = useId();\n  const tree = useFloatingTree();\n  const reactParentId = useFloatingParentNodeId();\n  const parentId = customParentId || reactParentId;\n  index(() => {\n    const node = {\n      id,\n      parentId\n    };\n    tree == null ? void 0 : tree.addNode(node);\n    return () => {\n      tree == null ? void 0 : tree.removeNode(node);\n    };\n  }, [tree, id, parentId]);\n  return id;\n};\n\n/**\n * Provides parent node context for nested floating elements.\n * @see https://floating-ui.com/docs/FloatingTree\n */\nconst FloatingNode = _ref => {\n  let {\n    children,\n    id\n  } = _ref;\n  const parentId = useFloatingParentNodeId();\n  return /*#__PURE__*/React.createElement(FloatingNodeContext.Provider, {\n    value: React.useMemo(() => ({\n      id,\n      parentId\n    }), [id, parentId])\n  }, children);\n};\n\n/**\n * Provides context for nested floating elements when they are not children of\n * each other on the DOM (i.e. portalled to a common node, rather than their\n * respective parent).\n * @see https://floating-ui.com/docs/FloatingTree\n */\nconst FloatingTree = _ref2 => {\n  let {\n    children\n  } = _ref2;\n  const nodesRef = React.useRef([]);\n  const addNode = React.useCallback(node => {\n    nodesRef.current = [...nodesRef.current, node];\n  }, []);\n  const removeNode = React.useCallback(node => {\n    nodesRef.current = nodesRef.current.filter(n => n !== node);\n  }, []);\n  const events = React.useState(() => createPubSub())[0];\n  return /*#__PURE__*/React.createElement(FloatingTreeContext.Provider, {\n    value: React.useMemo(() => ({\n      nodesRef,\n      addNode,\n      removeNode,\n      events\n    }), [nodesRef, addNode, removeNode, events])\n  }, children);\n};\n\nfunction getDocument(node) {\n  return (node == null ? void 0 : node.ownerDocument) || document;\n}\n\n// Avoid Chrome DevTools blue warning.\nfunction getPlatform() {\n  const uaData = navigator.userAgentData;\n  if (uaData != null && uaData.platform) {\n    return uaData.platform;\n  }\n  return navigator.platform;\n}\nfunction getUserAgent() {\n  const uaData = navigator.userAgentData;\n  if (uaData && Array.isArray(uaData.brands)) {\n    return uaData.brands.map(_ref => {\n      let {\n        brand,\n        version\n      } = _ref;\n      return brand + \"/\" + version;\n    }).join(' ');\n  }\n  return navigator.userAgent;\n}\n\nfunction getWindow(value) {\n  return getDocument(value).defaultView || window;\n}\nfunction isElement(value) {\n  return value ? value instanceof getWindow(value).Element : false;\n}\nfunction isHTMLElement(value) {\n  return value ? value instanceof getWindow(value).HTMLElement : false;\n}\nfunction isShadowRoot(node) {\n  // Browsers without `ShadowRoot` support\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  const OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\n// License: https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/utils/src/isVirtualEvent.ts\nfunction isVirtualClick(event) {\n  if (event.mozInputSource === 0 && event.isTrusted) {\n    return true;\n  }\n  const androidRe = /Android/i;\n  if ((androidRe.test(getPlatform()) || androidRe.test(getUserAgent())) && event.pointerType) {\n    return event.type === 'click' && event.buttons === 1;\n  }\n  return event.detail === 0 && !event.pointerType;\n}\nfunction isVirtualPointerEvent(event) {\n  return event.width === 0 && event.height === 0 || event.width === 1 && event.height === 1 && event.pressure === 0 && event.detail === 0 && event.pointerType !== 'mouse' ||\n  // iOS VoiceOver returns 0.333• for width/height.\n  event.width < 1 && event.height < 1 && event.pressure === 0 && event.detail === 0;\n}\nfunction isSafari() {\n  // Chrome DevTools does not complain about navigator.vendor\n  return /apple/i.test(navigator.vendor);\n}\nfunction isMac() {\n  return getPlatform().toLowerCase().startsWith('mac') && !navigator.maxTouchPoints;\n}\nfunction isMouseLikePointerType(pointerType, strict) {\n  // On some Linux machines with Chromium, mouse inputs return a `pointerType`\n  // of \"pen\": https://github.com/floating-ui/floating-ui/issues/2015\n  const values = ['mouse', 'pen'];\n  if (!strict) {\n    values.push('', undefined);\n  }\n  return values.includes(pointerType);\n}\n\nfunction contains(parent, child) {\n  if (!parent || !child) {\n    return false;\n  }\n  const rootNode = child.getRootNode && child.getRootNode();\n\n  // First, attempt with faster native method\n  if (parent.contains(child)) {\n    return true;\n  }\n\n  // then fallback to custom implementation with Shadow DOM support\n  if (rootNode && isShadowRoot(rootNode)) {\n    let next = child;\n    while (next) {\n      if (parent === next) {\n        return true;\n      }\n      // @ts-ignore\n      next = next.parentNode || next.host;\n    }\n  }\n\n  // Give up, the result is false\n  return false;\n}\n\nfunction useLatestRef(value) {\n  const ref = useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\nconst safePolygonIdentifier = 'data-floating-ui-safe-polygon';\nfunction getDelay(value, prop, pointerType) {\n  if (pointerType && !isMouseLikePointerType(pointerType)) {\n    return 0;\n  }\n  if (typeof value === 'number') {\n    return value;\n  }\n  return value == null ? void 0 : value[prop];\n}\n/**\n * Opens the floating element while hovering over the reference element, like\n * CSS `:hover`.\n * @see https://floating-ui.com/docs/useHover\n */\nconst useHover = function (context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    dataRef,\n    events,\n    elements: {\n      domReference,\n      floating\n    },\n    refs\n  } = context;\n  const {\n    enabled = true,\n    delay = 0,\n    handleClose = null,\n    mouseOnly = false,\n    restMs = 0,\n    move = true\n  } = props;\n  const tree = useFloatingTree();\n  const parentId = useFloatingParentNodeId();\n  const handleCloseRef = useLatestRef(handleClose);\n  const delayRef = useLatestRef(delay);\n  const pointerTypeRef = React.useRef();\n  const timeoutRef = React.useRef();\n  const handlerRef = React.useRef();\n  const restTimeoutRef = React.useRef();\n  const blockMouseMoveRef = React.useRef(true);\n  const performedPointerEventsMutationRef = React.useRef(false);\n  const unbindMouseMoveRef = React.useRef(() => {});\n  const isHoverOpen = React.useCallback(() => {\n    var _dataRef$current$open;\n    const type = (_dataRef$current$open = dataRef.current.openEvent) == null ? void 0 : _dataRef$current$open.type;\n    return (type == null ? void 0 : type.includes('mouse')) && type !== 'mousedown';\n  }, [dataRef]);\n\n  // When dismissing before opening, clear the delay timeouts to cancel it\n  // from showing.\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function onDismiss() {\n      clearTimeout(timeoutRef.current);\n      clearTimeout(restTimeoutRef.current);\n      blockMouseMoveRef.current = true;\n    }\n    events.on('dismiss', onDismiss);\n    return () => {\n      events.off('dismiss', onDismiss);\n    };\n  }, [enabled, events]);\n  React.useEffect(() => {\n    if (!enabled || !handleCloseRef.current || !open) {\n      return;\n    }\n    function onLeave() {\n      if (isHoverOpen()) {\n        onOpenChange(false);\n      }\n    }\n    const html = getDocument(floating).documentElement;\n    html.addEventListener('mouseleave', onLeave);\n    return () => {\n      html.removeEventListener('mouseleave', onLeave);\n    };\n  }, [floating, open, onOpenChange, enabled, handleCloseRef, dataRef, isHoverOpen]);\n  const closeWithDelay = React.useCallback(function (runElseBranch) {\n    if (runElseBranch === void 0) {\n      runElseBranch = true;\n    }\n    const closeDelay = getDelay(delayRef.current, 'close', pointerTypeRef.current);\n    if (closeDelay && !handlerRef.current) {\n      clearTimeout(timeoutRef.current);\n      timeoutRef.current = setTimeout(() => onOpenChange(false), closeDelay);\n    } else if (runElseBranch) {\n      clearTimeout(timeoutRef.current);\n      onOpenChange(false);\n    }\n  }, [delayRef, onOpenChange]);\n  const cleanupMouseMoveHandler = React.useCallback(() => {\n    unbindMouseMoveRef.current();\n    handlerRef.current = undefined;\n  }, []);\n  const clearPointerEvents = React.useCallback(() => {\n    if (performedPointerEventsMutationRef.current) {\n      const body = getDocument(refs.floating.current).body;\n      body.style.pointerEvents = '';\n      body.removeAttribute(safePolygonIdentifier);\n      performedPointerEventsMutationRef.current = false;\n    }\n  }, [refs]);\n\n  // Registering the mouse events on the reference directly to bypass React's\n  // delegation system. If the cursor was on a disabled element and then entered\n  // the reference (no gap), `mouseenter` doesn't fire in the delegation system.\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function isClickLikeOpenEvent() {\n      return dataRef.current.openEvent ? ['click', 'mousedown'].includes(dataRef.current.openEvent.type) : false;\n    }\n    function onMouseEnter(event) {\n      clearTimeout(timeoutRef.current);\n      blockMouseMoveRef.current = false;\n      if (mouseOnly && !isMouseLikePointerType(pointerTypeRef.current) || restMs > 0 && getDelay(delayRef.current, 'open') === 0) {\n        return;\n      }\n      dataRef.current.openEvent = event;\n      const openDelay = getDelay(delayRef.current, 'open', pointerTypeRef.current);\n      if (openDelay) {\n        timeoutRef.current = setTimeout(() => {\n          onOpenChange(true);\n        }, openDelay);\n      } else {\n        onOpenChange(true);\n      }\n    }\n    function onMouseLeave(event) {\n      if (isClickLikeOpenEvent()) {\n        return;\n      }\n      unbindMouseMoveRef.current();\n      const doc = getDocument(floating);\n      clearTimeout(restTimeoutRef.current);\n      if (handleCloseRef.current) {\n        // Prevent clearing `onScrollMouseLeave` timeout.\n        if (!open) {\n          clearTimeout(timeoutRef.current);\n        }\n        handlerRef.current = handleCloseRef.current({\n          ...context,\n          tree,\n          x: event.clientX,\n          y: event.clientY,\n          onClose() {\n            clearPointerEvents();\n            cleanupMouseMoveHandler();\n            closeWithDelay();\n          }\n        });\n        const handler = handlerRef.current;\n        doc.addEventListener('mousemove', handler);\n        unbindMouseMoveRef.current = () => {\n          doc.removeEventListener('mousemove', handler);\n        };\n        return;\n      }\n\n      // Allow interactivity without `safePolygon` on touch devices. With a\n      // pointer, a short close delay is an alternative, so it should work\n      // consistently.\n      const shouldClose = pointerTypeRef.current === 'touch' ? !contains(floating, event.relatedTarget) : true;\n      if (shouldClose) {\n        closeWithDelay();\n      }\n    }\n\n    // Ensure the floating element closes after scrolling even if the pointer\n    // did not move.\n    // https://github.com/floating-ui/floating-ui/discussions/1692\n    function onScrollMouseLeave(event) {\n      if (isClickLikeOpenEvent()) {\n        return;\n      }\n      handleCloseRef.current == null ? void 0 : handleCloseRef.current({\n        ...context,\n        tree,\n        x: event.clientX,\n        y: event.clientY,\n        onClose() {\n          clearPointerEvents();\n          cleanupMouseMoveHandler();\n          closeWithDelay();\n        }\n      })(event);\n    }\n    if (isElement(domReference)) {\n      const ref = domReference;\n      open && ref.addEventListener('mouseleave', onScrollMouseLeave);\n      floating == null ? void 0 : floating.addEventListener('mouseleave', onScrollMouseLeave);\n      move && ref.addEventListener('mousemove', onMouseEnter, {\n        once: true\n      });\n      ref.addEventListener('mouseenter', onMouseEnter);\n      ref.addEventListener('mouseleave', onMouseLeave);\n      return () => {\n        open && ref.removeEventListener('mouseleave', onScrollMouseLeave);\n        floating == null ? void 0 : floating.removeEventListener('mouseleave', onScrollMouseLeave);\n        move && ref.removeEventListener('mousemove', onMouseEnter);\n        ref.removeEventListener('mouseenter', onMouseEnter);\n        ref.removeEventListener('mouseleave', onMouseLeave);\n      };\n    }\n  }, [domReference, floating, enabled, context, mouseOnly, restMs, move, closeWithDelay, cleanupMouseMoveHandler, clearPointerEvents, onOpenChange, open, tree, delayRef, handleCloseRef, dataRef]);\n\n  // Block pointer-events of every element other than the reference and floating\n  // while the floating element is open and has a `handleClose` handler. Also\n  // handles nested floating elements.\n  // https://github.com/floating-ui/floating-ui/issues/1722\n  index(() => {\n    var _handleCloseRef$curre;\n    if (!enabled) {\n      return;\n    }\n    if (open && (_handleCloseRef$curre = handleCloseRef.current) != null && _handleCloseRef$curre.__options.blockPointerEvents && isHoverOpen()) {\n      const body = getDocument(floating).body;\n      body.setAttribute(safePolygonIdentifier, '');\n      body.style.pointerEvents = 'none';\n      performedPointerEventsMutationRef.current = true;\n      if (isElement(domReference) && floating) {\n        var _tree$nodesRef$curren, _tree$nodesRef$curren2;\n        const ref = domReference;\n        const parentFloating = tree == null ? void 0 : (_tree$nodesRef$curren = tree.nodesRef.current.find(node => node.id === parentId)) == null ? void 0 : (_tree$nodesRef$curren2 = _tree$nodesRef$curren.context) == null ? void 0 : _tree$nodesRef$curren2.elements.floating;\n        if (parentFloating) {\n          parentFloating.style.pointerEvents = '';\n        }\n        ref.style.pointerEvents = 'auto';\n        floating.style.pointerEvents = 'auto';\n        return () => {\n          ref.style.pointerEvents = '';\n          floating.style.pointerEvents = '';\n        };\n      }\n    }\n  }, [enabled, open, parentId, floating, domReference, tree, handleCloseRef, dataRef, isHoverOpen]);\n  index(() => {\n    if (!open) {\n      pointerTypeRef.current = undefined;\n      cleanupMouseMoveHandler();\n      clearPointerEvents();\n    }\n  }, [open, cleanupMouseMoveHandler, clearPointerEvents]);\n  React.useEffect(() => {\n    return () => {\n      cleanupMouseMoveHandler();\n      clearTimeout(timeoutRef.current);\n      clearTimeout(restTimeoutRef.current);\n      clearPointerEvents();\n    };\n  }, [enabled, cleanupMouseMoveHandler, clearPointerEvents]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    function setPointerRef(event) {\n      pointerTypeRef.current = event.pointerType;\n    }\n    return {\n      reference: {\n        onPointerDown: setPointerRef,\n        onPointerEnter: setPointerRef,\n        onMouseMove() {\n          if (open || restMs === 0) {\n            return;\n          }\n          clearTimeout(restTimeoutRef.current);\n          restTimeoutRef.current = setTimeout(() => {\n            if (!blockMouseMoveRef.current) {\n              onOpenChange(true);\n            }\n          }, restMs);\n        }\n      },\n      floating: {\n        onMouseEnter() {\n          clearTimeout(timeoutRef.current);\n        },\n        onMouseLeave() {\n          events.emit('dismiss', {\n            type: 'mouseLeave',\n            data: {\n              returnFocus: false\n            }\n          });\n          closeWithDelay(false);\n        }\n      }\n    };\n  }, [events, enabled, restMs, open, onOpenChange, closeWithDelay]);\n};\n\nconst FloatingDelayGroupContext = /*#__PURE__*/React.createContext({\n  delay: 0,\n  initialDelay: 0,\n  timeoutMs: 0,\n  currentId: null,\n  setCurrentId: () => {},\n  setState: () => {},\n  isInstantPhase: false\n});\nconst useDelayGroupContext = () => React.useContext(FloatingDelayGroupContext);\n\n/**\n * Provides context for a group of floating elements that should share a\n * `delay`.\n * @see https://floating-ui.com/docs/FloatingDelayGroup\n */\nconst FloatingDelayGroup = _ref => {\n  let {\n    children,\n    delay,\n    timeoutMs = 0\n  } = _ref;\n  const [state, setState] = React.useReducer((prev, next) => ({\n    ...prev,\n    ...next\n  }), {\n    delay,\n    timeoutMs,\n    initialDelay: delay,\n    currentId: null,\n    isInstantPhase: false\n  });\n  const initialCurrentIdRef = React.useRef(null);\n  const setCurrentId = React.useCallback(currentId => {\n    setState({\n      currentId\n    });\n  }, []);\n  index(() => {\n    if (state.currentId) {\n      if (initialCurrentIdRef.current === null) {\n        initialCurrentIdRef.current = state.currentId;\n      } else {\n        setState({\n          isInstantPhase: true\n        });\n      }\n    } else {\n      setState({\n        isInstantPhase: false\n      });\n      initialCurrentIdRef.current = null;\n    }\n  }, [state.currentId]);\n  return /*#__PURE__*/React.createElement(FloatingDelayGroupContext.Provider, {\n    value: React.useMemo(() => ({\n      ...state,\n      setState,\n      setCurrentId\n    }), [state, setState, setCurrentId])\n  }, children);\n};\nconst useDelayGroup = (_ref2, _ref3) => {\n  let {\n    open,\n    onOpenChange\n  } = _ref2;\n  let {\n    id\n  } = _ref3;\n  const {\n    currentId,\n    setCurrentId,\n    initialDelay,\n    setState,\n    timeoutMs\n  } = useDelayGroupContext();\n  index(() => {\n    if (currentId) {\n      setState({\n        delay: {\n          open: 1,\n          close: getDelay(initialDelay, 'close')\n        }\n      });\n      if (currentId !== id) {\n        onOpenChange(false);\n      }\n    }\n  }, [id, onOpenChange, setState, currentId, initialDelay]);\n  index(() => {\n    function unset() {\n      onOpenChange(false);\n      setState({\n        delay: initialDelay,\n        currentId: null\n      });\n    }\n    if (!open && currentId === id) {\n      if (timeoutMs) {\n        const timeout = window.setTimeout(unset, timeoutMs);\n        return () => {\n          clearTimeout(timeout);\n        };\n      } else {\n        unset();\n      }\n    }\n  }, [open, setState, currentId, id, onOpenChange, initialDelay, timeoutMs]);\n  index(() => {\n    if (open) {\n      setCurrentId(id);\n    }\n  }, [open, setCurrentId, id]);\n};\n\n/**\n * Find the real active element. Traverses into shadowRoots.\n */\nfunction activeElement(doc) {\n  let activeElement = doc.activeElement;\n  while (((_activeElement = activeElement) == null ? void 0 : (_activeElement$shadow = _activeElement.shadowRoot) == null ? void 0 : _activeElement$shadow.activeElement) != null) {\n    var _activeElement, _activeElement$shadow;\n    activeElement = activeElement.shadowRoot.activeElement;\n  }\n  return activeElement;\n}\n\nlet rafId = 0;\nfunction enqueueFocus(el, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    preventScroll = false,\n    cancelPrevious = true,\n    sync = false\n  } = options;\n  cancelPrevious && cancelAnimationFrame(rafId);\n  const exec = () => el == null ? void 0 : el.focus({\n    preventScroll\n  });\n  if (sync) {\n    exec();\n  } else {\n    rafId = requestAnimationFrame(exec);\n  }\n}\n\nfunction getAncestors(nodes, id) {\n  var _nodes$find;\n  let allAncestors = [];\n  let currentParentId = (_nodes$find = nodes.find(node => node.id === id)) == null ? void 0 : _nodes$find.parentId;\n  while (currentParentId) {\n    const currentNode = nodes.find(node => node.id === currentParentId);\n    currentParentId = currentNode == null ? void 0 : currentNode.parentId;\n    if (currentNode) {\n      allAncestors = allAncestors.concat(currentNode);\n    }\n  }\n  return allAncestors;\n}\n\nfunction getChildren(nodes, id) {\n  let allChildren = nodes.filter(node => {\n    var _node$context;\n    return node.parentId === id && ((_node$context = node.context) == null ? void 0 : _node$context.open);\n  });\n  let currentChildren = allChildren;\n  while (currentChildren.length) {\n    currentChildren = nodes.filter(node => {\n      var _currentChildren;\n      return (_currentChildren = currentChildren) == null ? void 0 : _currentChildren.some(n => {\n        var _node$context2;\n        return node.parentId === n.id && ((_node$context2 = node.context) == null ? void 0 : _node$context2.open);\n      });\n    });\n    allChildren = allChildren.concat(currentChildren);\n  }\n  return allChildren;\n}\n\nfunction getTarget(event) {\n  if ('composedPath' in event) {\n    return event.composedPath()[0];\n  }\n\n  // TS thinks `event` is of type never as it assumes all browsers support\n  // `composedPath()`, but browsers without shadow DOM don't.\n  return event.target;\n}\n\nconst TYPEABLE_SELECTOR = \"input:not([type='hidden']):not([disabled]),\" + \"[contenteditable]:not([contenteditable='false']),textarea:not([disabled])\";\nfunction isTypeableElement(element) {\n  return isHTMLElement(element) && element.matches(TYPEABLE_SELECTOR);\n}\n\nfunction stopEvent(event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\n\nconst getTabbableOptions = () => ({\n  getShadowRoot: true,\n  displayCheck:\n  // JSDOM does not support the `tabbable` library. To solve this we can\n  // check if `ResizeObserver` is a real function (not polyfilled), which\n  // determines if the current environment is JSDOM-like.\n  typeof ResizeObserver === 'function' && ResizeObserver.toString().includes('[native code]') ? 'full' : 'none'\n});\nfunction getTabbableIn(container, direction) {\n  const allTabbable = tabbable(container, getTabbableOptions());\n  if (direction === 'prev') {\n    allTabbable.reverse();\n  }\n  const activeIndex = allTabbable.indexOf(activeElement(getDocument(container)));\n  const nextTabbableElements = allTabbable.slice(activeIndex + 1);\n  return nextTabbableElements[0];\n}\nfunction getNextTabbable() {\n  return getTabbableIn(document.body, 'next');\n}\nfunction getPreviousTabbable() {\n  return getTabbableIn(document.body, 'prev');\n}\nfunction isOutsideEvent(event, container) {\n  const containerElement = container || event.currentTarget;\n  const relatedTarget = event.relatedTarget;\n  return !relatedTarget || !contains(containerElement, relatedTarget);\n}\nfunction disableFocusInside(container) {\n  const tabbableElements = tabbable(container, getTabbableOptions());\n  tabbableElements.forEach(element => {\n    element.dataset.tabindex = element.getAttribute('tabindex') || '';\n    element.setAttribute('tabindex', '-1');\n  });\n}\nfunction enableFocusInside(container) {\n  const elements = container.querySelectorAll('[data-tabindex]');\n  elements.forEach(element => {\n    const tabindex = element.dataset.tabindex;\n    delete element.dataset.tabindex;\n    if (tabindex) {\n      element.setAttribute('tabindex', tabindex);\n    } else {\n      element.removeAttribute('tabindex');\n    }\n  });\n}\n\n// See Diego Haz's Sandbox for making this logic work well on Safari/iOS:\n// https://codesandbox.io/s/tabbable-portal-f4tng?file=/src/FocusTrap.tsx\n\nconst HIDDEN_STYLES = {\n  border: 0,\n  clip: 'rect(0 0 0 0)',\n  height: '1px',\n  margin: '-1px',\n  overflow: 'hidden',\n  padding: 0,\n  position: 'fixed',\n  whiteSpace: 'nowrap',\n  width: '1px',\n  top: 0,\n  left: 0\n};\nlet timeoutId;\nfunction setActiveElementOnTab(event) {\n  if (event.key === 'Tab') {\n    event.target;\n    clearTimeout(timeoutId);\n  }\n}\nconst FocusGuard = /*#__PURE__*/React.forwardRef(function FocusGuard(props, ref) {\n  const [role, setRole] = React.useState();\n  index(() => {\n    if (isSafari()) {\n      // Unlike other screen readers such as NVDA and JAWS, the virtual cursor\n      // on VoiceOver does trigger the onFocus event, so we can use the focus\n      // trap element. On Safari, only buttons trigger the onFocus event.\n      // NB: \"group\" role in the Sandbox no longer appears to work, must be a\n      // button role.\n      setRole('button');\n    }\n    document.addEventListener('keydown', setActiveElementOnTab);\n    return () => {\n      document.removeEventListener('keydown', setActiveElementOnTab);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"span\", _extends({}, props, {\n    ref: ref,\n    tabIndex: 0\n    // Role is only for VoiceOver\n    ,\n    role: role,\n    \"aria-hidden\": role ? undefined : true,\n    \"data-floating-ui-focus-guard\": \"\",\n    style: HIDDEN_STYLES\n  }));\n});\n\nconst PortalContext = /*#__PURE__*/React.createContext(null);\nconst useFloatingPortalNode = function (_temp) {\n  let {\n    id,\n    root\n  } = _temp === void 0 ? {} : _temp;\n  const [portalNode, setPortalNode] = React.useState(null);\n  const uniqueId = useId();\n  const portalContext = usePortalContext();\n  const data = React.useMemo(() => ({\n    id,\n    root,\n    portalContext,\n    uniqueId\n  }), [id, root, portalContext, uniqueId]);\n  const dataRef = React.useRef();\n  index(() => {\n    return () => {\n      portalNode == null ? void 0 : portalNode.remove();\n    };\n  }, [portalNode, data]);\n  index(() => {\n    if (dataRef.current === data) return;\n    dataRef.current = data;\n    const {\n      id,\n      root,\n      portalContext,\n      uniqueId\n    } = data;\n    const existingIdRoot = id ? document.getElementById(id) : null;\n    const attr = 'data-floating-ui-portal';\n    if (existingIdRoot) {\n      const subRoot = document.createElement('div');\n      subRoot.id = uniqueId;\n      subRoot.setAttribute(attr, '');\n      existingIdRoot.appendChild(subRoot);\n      setPortalNode(subRoot);\n    } else {\n      let container = (portalContext == null ? void 0 : portalContext.portalNode) || root || document.body;\n      let idWrapper = null;\n      if (id) {\n        idWrapper = document.createElement('div');\n        idWrapper.id = id;\n        container.appendChild(idWrapper);\n      }\n      const subRoot = document.createElement('div');\n      subRoot.id = uniqueId;\n      subRoot.setAttribute(attr, '');\n      container = idWrapper || container;\n      container.appendChild(subRoot);\n      setPortalNode(subRoot);\n    }\n  }, [data]);\n  return portalNode;\n};\n\n/**\n * Portals the floating element into a given container element — by default,\n * outside of the app root and into the body.\n * @see https://floating-ui.com/docs/FloatingPortal\n */\nconst FloatingPortal = _ref => {\n  let {\n    children,\n    id,\n    root = null,\n    preserveTabOrder = true\n  } = _ref;\n  const portalNode = useFloatingPortalNode({\n    id,\n    root\n  });\n  const [focusManagerState, setFocusManagerState] = React.useState(null);\n  const beforeOutsideRef = React.useRef(null);\n  const afterOutsideRef = React.useRef(null);\n  const beforeInsideRef = React.useRef(null);\n  const afterInsideRef = React.useRef(null);\n  const shouldRenderGuards =\n  // The FocusManager and therefore floating element are currently open/\n  // rendered.\n  !!focusManagerState &&\n  // Guards are only for non-modal focus management.\n  !focusManagerState.modal &&\n  // Don't render if unmount is transitioning.\n  focusManagerState.open && preserveTabOrder && !!(root || portalNode);\n\n  // https://codesandbox.io/s/tabbable-portal-f4tng?file=/src/TabbablePortal.tsx\n  React.useEffect(() => {\n    if (!portalNode || !preserveTabOrder || focusManagerState != null && focusManagerState.modal) {\n      return;\n    }\n\n    // Make sure elements inside the portal element are tabbable only when the\n    // portal has already been focused, either by tabbing into a focus trap\n    // element outside or using the mouse.\n    function onFocus(event) {\n      if (portalNode && isOutsideEvent(event)) {\n        const focusing = event.type === 'focusin';\n        const manageFocus = focusing ? enableFocusInside : disableFocusInside;\n        manageFocus(portalNode);\n      }\n    }\n    // Listen to the event on the capture phase so they run before the focus\n    // trap elements onFocus prop is called.\n    portalNode.addEventListener('focusin', onFocus, true);\n    portalNode.addEventListener('focusout', onFocus, true);\n    return () => {\n      portalNode.removeEventListener('focusin', onFocus, true);\n      portalNode.removeEventListener('focusout', onFocus, true);\n    };\n  }, [portalNode, preserveTabOrder, focusManagerState == null ? void 0 : focusManagerState.modal]);\n  return /*#__PURE__*/React.createElement(PortalContext.Provider, {\n    value: React.useMemo(() => ({\n      preserveTabOrder,\n      beforeOutsideRef,\n      afterOutsideRef,\n      beforeInsideRef,\n      afterInsideRef,\n      portalNode,\n      setFocusManagerState\n    }), [preserveTabOrder, portalNode])\n  }, shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"outside\",\n    ref: beforeOutsideRef,\n    onFocus: event => {\n      if (isOutsideEvent(event, portalNode)) {\n        var _beforeInsideRef$curr;\n        (_beforeInsideRef$curr = beforeInsideRef.current) == null ? void 0 : _beforeInsideRef$curr.focus();\n      } else {\n        const prevTabbable = getPreviousTabbable() || (focusManagerState == null ? void 0 : focusManagerState.refs.domReference.current);\n        prevTabbable == null ? void 0 : prevTabbable.focus();\n      }\n    }\n  }), shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-owns\": portalNode.id,\n    style: HIDDEN_STYLES\n  }), portalNode && /*#__PURE__*/createPortal(children, portalNode), shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"outside\",\n    ref: afterOutsideRef,\n    onFocus: event => {\n      if (isOutsideEvent(event, portalNode)) {\n        var _afterInsideRef$curre;\n        (_afterInsideRef$curre = afterInsideRef.current) == null ? void 0 : _afterInsideRef$curre.focus();\n      } else {\n        const nextTabbable = getNextTabbable() || (focusManagerState == null ? void 0 : focusManagerState.refs.domReference.current);\n        nextTabbable == null ? void 0 : nextTabbable.focus();\n        (focusManagerState == null ? void 0 : focusManagerState.closeOnFocusOut) && (focusManagerState == null ? void 0 : focusManagerState.onOpenChange(false));\n      }\n    }\n  }));\n};\nconst usePortalContext = () => React.useContext(PortalContext);\n\nconst VisuallyHiddenDismiss = /*#__PURE__*/React.forwardRef(function VisuallyHiddenDismiss(props, ref) {\n  return /*#__PURE__*/React.createElement(\"button\", _extends({}, props, {\n    type: \"button\",\n    ref: ref,\n    tabIndex: -1,\n    style: HIDDEN_STYLES\n  }));\n});\n/**\n * Provides focus management for the floating element.\n * @see https://floating-ui.com/docs/FloatingFocusManager\n */\nfunction FloatingFocusManager(_ref) {\n  let {\n    context,\n    children,\n    order = ['content'],\n    guards = true,\n    initialFocus = 0,\n    returnFocus = true,\n    modal = true,\n    visuallyHiddenDismiss = false,\n    closeOnFocusOut = true\n  } = _ref;\n  const {\n    open,\n    refs,\n    nodeId,\n    onOpenChange,\n    events,\n    dataRef,\n    elements: {\n      domReference,\n      floating\n    }\n  } = context;\n  const orderRef = useLatestRef(order);\n  const initialFocusRef = useLatestRef(initialFocus);\n  const returnFocusRef = useLatestRef(returnFocus);\n  const tree = useFloatingTree();\n  const portalContext = usePortalContext();\n  const [tabbableContentLength, setTabbableContentLength] = React.useState(null);\n\n  // Controlled by `useListNavigation`.\n  const ignoreInitialFocus = typeof initialFocus === 'number' && initialFocus < 0;\n  const startDismissButtonRef = React.useRef(null);\n  const endDismissButtonRef = React.useRef(null);\n  const preventReturnFocusRef = React.useRef(false);\n  const previouslyFocusedElementRef = React.useRef(null);\n  const isPointerDownRef = React.useRef(false);\n  const isInsidePortal = portalContext != null;\n\n  // If the reference is a combobox and is typeable (e.g. input/textarea),\n  // there are different focus semantics. The guards should not be rendered, but\n  // aria-hidden should be applied to all nodes still. Further, the visually\n  // hidden dismiss button should only appear at the end of the list, not the\n  // start.\n  const isTypeableCombobox = domReference && domReference.getAttribute('role') === 'combobox' && isTypeableElement(domReference);\n  const getTabbableContent = React.useCallback(function (container) {\n    if (container === void 0) {\n      container = floating;\n    }\n    return container ? tabbable(container, getTabbableOptions()) : [];\n  }, [floating]);\n  const getTabbableElements = React.useCallback(container => {\n    const content = getTabbableContent(container);\n    return orderRef.current.map(type => {\n      if (domReference && type === 'reference') {\n        return domReference;\n      }\n      if (floating && type === 'floating') {\n        return floating;\n      }\n      return content;\n    }).filter(Boolean).flat();\n  }, [domReference, floating, orderRef, getTabbableContent]);\n  React.useEffect(() => {\n    if (!modal) {\n      return;\n    }\n    function onKeyDown(event) {\n      if (event.key === 'Tab') {\n        // The focus guards have nothing to focus, so we need to stop the event.\n        if (getTabbableContent().length === 0 && !isTypeableCombobox) {\n          stopEvent(event);\n        }\n        const els = getTabbableElements();\n        const target = getTarget(event);\n        if (orderRef.current[0] === 'reference' && target === domReference) {\n          stopEvent(event);\n          if (event.shiftKey) {\n            enqueueFocus(els[els.length - 1]);\n          } else {\n            enqueueFocus(els[1]);\n          }\n        }\n        if (orderRef.current[1] === 'floating' && target === floating && event.shiftKey) {\n          stopEvent(event);\n          enqueueFocus(els[0]);\n        }\n      }\n    }\n    const doc = getDocument(floating);\n    doc.addEventListener('keydown', onKeyDown);\n    return () => {\n      doc.removeEventListener('keydown', onKeyDown);\n    };\n  }, [domReference, floating, modal, orderRef, refs, isTypeableCombobox, getTabbableContent, getTabbableElements]);\n  React.useEffect(() => {\n    if (!closeOnFocusOut) {\n      return;\n    }\n\n    // In Safari, buttons lose focus when pressing them.\n    function handlePointerDown() {\n      isPointerDownRef.current = true;\n      setTimeout(() => {\n        isPointerDownRef.current = false;\n      });\n    }\n    function handleFocusOutside(event) {\n      const relatedTarget = event.relatedTarget;\n      queueMicrotask(() => {\n        const movedToUnrelatedNode = !(contains(domReference, relatedTarget) || contains(floating, relatedTarget) || contains(relatedTarget, floating) || contains(portalContext == null ? void 0 : portalContext.portalNode, relatedTarget) || relatedTarget != null && relatedTarget.hasAttribute('data-floating-ui-focus-guard') || tree && (getChildren(tree.nodesRef.current, nodeId).find(node => {\n          var _node$context, _node$context2;\n          return contains((_node$context = node.context) == null ? void 0 : _node$context.elements.floating, relatedTarget) || contains((_node$context2 = node.context) == null ? void 0 : _node$context2.elements.domReference, relatedTarget);\n        }) || getAncestors(tree.nodesRef.current, nodeId).find(node => {\n          var _node$context3, _node$context4;\n          return ((_node$context3 = node.context) == null ? void 0 : _node$context3.elements.floating) === relatedTarget || ((_node$context4 = node.context) == null ? void 0 : _node$context4.elements.domReference) === relatedTarget;\n        })));\n\n        // Focus did not move inside the floating tree, and there are no tabbable\n        // portal guards to handle closing.\n        if (relatedTarget && movedToUnrelatedNode && !isPointerDownRef.current &&\n        // Fix React 18 Strict Mode returnFocus due to double rendering.\n        relatedTarget !== previouslyFocusedElementRef.current) {\n          preventReturnFocusRef.current = true;\n          onOpenChange(false);\n        }\n      });\n    }\n    if (floating && isHTMLElement(domReference)) {\n      domReference.addEventListener('focusout', handleFocusOutside);\n      domReference.addEventListener('pointerdown', handlePointerDown);\n      !modal && floating.addEventListener('focusout', handleFocusOutside);\n      return () => {\n        domReference.removeEventListener('focusout', handleFocusOutside);\n        domReference.removeEventListener('pointerdown', handlePointerDown);\n        !modal && floating.removeEventListener('focusout', handleFocusOutside);\n      };\n    }\n  }, [domReference, floating, modal, nodeId, tree, portalContext, onOpenChange, closeOnFocusOut]);\n  React.useEffect(() => {\n    var _portalContext$portal;\n    // Don't hide portals nested within the parent portal.\n    const portalNodes = Array.from((portalContext == null ? void 0 : (_portalContext$portal = portalContext.portalNode) == null ? void 0 : _portalContext$portal.querySelectorAll('[data-floating-ui-portal]')) || []);\n    function getDismissButtons() {\n      return [startDismissButtonRef.current, endDismissButtonRef.current].filter(Boolean);\n    }\n    if (floating && modal) {\n      const insideNodes = [floating, ...portalNodes, ...getDismissButtons()];\n      const cleanup = hideOthers(orderRef.current.includes('reference') || isTypeableCombobox ? insideNodes.concat(domReference || []) : insideNodes);\n      return () => {\n        cleanup();\n      };\n    }\n  }, [domReference, floating, modal, orderRef, portalContext, isTypeableCombobox]);\n  React.useEffect(() => {\n    if (modal && !guards && floating) {\n      const tabIndexValues = [];\n      const options = getTabbableOptions();\n      const allTabbable = tabbable(getDocument(floating).body, options);\n      const floatingTabbable = getTabbableElements();\n\n      // Exclude all tabbable elements that are part of the order\n      const elements = allTabbable.filter(el => !floatingTabbable.includes(el));\n      elements.forEach((el, i) => {\n        tabIndexValues[i] = el.getAttribute('tabindex');\n        el.setAttribute('tabindex', '-1');\n      });\n      return () => {\n        elements.forEach((el, i) => {\n          const value = tabIndexValues[i];\n          if (value == null) {\n            el.removeAttribute('tabindex');\n          } else {\n            el.setAttribute('tabindex', value);\n          }\n        });\n      };\n    }\n  }, [floating, modal, guards, getTabbableElements]);\n  index(() => {\n    if (!floating) return;\n    const doc = getDocument(floating);\n    const previouslyFocusedElement = activeElement(doc);\n\n    // Wait for any layout effect state setters to execute to set `tabIndex`.\n    queueMicrotask(() => {\n      const focusableElements = getTabbableElements(floating);\n      const initialFocusValue = initialFocusRef.current;\n      const elToFocus = (typeof initialFocusValue === 'number' ? focusableElements[initialFocusValue] : initialFocusValue.current) || floating;\n      const focusAlreadyInsideFloatingEl = contains(floating, previouslyFocusedElement);\n      if (!ignoreInitialFocus && !focusAlreadyInsideFloatingEl && open) {\n        enqueueFocus(elToFocus, {\n          preventScroll: elToFocus === floating\n        });\n      }\n    });\n  }, [open, floating, ignoreInitialFocus, getTabbableElements, initialFocusRef]);\n  index(() => {\n    if (!floating) return;\n    let preventReturnFocusScroll = false;\n    const doc = getDocument(floating);\n    const previouslyFocusedElement = activeElement(doc);\n    const contextData = dataRef.current;\n    previouslyFocusedElementRef.current = previouslyFocusedElement;\n\n    // Dismissing via outside press should always ignore `returnFocus` to\n    // prevent unwanted scrolling.\n    function onDismiss(payload) {\n      if (payload.type === 'escapeKey' && refs.domReference.current) {\n        previouslyFocusedElementRef.current = refs.domReference.current;\n      }\n      if (['referencePress', 'escapeKey'].includes(payload.type)) {\n        return;\n      }\n      const returnFocus = payload.data.returnFocus;\n      if (typeof returnFocus === 'object') {\n        preventReturnFocusRef.current = false;\n        preventReturnFocusScroll = returnFocus.preventScroll;\n      } else {\n        preventReturnFocusRef.current = !returnFocus;\n      }\n    }\n    events.on('dismiss', onDismiss);\n    return () => {\n      events.off('dismiss', onDismiss);\n      const activeEl = activeElement(doc);\n      const shouldFocusReference = contains(floating, activeEl) || tree && getChildren(tree.nodesRef.current, nodeId).some(node => {\n        var _node$context5;\n        return contains((_node$context5 = node.context) == null ? void 0 : _node$context5.elements.floating, activeEl);\n      }) || contextData.openEvent && ['click', 'mousedown'].includes(contextData.openEvent.type);\n      if (shouldFocusReference && refs.domReference.current) {\n        previouslyFocusedElementRef.current = refs.domReference.current;\n      }\n      if (\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      returnFocusRef.current && isHTMLElement(previouslyFocusedElementRef.current) && !preventReturnFocusRef.current) {\n        // `isPointerDownRef.current` to avoid the focus ring from appearing on\n        // the reference element when click-toggling it.\n        enqueueFocus(previouslyFocusedElementRef.current, {\n          // When dismissing nested floating elements, by the time the rAF has\n          // executed, the menus will all have been unmounted. When they try\n          // to get focused, the calls get ignored — leaving the root\n          // reference focused as desired.\n          cancelPrevious: false,\n          preventScroll: preventReturnFocusScroll\n        });\n      }\n    };\n  }, [floating, returnFocusRef, dataRef, refs, events, tree, nodeId]);\n\n  // Synchronize the `context` & `modal` value to the FloatingPortal context.\n  // It will decide whether or not it needs to render its own guards.\n  index(() => {\n    if (!portalContext) return;\n    portalContext.setFocusManagerState({\n      ...context,\n      modal,\n      closeOnFocusOut,\n      open\n    });\n    return () => {\n      portalContext.setFocusManagerState(null);\n    };\n  }, [portalContext, modal, open, closeOnFocusOut, context]);\n  index(() => {\n    if (ignoreInitialFocus || !floating) return;\n    function setState() {\n      if (activeElement(getDocument(floating)) !== refs.domReference.current) {\n        setTabbableContentLength(getTabbableContent().length);\n      }\n    }\n    setState();\n    if (typeof MutationObserver === 'function') {\n      const observer = new MutationObserver(setState);\n      observer.observe(floating, {\n        childList: true,\n        subtree: true\n      });\n      return () => {\n        observer.disconnect();\n      };\n    }\n  }, [floating, getTabbableContent, ignoreInitialFocus, refs]);\n  const shouldRenderGuards = guards && !isTypeableCombobox && (isInsidePortal || modal);\n  function renderDismissButton(location) {\n    return visuallyHiddenDismiss && modal ? /*#__PURE__*/React.createElement(VisuallyHiddenDismiss, {\n      ref: location === 'start' ? startDismissButtonRef : endDismissButtonRef,\n      onClick: () => onOpenChange(false)\n    }, typeof visuallyHiddenDismiss === 'string' ? visuallyHiddenDismiss : 'Dismiss') : null;\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, shouldRenderGuards && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"inside\",\n    ref: portalContext == null ? void 0 : portalContext.beforeInsideRef,\n    onFocus: event => {\n      if (modal) {\n        const els = getTabbableElements();\n        enqueueFocus(order[0] === 'reference' ? els[0] : els[els.length - 1]);\n      } else if (portalContext != null && portalContext.preserveTabOrder && portalContext.portalNode) {\n        preventReturnFocusRef.current = false;\n        if (isOutsideEvent(event, portalContext.portalNode)) {\n          const nextTabbable = getNextTabbable() || domReference;\n          nextTabbable == null ? void 0 : nextTabbable.focus();\n        } else {\n          var _portalContext$before;\n          (_portalContext$before = portalContext.beforeOutsideRef.current) == null ? void 0 : _portalContext$before.focus();\n        }\n      }\n    }\n  }), isTypeableCombobox ? null : renderDismissButton('start'), /*#__PURE__*/React.cloneElement(children, tabbableContentLength === 0 || order.includes('floating') ? {\n    tabIndex: 0\n  } : {}), renderDismissButton('end'), shouldRenderGuards && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"inside\",\n    ref: portalContext == null ? void 0 : portalContext.afterInsideRef,\n    onFocus: event => {\n      if (modal) {\n        enqueueFocus(getTabbableElements()[0]);\n      } else if (portalContext != null && portalContext.preserveTabOrder && portalContext.portalNode) {\n        if (closeOnFocusOut) {\n          preventReturnFocusRef.current = true;\n        }\n        if (isOutsideEvent(event, portalContext.portalNode)) {\n          const prevTabbable = getPreviousTabbable() || domReference;\n          prevTabbable == null ? void 0 : prevTabbable.focus();\n        } else {\n          var _portalContext$afterO;\n          (_portalContext$afterO = portalContext.afterOutsideRef.current) == null ? void 0 : _portalContext$afterO.focus();\n        }\n      }\n    }\n  }));\n}\n\nfunction sortByDocumentPosition(a, b) {\n  const position = a.compareDocumentPosition(b);\n  if (position & Node.DOCUMENT_POSITION_FOLLOWING || position & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n    return -1;\n  }\n  if (position & Node.DOCUMENT_POSITION_PRECEDING || position & Node.DOCUMENT_POSITION_CONTAINS) {\n    return 1;\n  }\n  return 0;\n}\nfunction areMapsEqual(map1, map2) {\n  if (map1.size !== map2.size) {\n    return false;\n  }\n  for (const [key, value] of map1.entries()) {\n    if (value !== map2.get(key)) {\n      return false;\n    }\n  }\n  return true;\n}\nconst FloatingListContext = /*#__PURE__*/React.createContext({\n  register: () => {},\n  unregister: () => {},\n  map: /*#__PURE__*/new Map(),\n  elementsRef: {\n    current: []\n  }\n});\nfunction FloatingList(_ref) {\n  let {\n    children,\n    elementsRef,\n    labelsRef\n  } = _ref;\n  const [map, setMap] = React.useState(() => new Map());\n  const register = React.useCallback(node => {\n    setMap(prevMap => new Map(prevMap).set(node, null));\n  }, []);\n  const unregister = React.useCallback(node => {\n    setMap(prevMap => {\n      const map = new Map(prevMap);\n      map.delete(node);\n      return map;\n    });\n  }, []);\n  index(() => {\n    const newMap = new Map(map);\n    const nodes = Array.from(newMap.keys()).sort(sortByDocumentPosition);\n    nodes.forEach((node, index) => {\n      newMap.set(node, index);\n    });\n    if (!areMapsEqual(map, newMap)) {\n      setMap(newMap);\n    }\n  }, [map]);\n  return /*#__PURE__*/React.createElement(FloatingListContext.Provider, {\n    value: {\n      register,\n      unregister,\n      map,\n      elementsRef,\n      labelsRef\n    }\n  }, children);\n}\nfunction useListItem(_temp) {\n  let {\n    label\n  } = _temp === void 0 ? {} : _temp;\n  const [index$1, setIndex] = React.useState(null);\n  const componentRef = React.useRef(null);\n  const {\n    register,\n    unregister,\n    map,\n    elementsRef,\n    labelsRef\n  } = React.useContext(FloatingListContext);\n  const ref = React.useCallback(node => {\n    componentRef.current = node;\n    if (index$1 !== null) {\n      elementsRef.current[index$1] = node;\n      if (labelsRef) {\n        var _node$textContent;\n        const isLabelDefined = label !== undefined;\n        labelsRef.current[index$1] = isLabelDefined ? label : (_node$textContent = node == null ? void 0 : node.textContent) != null ? _node$textContent : null;\n      }\n    }\n  }, [index$1, elementsRef, labelsRef, label]);\n  index(() => {\n    const node = componentRef.current;\n    if (!node) return;\n    register(node);\n    return () => {\n      unregister(node);\n    };\n  }, [register, unregister]);\n  index(() => {\n    const index = componentRef.current ? map.get(componentRef.current) : null;\n    if (index != null) {\n      setIndex(index);\n    }\n  }, [map]);\n  return React.useMemo(() => ({\n    ref,\n    index: index$1 == null ? -1 : index$1\n  }), [index$1, ref]);\n}\n\nconst identifier = 'data-floating-ui-scroll-lock';\n\n/**\n * Provides base styling for a fixed overlay element to dim content or block\n * pointer events behind a floating element.\n * It's a regular `<div>`, so it can be styled via any CSS solution you prefer.\n * @see https://floating-ui.com/docs/FloatingOverlay\n */\nconst FloatingOverlay = /*#__PURE__*/React.forwardRef(function FloatingOverlay(_ref, ref) {\n  let {\n    lockScroll = false,\n    ...rest\n  } = _ref;\n  index(() => {\n    var _window$visualViewpor, _window$visualViewpor2;\n    if (!lockScroll) {\n      return;\n    }\n    const alreadyLocked = document.body.hasAttribute(identifier);\n    if (alreadyLocked) {\n      return;\n    }\n    document.body.setAttribute(identifier, '');\n\n    // RTL <body> scrollbar\n    const scrollbarX = Math.round(document.documentElement.getBoundingClientRect().left) + document.documentElement.scrollLeft;\n    const paddingProp = scrollbarX ? 'paddingLeft' : 'paddingRight';\n    const scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\n\n    // Only iOS doesn't respect `overflow: hidden` on document.body, and this\n    // technique has fewer side effects.\n    if (!/iP(hone|ad|od)|iOS/.test(getPlatform())) {\n      Object.assign(document.body.style, {\n        overflow: 'hidden',\n        [paddingProp]: scrollbarWidth + \"px\"\n      });\n      return () => {\n        document.body.removeAttribute(identifier);\n        Object.assign(document.body.style, {\n          overflow: '',\n          [paddingProp]: ''\n        });\n      };\n    }\n\n    // iOS 12 does not support `visualViewport`.\n    const offsetLeft = ((_window$visualViewpor = window.visualViewport) == null ? void 0 : _window$visualViewpor.offsetLeft) || 0;\n    const offsetTop = ((_window$visualViewpor2 = window.visualViewport) == null ? void 0 : _window$visualViewpor2.offsetTop) || 0;\n    const scrollX = window.pageXOffset;\n    const scrollY = window.pageYOffset;\n    Object.assign(document.body.style, {\n      position: 'fixed',\n      overflow: 'hidden',\n      top: -(scrollY - Math.floor(offsetTop)) + \"px\",\n      left: -(scrollX - Math.floor(offsetLeft)) + \"px\",\n      right: '0',\n      [paddingProp]: scrollbarWidth + \"px\"\n    });\n    return () => {\n      Object.assign(document.body.style, {\n        position: '',\n        overflow: '',\n        top: '',\n        left: '',\n        right: '',\n        [paddingProp]: ''\n      });\n      document.body.removeAttribute(identifier);\n      window.scrollTo(scrollX, scrollY);\n    };\n  }, [lockScroll]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref\n  }, rest, {\n    style: {\n      position: 'fixed',\n      overflow: 'auto',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      ...rest.style\n    }\n  }));\n});\n\nfunction isButtonTarget(event) {\n  return isHTMLElement(event.target) && event.target.tagName === 'BUTTON';\n}\nfunction isSpaceIgnored(element) {\n  return isTypeableElement(element);\n}\n/**\n * Opens or closes the floating element when clicking the reference element.\n * @see https://floating-ui.com/docs/useClick\n */\nconst useClick = function (context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    dataRef,\n    elements: {\n      domReference\n    }\n  } = context;\n  const {\n    enabled = true,\n    event: eventOption = 'click',\n    toggle = true,\n    ignoreMouse = false,\n    keyboardHandlers = true\n  } = props;\n  const pointerTypeRef = React.useRef();\n  const didKeyDownRef = React.useRef(false);\n  return React.useMemo(() => {\n    if (!enabled) return {};\n    return {\n      reference: {\n        onPointerDown(event) {\n          pointerTypeRef.current = event.pointerType;\n        },\n        onMouseDown(event) {\n          // Ignore all buttons except for the \"main\" button.\n          // https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n          if (event.button !== 0) {\n            return;\n          }\n          if (isMouseLikePointerType(pointerTypeRef.current, true) && ignoreMouse) {\n            return;\n          }\n          if (eventOption === 'click') {\n            return;\n          }\n          if (open) {\n            if (toggle && (dataRef.current.openEvent ? dataRef.current.openEvent.type === 'mousedown' : true)) {\n              onOpenChange(false);\n            }\n          } else {\n            // Prevent stealing focus from the floating element\n            event.preventDefault();\n            onOpenChange(true);\n          }\n          dataRef.current.openEvent = event.nativeEvent;\n        },\n        onClick(event) {\n          if (eventOption === 'mousedown' && pointerTypeRef.current) {\n            pointerTypeRef.current = undefined;\n            return;\n          }\n          if (isMouseLikePointerType(pointerTypeRef.current, true) && ignoreMouse) {\n            return;\n          }\n          if (open) {\n            if (toggle && (dataRef.current.openEvent ? dataRef.current.openEvent.type === 'click' : true)) {\n              onOpenChange(false);\n            }\n          } else {\n            onOpenChange(true);\n          }\n          dataRef.current.openEvent = event.nativeEvent;\n        },\n        onKeyDown(event) {\n          pointerTypeRef.current = undefined;\n          if (!keyboardHandlers || isButtonTarget(event)) {\n            return;\n          }\n          if (event.key === ' ' && !isSpaceIgnored(domReference)) {\n            // Prevent scrolling\n            event.preventDefault();\n            didKeyDownRef.current = true;\n          }\n          if (event.key === 'Enter') {\n            if (open) {\n              if (toggle) {\n                onOpenChange(false);\n              }\n            } else {\n              onOpenChange(true);\n            }\n          }\n        },\n        onKeyUp(event) {\n          if (!keyboardHandlers || isButtonTarget(event) || isSpaceIgnored(domReference)) {\n            return;\n          }\n          if (event.key === ' ' && didKeyDownRef.current) {\n            didKeyDownRef.current = false;\n            if (open) {\n              if (toggle) {\n                onOpenChange(false);\n              }\n            } else {\n              onOpenChange(true);\n            }\n          }\n        }\n      }\n    };\n  }, [enabled, dataRef, eventOption, ignoreMouse, keyboardHandlers, domReference, toggle, open, onOpenChange]);\n};\n\n// `toString()` prevents bundlers from trying to `import { useInsertionEffect } from 'react'`\nconst useInsertionEffect = React[/*#__PURE__*/'useInsertionEffect'.toString()];\nconst useSafeInsertionEffect = useInsertionEffect || (fn => fn());\nfunction useEvent(callback) {\n  const ref = React.useRef(() => {\n    if (process.env.NODE_ENV !== \"production\") {\n      throw new Error('Cannot call an event handler while rendering.');\n    }\n  });\n  useSafeInsertionEffect(() => {\n    ref.current = callback;\n  });\n  return React.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return ref.current == null ? void 0 : ref.current(...args);\n  }, []);\n}\n\nfunction createVirtualElement(domRef, data) {\n  let offsetX = null;\n  let offsetY = null;\n  let isAutoUpdateEvent = false;\n  return {\n    contextElement: domRef.current || undefined,\n    getBoundingClientRect() {\n      var _domRef$current, _data$dataRef$current;\n      const domRect = ((_domRef$current = domRef.current) == null ? void 0 : _domRef$current.getBoundingClientRect()) || {\n        width: 0,\n        height: 0,\n        x: 0,\n        y: 0\n      };\n      const isXAxis = data.axis === 'x' || data.axis === 'both';\n      const isYAxis = data.axis === 'y' || data.axis === 'both';\n      const canTrackCursorOnAutoUpdate = ['mouseenter', 'mousemove'].includes(((_data$dataRef$current = data.dataRef.current.openEvent) == null ? void 0 : _data$dataRef$current.type) || '') && data.pointerType !== 'touch';\n      let width = domRect.width;\n      let height = domRect.height;\n      let x = domRect.x;\n      let y = domRect.y;\n      if (offsetX == null && data.x && isXAxis) {\n        offsetX = domRect.x - data.x;\n      }\n      if (offsetY == null && data.y && isYAxis) {\n        offsetY = domRect.y - data.y;\n      }\n      x -= offsetX || 0;\n      y -= offsetY || 0;\n      width = 0;\n      height = 0;\n      if (!isAutoUpdateEvent || canTrackCursorOnAutoUpdate) {\n        width = data.axis === 'y' ? domRect.width : 0;\n        height = data.axis === 'x' ? domRect.height : 0;\n        x = isXAxis && data.x != null ? data.x : x;\n        y = isYAxis && data.y != null ? data.y : y;\n      } else if (isAutoUpdateEvent && !canTrackCursorOnAutoUpdate) {\n        height = data.axis === 'x' ? domRect.height : height;\n        width = data.axis === 'y' ? domRect.width : width;\n      }\n      isAutoUpdateEvent = true;\n      return {\n        width,\n        height,\n        x,\n        y,\n        top: y,\n        right: x + width,\n        bottom: y + height,\n        left: x\n      };\n    }\n  };\n}\nfunction isMouseBasedEvent(event) {\n  return event != null && event.clientX != null;\n}\n/**\n * Positions the floating element relative to a client point (in the viewport),\n * such as the mouse position. By default, it follows the mouse cursor.\n * @see https://floating-ui.com/docs/useClientPoint\n */\nconst useClientPoint = function (_ref, _temp) {\n  let {\n    open,\n    refs,\n    dataRef,\n    elements: {\n      floating\n    }\n  } = _ref;\n  let {\n    enabled = true,\n    axis = 'both',\n    x = null,\n    y = null\n  } = _temp === void 0 ? {} : _temp;\n  const initialRef = React.useRef(false);\n  const cleanupListenerRef = React.useRef(null);\n  const [pointerType, setPointerType] = React.useState();\n  const [reactive, setReactive] = React.useState([]);\n  const setReference = useEvent((x, y) => {\n    if (initialRef.current) return;\n\n    // Prevent setting if the open event was not a mouse-like one\n    // (e.g. focus to open, then hover over the reference element).\n    // Only apply if the event exists.\n    if (dataRef.current.openEvent && !isMouseBasedEvent(dataRef.current.openEvent)) {\n      return;\n    }\n    refs.setPositionReference(createVirtualElement(refs.domReference, {\n      x,\n      y,\n      axis,\n      dataRef,\n      pointerType\n    }));\n  });\n  const handleReferenceEnterOrMove = useEvent(event => {\n    if (x != null || y != null) return;\n    if (!open) {\n      setReference(event.clientX, event.clientY);\n    } else if (!cleanupListenerRef.current) {\n      // If there's no cleanup, there's no listener, but we want to ensure\n      // we add the listener if the cursor landed on the floating element and\n      // then back on the reference (i.e. it's interactive).\n      setReactive([]);\n    }\n  });\n\n  // If the pointer is a mouse-like pointer, we want to continue following the\n  // mouse even if the floating element is transitioning out. On touch\n  // devices, this is undesirable because the floating element will move to\n  // the dismissal touch point.\n  const openCheck = isMouseLikePointerType(pointerType) ? floating : open;\n  const addListener = React.useCallback(() => {\n    // Explicitly specified `x`/`y` coordinates shouldn't add a listener.\n    if (!openCheck || !enabled || x != null || y != null) return;\n    const win = getWindow(refs.floating.current);\n    function handleMouseMove(event) {\n      const target = getTarget(event);\n      if (!contains(refs.floating.current, target)) {\n        setReference(event.clientX, event.clientY);\n      } else {\n        win.removeEventListener('mousemove', handleMouseMove);\n        cleanupListenerRef.current = null;\n      }\n    }\n    if (!dataRef.current.openEvent || isMouseBasedEvent(dataRef.current.openEvent)) {\n      win.addEventListener('mousemove', handleMouseMove);\n      const cleanup = () => {\n        win.removeEventListener('mousemove', handleMouseMove);\n        cleanupListenerRef.current = null;\n      };\n      cleanupListenerRef.current = cleanup;\n      return cleanup;\n    }\n    refs.setPositionReference(refs.domReference.current);\n  }, [dataRef, enabled, openCheck, refs, setReference, x, y]);\n  React.useEffect(() => {\n    return addListener();\n  }, [addListener, reactive]);\n  React.useEffect(() => {\n    if (enabled && !floating) {\n      initialRef.current = false;\n    }\n  }, [enabled, floating]);\n  React.useEffect(() => {\n    if (!enabled && open) {\n      initialRef.current = true;\n    }\n  }, [enabled, open]);\n  index(() => {\n    if (enabled && (x != null || y != null)) {\n      initialRef.current = false;\n      setReference(x, y);\n    }\n  }, [enabled, x, y, setReference]);\n  return React.useMemo(() => {\n    if (!enabled) return {};\n    function setPointerTypeRef(_ref2) {\n      let {\n        pointerType\n      } = _ref2;\n      setPointerType(pointerType);\n    }\n    return {\n      reference: {\n        onPointerDown: setPointerTypeRef,\n        onPointerEnter: setPointerTypeRef,\n        onMouseMove: handleReferenceEnterOrMove,\n        onMouseEnter: handleReferenceEnterOrMove\n      }\n    };\n  }, [enabled, handleReferenceEnterOrMove]);\n};\n\n/**\n * Check whether the event.target is within the provided node. Uses event.composedPath if available for custom element support.\n *\n * @param event The event whose target/composedPath to check\n * @param node The node to check against\n * @returns Whether the event.target/composedPath is within the node.\n */\nfunction isEventTargetWithin(event, node) {\n  if (node == null) {\n    return false;\n  }\n  if ('composedPath' in event) {\n    return event.composedPath().includes(node);\n  }\n\n  // TS thinks `event` is of type never as it assumes all browsers support composedPath, but browsers without shadow dom don't\n  const e = event;\n  return e.target != null && node.contains(e.target);\n}\n\nconst bubbleHandlerKeys = {\n  pointerdown: 'onPointerDown',\n  mousedown: 'onMouseDown',\n  click: 'onClick'\n};\nconst captureHandlerKeys = {\n  pointerdown: 'onPointerDownCapture',\n  mousedown: 'onMouseDownCapture',\n  click: 'onClickCapture'\n};\nconst normalizeBubblesProp = bubbles => {\n  var _bubbles$escapeKey, _bubbles$outsidePress;\n  return {\n    escapeKeyBubbles: typeof bubbles === 'boolean' ? bubbles : (_bubbles$escapeKey = bubbles == null ? void 0 : bubbles.escapeKey) != null ? _bubbles$escapeKey : false,\n    outsidePressBubbles: typeof bubbles === 'boolean' ? bubbles : (_bubbles$outsidePress = bubbles == null ? void 0 : bubbles.outsidePress) != null ? _bubbles$outsidePress : true\n  };\n};\n/**\n * Closes the floating element when a dismissal is requested — by default, when\n * the user presses the `escape` key or outside of the floating element.\n * @see https://floating-ui.com/docs/useDismiss\n */\nconst useDismiss = function (context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    events,\n    nodeId,\n    elements: {\n      reference,\n      domReference,\n      floating\n    },\n    dataRef\n  } = context;\n  const {\n    enabled = true,\n    escapeKey = true,\n    outsidePress: unstable_outsidePress = true,\n    outsidePressEvent = 'pointerdown',\n    referencePress = false,\n    referencePressEvent = 'pointerdown',\n    ancestorScroll = false,\n    bubbles\n  } = props;\n  const tree = useFloatingTree();\n  const nested = useFloatingParentNodeId() != null;\n  const outsidePressFn = useEvent(typeof unstable_outsidePress === 'function' ? unstable_outsidePress : () => false);\n  const outsidePress = typeof unstable_outsidePress === 'function' ? outsidePressFn : unstable_outsidePress;\n  const insideReactTreeRef = React.useRef(false);\n  const {\n    escapeKeyBubbles,\n    outsidePressBubbles\n  } = normalizeBubblesProp(bubbles);\n  const closeOnEscapeKeyDown = useEvent(event => {\n    if (!open || !enabled || !escapeKey || event.key !== 'Escape') {\n      return;\n    }\n    const children = tree ? getChildren(tree.nodesRef.current, nodeId) : [];\n    if (!escapeKeyBubbles) {\n      event.stopPropagation();\n      if (children.length > 0) {\n        let shouldDismiss = true;\n        children.forEach(child => {\n          var _child$context;\n          if ((_child$context = child.context) != null && _child$context.open && !child.context.dataRef.current.__escapeKeyBubbles) {\n            shouldDismiss = false;\n            return;\n          }\n        });\n        if (!shouldDismiss) {\n          return;\n        }\n      }\n    }\n    events.emit('dismiss', {\n      type: 'escapeKey',\n      data: {\n        returnFocus: {\n          preventScroll: false\n        }\n      }\n    });\n    onOpenChange(false);\n  });\n  const closeOnPressOutside = useEvent(event => {\n    // Given developers can stop the propagation of the synthetic event,\n    // we can only be confident with a positive value.\n    const insideReactTree = insideReactTreeRef.current;\n    insideReactTreeRef.current = false;\n    if (insideReactTree) {\n      return;\n    }\n    if (typeof outsidePress === 'function' && !outsidePress(event)) {\n      return;\n    }\n    const target = getTarget(event);\n\n    // Check if the click occurred on the scrollbar\n    if (isHTMLElement(target) && floating) {\n      // In Firefox, `target.scrollWidth > target.clientWidth` for inline\n      // elements.\n      const canScrollX = target.clientWidth > 0 && target.scrollWidth > target.clientWidth;\n      const canScrollY = target.clientHeight > 0 && target.scrollHeight > target.clientHeight;\n      let xCond = canScrollY && event.offsetX > target.clientWidth;\n\n      // In some browsers it is possible to change the <body> (or window)\n      // scrollbar to the left side, but is very rare and is difficult to\n      // check for. Plus, for modal dialogs with backdrops, it is more\n      // important that the backdrop is checked but not so much the window.\n      if (canScrollY) {\n        const isRTL = getWindow(floating).getComputedStyle(target).direction === 'rtl';\n        if (isRTL) {\n          xCond = event.offsetX <= target.offsetWidth - target.clientWidth;\n        }\n      }\n      if (xCond || canScrollX && event.offsetY > target.clientHeight) {\n        return;\n      }\n    }\n    const targetIsInsideChildren = tree && getChildren(tree.nodesRef.current, nodeId).some(node => {\n      var _node$context;\n      return isEventTargetWithin(event, (_node$context = node.context) == null ? void 0 : _node$context.elements.floating);\n    });\n    if (isEventTargetWithin(event, floating) || isEventTargetWithin(event, domReference) || targetIsInsideChildren) {\n      return;\n    }\n    const children = tree ? getChildren(tree.nodesRef.current, nodeId) : [];\n    if (children.length > 0) {\n      let shouldDismiss = true;\n      children.forEach(child => {\n        var _child$context2;\n        if ((_child$context2 = child.context) != null && _child$context2.open && !child.context.dataRef.current.__outsidePressBubbles) {\n          shouldDismiss = false;\n          return;\n        }\n      });\n      if (!shouldDismiss) {\n        return;\n      }\n    }\n    events.emit('dismiss', {\n      type: 'outsidePress',\n      data: {\n        returnFocus: nested ? {\n          preventScroll: true\n        } : isVirtualClick(event) || isVirtualPointerEvent(event)\n      }\n    });\n    onOpenChange(false);\n  });\n  React.useEffect(() => {\n    if (!open || !enabled) {\n      return;\n    }\n    dataRef.current.__escapeKeyBubbles = escapeKeyBubbles;\n    dataRef.current.__outsidePressBubbles = outsidePressBubbles;\n    function onScroll() {\n      onOpenChange(false);\n    }\n    const doc = getDocument(floating);\n    escapeKey && doc.addEventListener('keydown', closeOnEscapeKeyDown);\n    outsidePress && doc.addEventListener(outsidePressEvent, closeOnPressOutside);\n    let ancestors = [];\n    if (ancestorScroll) {\n      if (isElement(domReference)) {\n        ancestors = getOverflowAncestors(domReference);\n      }\n      if (isElement(floating)) {\n        ancestors = ancestors.concat(getOverflowAncestors(floating));\n      }\n      if (!isElement(reference) && reference && reference.contextElement) {\n        ancestors = ancestors.concat(getOverflowAncestors(reference.contextElement));\n      }\n    }\n\n    // Ignore the visual viewport for scrolling dismissal (allow pinch-zoom)\n    ancestors = ancestors.filter(ancestor => {\n      var _doc$defaultView;\n      return ancestor !== ((_doc$defaultView = doc.defaultView) == null ? void 0 : _doc$defaultView.visualViewport);\n    });\n    ancestors.forEach(ancestor => {\n      ancestor.addEventListener('scroll', onScroll, {\n        passive: true\n      });\n    });\n    return () => {\n      escapeKey && doc.removeEventListener('keydown', closeOnEscapeKeyDown);\n      outsidePress && doc.removeEventListener(outsidePressEvent, closeOnPressOutside);\n      ancestors.forEach(ancestor => {\n        ancestor.removeEventListener('scroll', onScroll);\n      });\n    };\n  }, [dataRef, floating, domReference, reference, escapeKey, outsidePress, outsidePressEvent, open, onOpenChange, ancestorScroll, enabled, escapeKeyBubbles, outsidePressBubbles, closeOnEscapeKeyDown, closeOnPressOutside]);\n  React.useEffect(() => {\n    insideReactTreeRef.current = false;\n  }, [outsidePress, outsidePressEvent]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    return {\n      reference: {\n        onKeyDown: closeOnEscapeKeyDown,\n        [bubbleHandlerKeys[referencePressEvent]]: () => {\n          if (referencePress) {\n            events.emit('dismiss', {\n              type: 'referencePress',\n              data: {\n                returnFocus: false\n              }\n            });\n            onOpenChange(false);\n          }\n        }\n      },\n      floating: {\n        onKeyDown: closeOnEscapeKeyDown,\n        [captureHandlerKeys[outsidePressEvent]]: () => {\n          insideReactTreeRef.current = true;\n        }\n      }\n    };\n  }, [enabled, events, referencePress, outsidePressEvent, referencePressEvent, onOpenChange, closeOnEscapeKeyDown]);\n};\n\n/**\n * Opens the floating element while the reference element has focus, like CSS\n * `:focus`.\n * @see https://floating-ui.com/docs/useFocus\n */\nconst useFocus = function (context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    dataRef,\n    events,\n    refs,\n    elements: {\n      floating,\n      domReference\n    }\n  } = context;\n  const {\n    enabled = true,\n    keyboardOnly = true\n  } = props;\n  const pointerTypeRef = React.useRef('');\n  const blockFocusRef = React.useRef(false);\n  const timeoutRef = React.useRef();\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    const doc = getDocument(floating);\n    const win = doc.defaultView || window;\n\n    // If the reference was focused and the user left the tab/window, and the\n    // floating element was not open, the focus should be blocked when they\n    // return to the tab/window.\n    function onBlur() {\n      if (!open && isHTMLElement(domReference) && domReference === activeElement(getDocument(domReference))) {\n        blockFocusRef.current = true;\n      }\n    }\n    win.addEventListener('blur', onBlur);\n    return () => {\n      win.removeEventListener('blur', onBlur);\n    };\n  }, [floating, domReference, open, enabled]);\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function onDismiss(payload) {\n      if (payload.type === 'referencePress' || payload.type === 'escapeKey') {\n        blockFocusRef.current = true;\n      }\n    }\n    events.on('dismiss', onDismiss);\n    return () => {\n      events.off('dismiss', onDismiss);\n    };\n  }, [events, enabled]);\n  React.useEffect(() => {\n    return () => {\n      clearTimeout(timeoutRef.current);\n    };\n  }, []);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    return {\n      reference: {\n        onPointerDown(_ref) {\n          let {\n            pointerType\n          } = _ref;\n          pointerTypeRef.current = pointerType;\n          blockFocusRef.current = !!(pointerType && keyboardOnly);\n        },\n        onMouseLeave() {\n          blockFocusRef.current = false;\n        },\n        onFocus(event) {\n          var _dataRef$current$open;\n          if (blockFocusRef.current) {\n            return;\n          }\n\n          // Dismiss with click should ignore the subsequent `focus` trigger,\n          // but only if the click originated inside the reference element.\n          if (event.type === 'focus' && ((_dataRef$current$open = dataRef.current.openEvent) == null ? void 0 : _dataRef$current$open.type) === 'mousedown' && dataRef.current.openEvent && isEventTargetWithin(dataRef.current.openEvent, domReference)) {\n            return;\n          }\n          dataRef.current.openEvent = event.nativeEvent;\n          onOpenChange(true);\n        },\n        onBlur(event) {\n          blockFocusRef.current = false;\n          const relatedTarget = event.relatedTarget;\n\n          // Hit the non-modal focus management portal guard. Focus will be\n          // moved into the floating element immediately after.\n          const movedToFocusGuard = isElement(relatedTarget) && relatedTarget.hasAttribute('data-floating-ui-focus-guard') && relatedTarget.getAttribute('data-type') === 'outside';\n\n          // Wait for the window blur listener to fire.\n          timeoutRef.current = setTimeout(() => {\n            // When focusing the reference element (e.g. regular click), then\n            // clicking into the floating element, prevent it from hiding.\n            // Note: it must be focusable, e.g. `tabindex=\"-1\"`.\n            if (contains(refs.floating.current, relatedTarget) || contains(domReference, relatedTarget) || movedToFocusGuard) {\n              return;\n            }\n            onOpenChange(false);\n          });\n        }\n      }\n    };\n  }, [enabled, keyboardOnly, domReference, refs, dataRef, onOpenChange]);\n};\n\nlet isPreventScrollSupported = false;\nconst ARROW_UP = 'ArrowUp';\nconst ARROW_DOWN = 'ArrowDown';\nconst ARROW_LEFT = 'ArrowLeft';\nconst ARROW_RIGHT = 'ArrowRight';\nfunction isDifferentRow(index, cols, prevRow) {\n  return Math.floor(index / cols) !== prevRow;\n}\nfunction isIndexOutOfBounds(listRef, index) {\n  return index < 0 || index >= listRef.current.length;\n}\nfunction findNonDisabledIndex(listRef, _temp) {\n  let {\n    startingIndex = -1,\n    decrement = false,\n    disabledIndices,\n    amount = 1\n  } = _temp === void 0 ? {} : _temp;\n  const list = listRef.current;\n  let index = startingIndex;\n  do {\n    var _list$index, _list$index2;\n    index = index + (decrement ? -amount : amount);\n  } while (index >= 0 && index <= list.length - 1 && (disabledIndices ? disabledIndices.includes(index) : list[index] == null || ((_list$index = list[index]) == null ? void 0 : _list$index.hasAttribute('disabled')) || ((_list$index2 = list[index]) == null ? void 0 : _list$index2.getAttribute('aria-disabled')) === 'true'));\n  return index;\n}\nfunction doSwitch(orientation, vertical, horizontal) {\n  switch (orientation) {\n    case 'vertical':\n      return vertical;\n    case 'horizontal':\n      return horizontal;\n    default:\n      return vertical || horizontal;\n  }\n}\nfunction isMainOrientationKey(key, orientation) {\n  const vertical = key === ARROW_UP || key === ARROW_DOWN;\n  const horizontal = key === ARROW_LEFT || key === ARROW_RIGHT;\n  return doSwitch(orientation, vertical, horizontal);\n}\nfunction isMainOrientationToEndKey(key, orientation, rtl) {\n  const vertical = key === ARROW_DOWN;\n  const horizontal = rtl ? key === ARROW_LEFT : key === ARROW_RIGHT;\n  return doSwitch(orientation, vertical, horizontal) || key === 'Enter' || key == ' ' || key === '';\n}\nfunction isCrossOrientationOpenKey(key, orientation, rtl) {\n  const vertical = rtl ? key === ARROW_LEFT : key === ARROW_RIGHT;\n  const horizontal = key === ARROW_DOWN;\n  return doSwitch(orientation, vertical, horizontal);\n}\nfunction isCrossOrientationCloseKey(key, orientation, rtl) {\n  const vertical = rtl ? key === ARROW_RIGHT : key === ARROW_LEFT;\n  const horizontal = key === ARROW_UP;\n  return doSwitch(orientation, vertical, horizontal);\n}\nfunction getMinIndex(listRef, disabledIndices) {\n  return findNonDisabledIndex(listRef, {\n    disabledIndices\n  });\n}\nfunction getMaxIndex(listRef, disabledIndices) {\n  return findNonDisabledIndex(listRef, {\n    decrement: true,\n    startingIndex: listRef.current.length,\n    disabledIndices\n  });\n}\n/**\n * Adds arrow key-based navigation of a list of items, either using real DOM\n * focus or virtual focus.\n * @see https://floating-ui.com/docs/useListNavigation\n */\nconst useListNavigation = (context, props) => {\n  const {\n    open,\n    onOpenChange,\n    refs,\n    elements: {\n      domReference,\n      floating\n    }\n  } = context;\n  const {\n    listRef,\n    activeIndex,\n    onNavigate: unstable_onNavigate = () => {},\n    enabled = true,\n    selectedIndex = null,\n    allowEscape = false,\n    loop = false,\n    nested = false,\n    rtl = false,\n    virtual = false,\n    focusItemOnOpen = 'auto',\n    focusItemOnHover = true,\n    openOnArrowKeyDown = true,\n    disabledIndices = undefined,\n    orientation = 'vertical',\n    cols = 1,\n    scrollItemIntoView = true\n  } = props;\n  if (process.env.NODE_ENV !== \"production\") {\n    if (allowEscape) {\n      if (!loop) {\n        console.warn(['Floating UI: `useListNavigation` looping must be enabled to allow', 'escaping.'].join(' '));\n      }\n      if (!virtual) {\n        console.warn(['Floating UI: `useListNavigation` must be virtual to allow', 'escaping.'].join(' '));\n      }\n    }\n    if (orientation === 'vertical' && cols > 1) {\n      console.warn(['Floating UI: In grid list navigation mode (`cols` > 1), the', '`orientation` should be either \"horizontal\" or \"both\".'].join(' '));\n    }\n  }\n  const parentId = useFloatingParentNodeId();\n  const tree = useFloatingTree();\n  const onNavigate = useEvent(unstable_onNavigate);\n  const focusItemOnOpenRef = React.useRef(focusItemOnOpen);\n  const indexRef = React.useRef(selectedIndex != null ? selectedIndex : -1);\n  const keyRef = React.useRef(null);\n  const isPointerModalityRef = React.useRef(true);\n  const previousOnNavigateRef = React.useRef(onNavigate);\n  const previousMountedRef = React.useRef(!!floating);\n  const forceSyncFocus = React.useRef(false);\n  const forceScrollIntoViewRef = React.useRef(false);\n  const disabledIndicesRef = useLatestRef(disabledIndices);\n  const latestOpenRef = useLatestRef(open);\n  const scrollItemIntoViewRef = useLatestRef(scrollItemIntoView);\n  const [activeId, setActiveId] = React.useState();\n  const focusItem = useEvent(function (listRef, indexRef, forceScrollIntoView) {\n    if (forceScrollIntoView === void 0) {\n      forceScrollIntoView = false;\n    }\n    const item = listRef.current[indexRef.current];\n    if (!item) return;\n    if (virtual) {\n      setActiveId(item.id);\n    } else {\n      enqueueFocus(item, {\n        preventScroll: true,\n        // Mac Safari does not move the virtual cursor unless the focus call\n        // is sync. However, for the very first focus call, we need to wait\n        // for the position to be ready in order to prevent unwanted\n        // scrolling. This means the virtual cursor will not move to the first\n        // item when first opening the floating element, but will on\n        // subsequent calls. `preventScroll` is supported in modern Safari,\n        // so we can use that instead.\n        // iOS Safari must be async or the first item will not be focused.\n        sync: isMac() && isSafari() ? isPreventScrollSupported || forceSyncFocus.current : false\n      });\n    }\n    requestAnimationFrame(() => {\n      const scrollIntoViewOptions = scrollItemIntoViewRef.current;\n      const shouldScrollIntoView = scrollIntoViewOptions && item && (forceScrollIntoView || !isPointerModalityRef.current);\n      if (shouldScrollIntoView) {\n        // JSDOM doesn't support `.scrollIntoView()` but it's widely supported\n        // by all browsers.\n        item.scrollIntoView == null ? void 0 : item.scrollIntoView(typeof scrollIntoViewOptions === 'boolean' ? {\n          block: 'nearest',\n          inline: 'nearest'\n        } : scrollIntoViewOptions);\n      }\n    });\n  });\n  index(() => {\n    document.createElement('div').focus({\n      get preventScroll() {\n        isPreventScrollSupported = true;\n        return false;\n      }\n    });\n  }, []);\n\n  // Sync `selectedIndex` to be the `activeIndex` upon opening the floating\n  // element. Also, reset `activeIndex` upon closing the floating element.\n  index(() => {\n    if (!enabled) {\n      return;\n    }\n    if (open && floating) {\n      if (focusItemOnOpenRef.current && selectedIndex != null) {\n        // Regardless of the pointer modality, we want to ensure the selected\n        // item comes into view when the floating element is opened.\n        forceScrollIntoViewRef.current = true;\n        onNavigate(selectedIndex);\n      }\n    } else if (previousMountedRef.current) {\n      // Since the user can specify `onNavigate` conditionally\n      // (onNavigate: open ? setActiveIndex : setSelectedIndex),\n      // we store and call the previous function.\n      indexRef.current = -1;\n      previousOnNavigateRef.current(null);\n    }\n  }, [enabled, open, floating, selectedIndex, onNavigate]);\n\n  // Sync `activeIndex` to be the focused item while the floating element is\n  // open.\n  index(() => {\n    if (!enabled) {\n      return;\n    }\n    if (open && floating) {\n      if (activeIndex == null) {\n        forceSyncFocus.current = false;\n        if (selectedIndex != null) {\n          return;\n        }\n\n        // Reset while the floating element was open (e.g. the list changed).\n        if (previousMountedRef.current) {\n          indexRef.current = -1;\n          focusItem(listRef, indexRef);\n        }\n\n        // Initial sync.\n        if (!previousMountedRef.current && focusItemOnOpenRef.current && (keyRef.current != null || focusItemOnOpenRef.current === true && keyRef.current == null)) {\n          let runs = 0;\n          const waitForListPopulated = () => {\n            if (listRef.current[0] == null) {\n              // Avoid letting the browser paint if possible on the first try,\n              // otherwise use rAF. Don't try more than twice, since something\n              // is wrong otherwise.\n              if (runs < 2) {\n                const scheduler = runs ? requestAnimationFrame : queueMicrotask;\n                scheduler(waitForListPopulated);\n              }\n              runs++;\n            } else {\n              indexRef.current = keyRef.current == null || isMainOrientationToEndKey(keyRef.current, orientation, rtl) || nested ? getMinIndex(listRef, disabledIndicesRef.current) : getMaxIndex(listRef, disabledIndicesRef.current);\n              keyRef.current = null;\n              onNavigate(indexRef.current);\n            }\n          };\n          waitForListPopulated();\n        }\n      } else if (!isIndexOutOfBounds(listRef, activeIndex)) {\n        indexRef.current = activeIndex;\n        focusItem(listRef, indexRef, forceScrollIntoViewRef.current);\n        forceScrollIntoViewRef.current = false;\n      }\n    }\n  }, [enabled, open, floating, activeIndex, selectedIndex, nested, listRef, orientation, rtl, onNavigate, focusItem, disabledIndicesRef]);\n\n  // Ensure the parent floating element has focus when a nested child closes\n  // to allow arrow key navigation to work after the pointer leaves the child.\n  index(() => {\n    if (!enabled) {\n      return;\n    }\n    if (previousMountedRef.current && !floating && tree) {\n      var _nodes$find, _nodes$find$context;\n      const nodes = tree.nodesRef.current;\n      const parent = (_nodes$find = nodes.find(node => node.id === parentId)) == null ? void 0 : (_nodes$find$context = _nodes$find.context) == null ? void 0 : _nodes$find$context.elements.floating;\n      const activeEl = activeElement(getDocument(floating));\n      const treeContainsActiveEl = nodes.some(node => node.context && contains(node.context.elements.floating, activeEl));\n      if (parent && !treeContainsActiveEl) {\n        parent.focus({\n          preventScroll: true\n        });\n      }\n    }\n  }, [enabled, floating, tree, parentId]);\n  index(() => {\n    previousOnNavigateRef.current = onNavigate;\n    previousMountedRef.current = !!floating;\n  });\n  index(() => {\n    if (!open) {\n      keyRef.current = null;\n    }\n  }, [open]);\n  const hasActiveIndex = activeIndex != null;\n  const item = React.useMemo(() => {\n    function syncCurrentTarget(currentTarget) {\n      if (!open) return;\n      const index = listRef.current.indexOf(currentTarget);\n      if (index !== -1) {\n        onNavigate(index);\n      }\n    }\n    const props = {\n      onFocus(_ref) {\n        let {\n          currentTarget\n        } = _ref;\n        syncCurrentTarget(currentTarget);\n      },\n      onClick: _ref2 => {\n        let {\n          currentTarget\n        } = _ref2;\n        return currentTarget.focus({\n          preventScroll: true\n        });\n      },\n      // Safari\n      ...(focusItemOnHover && {\n        onMouseMove(_ref3) {\n          let {\n            currentTarget\n          } = _ref3;\n          syncCurrentTarget(currentTarget);\n        },\n        onPointerLeave(_ref4) {\n          let {\n            pointerType\n          } = _ref4;\n          if (!isPointerModalityRef.current || pointerType === 'touch') {\n            return;\n          }\n          indexRef.current = -1;\n          focusItem(listRef, indexRef);\n          onNavigate(null);\n          if (!virtual) {\n            enqueueFocus(refs.floating.current, {\n              preventScroll: true\n            });\n          }\n        }\n      })\n    };\n    return props;\n  }, [open, refs, focusItem, focusItemOnHover, listRef, onNavigate, virtual]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    const disabledIndices = disabledIndicesRef.current;\n    function onKeyDown(event) {\n      isPointerModalityRef.current = false;\n      forceSyncFocus.current = true;\n\n      // If the floating element is animating out, ignore navigation. Otherwise,\n      // the `activeIndex` gets set to 0 despite not being open so the next time\n      // the user ArrowDowns, the first item won't be focused.\n      if (!latestOpenRef.current && event.currentTarget === refs.floating.current) {\n        return;\n      }\n      if (nested && isCrossOrientationCloseKey(event.key, orientation, rtl)) {\n        stopEvent(event);\n        onOpenChange(false);\n        if (isHTMLElement(domReference)) {\n          domReference.focus();\n        }\n        return;\n      }\n      const currentIndex = indexRef.current;\n      const minIndex = getMinIndex(listRef, disabledIndices);\n      const maxIndex = getMaxIndex(listRef, disabledIndices);\n      if (event.key === 'Home') {\n        stopEvent(event);\n        indexRef.current = minIndex;\n        onNavigate(indexRef.current);\n      }\n      if (event.key === 'End') {\n        stopEvent(event);\n        indexRef.current = maxIndex;\n        onNavigate(indexRef.current);\n      }\n\n      // Grid navigation.\n      if (cols > 1) {\n        const prevIndex = indexRef.current;\n        if (event.key === ARROW_UP) {\n          stopEvent(event);\n          if (prevIndex === -1) {\n            indexRef.current = maxIndex;\n          } else {\n            indexRef.current = findNonDisabledIndex(listRef, {\n              startingIndex: prevIndex,\n              amount: cols,\n              decrement: true,\n              disabledIndices\n            });\n            if (loop && (prevIndex - cols < minIndex || indexRef.current < 0)) {\n              const col = prevIndex % cols;\n              const maxCol = maxIndex % cols;\n              const offset = maxIndex - (maxCol - col);\n              if (maxCol === col) {\n                indexRef.current = maxIndex;\n              } else {\n                indexRef.current = maxCol > col ? offset : offset - cols;\n              }\n            }\n          }\n          if (isIndexOutOfBounds(listRef, indexRef.current)) {\n            indexRef.current = prevIndex;\n          }\n          onNavigate(indexRef.current);\n        }\n        if (event.key === ARROW_DOWN) {\n          stopEvent(event);\n          if (prevIndex === -1) {\n            indexRef.current = minIndex;\n          } else {\n            indexRef.current = findNonDisabledIndex(listRef, {\n              startingIndex: prevIndex,\n              amount: cols,\n              disabledIndices\n            });\n            if (loop && prevIndex + cols > maxIndex) {\n              indexRef.current = findNonDisabledIndex(listRef, {\n                startingIndex: prevIndex % cols - cols,\n                amount: cols,\n                disabledIndices\n              });\n            }\n          }\n          if (isIndexOutOfBounds(listRef, indexRef.current)) {\n            indexRef.current = prevIndex;\n          }\n          onNavigate(indexRef.current);\n        }\n\n        // Remains on the same row/column.\n        if (orientation === 'both') {\n          const prevRow = Math.floor(prevIndex / cols);\n          if (event.key === ARROW_RIGHT) {\n            stopEvent(event);\n            if (prevIndex % cols !== cols - 1) {\n              indexRef.current = findNonDisabledIndex(listRef, {\n                startingIndex: prevIndex,\n                disabledIndices\n              });\n              if (loop && isDifferentRow(indexRef.current, cols, prevRow)) {\n                indexRef.current = findNonDisabledIndex(listRef, {\n                  startingIndex: prevIndex - prevIndex % cols - 1,\n                  disabledIndices\n                });\n              }\n            } else if (loop) {\n              indexRef.current = findNonDisabledIndex(listRef, {\n                startingIndex: prevIndex - prevIndex % cols - 1,\n                disabledIndices\n              });\n            }\n            if (isDifferentRow(indexRef.current, cols, prevRow)) {\n              indexRef.current = prevIndex;\n            }\n          }\n          if (event.key === ARROW_LEFT) {\n            stopEvent(event);\n            if (prevIndex % cols !== 0) {\n              indexRef.current = findNonDisabledIndex(listRef, {\n                startingIndex: prevIndex,\n                disabledIndices,\n                decrement: true\n              });\n              if (loop && isDifferentRow(indexRef.current, cols, prevRow)) {\n                indexRef.current = findNonDisabledIndex(listRef, {\n                  startingIndex: prevIndex + (cols - prevIndex % cols),\n                  decrement: true,\n                  disabledIndices\n                });\n              }\n            } else if (loop) {\n              indexRef.current = findNonDisabledIndex(listRef, {\n                startingIndex: prevIndex + (cols - prevIndex % cols),\n                decrement: true,\n                disabledIndices\n              });\n            }\n            if (isDifferentRow(indexRef.current, cols, prevRow)) {\n              indexRef.current = prevIndex;\n            }\n          }\n          const lastRow = Math.floor(maxIndex / cols) === prevRow;\n          if (isIndexOutOfBounds(listRef, indexRef.current)) {\n            if (loop && lastRow) {\n              indexRef.current = event.key === ARROW_LEFT ? maxIndex : findNonDisabledIndex(listRef, {\n                startingIndex: prevIndex - prevIndex % cols - 1,\n                disabledIndices\n              });\n            } else {\n              indexRef.current = prevIndex;\n            }\n          }\n          onNavigate(indexRef.current);\n          return;\n        }\n      }\n      if (isMainOrientationKey(event.key, orientation)) {\n        stopEvent(event);\n\n        // Reset the index if no item is focused.\n        if (open && !virtual && activeElement(event.currentTarget.ownerDocument) === event.currentTarget) {\n          indexRef.current = isMainOrientationToEndKey(event.key, orientation, rtl) ? minIndex : maxIndex;\n          onNavigate(indexRef.current);\n          return;\n        }\n        if (isMainOrientationToEndKey(event.key, orientation, rtl)) {\n          if (loop) {\n            indexRef.current = currentIndex >= maxIndex ? allowEscape && currentIndex !== listRef.current.length ? -1 : minIndex : findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              disabledIndices\n            });\n          } else {\n            indexRef.current = Math.min(maxIndex, findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              disabledIndices\n            }));\n          }\n        } else {\n          if (loop) {\n            indexRef.current = currentIndex <= minIndex ? allowEscape && currentIndex !== -1 ? listRef.current.length : maxIndex : findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              decrement: true,\n              disabledIndices\n            });\n          } else {\n            indexRef.current = Math.max(minIndex, findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              decrement: true,\n              disabledIndices\n            }));\n          }\n        }\n        if (isIndexOutOfBounds(listRef, indexRef.current)) {\n          onNavigate(null);\n        } else {\n          onNavigate(indexRef.current);\n        }\n      }\n    }\n    function checkVirtualMouse(event) {\n      if (focusItemOnOpen === 'auto' && isVirtualClick(event.nativeEvent)) {\n        focusItemOnOpenRef.current = true;\n      }\n    }\n    function checkVirtualPointer(event) {\n      // `pointerdown` fires first, reset the state then perform the checks.\n      focusItemOnOpenRef.current = focusItemOnOpen;\n      if (focusItemOnOpen === 'auto' && isVirtualPointerEvent(event.nativeEvent)) {\n        focusItemOnOpenRef.current = true;\n      }\n    }\n    const ariaActiveDescendantProp = virtual && open && hasActiveIndex && {\n      'aria-activedescendant': activeId\n    };\n    return {\n      reference: {\n        ...ariaActiveDescendantProp,\n        onKeyDown(event) {\n          isPointerModalityRef.current = false;\n          const isArrowKey = event.key.indexOf('Arrow') === 0;\n          if (virtual && open) {\n            return onKeyDown(event);\n          }\n\n          // If a floating element should not open on arrow key down, avoid\n          // setting `activeIndex` while it's closed.\n          if (!open && !openOnArrowKeyDown && isArrowKey) {\n            return;\n          }\n          const isNavigationKey = isArrowKey || event.key === 'Enter' || event.key.trim() === '';\n          const isMainKey = isMainOrientationKey(event.key, orientation);\n          const isCrossKey = isCrossOrientationOpenKey(event.key, orientation, rtl);\n          if (isNavigationKey) {\n            keyRef.current = nested && isMainKey ? null : event.key;\n          }\n          if (nested) {\n            if (isCrossKey) {\n              stopEvent(event);\n              if (open) {\n                indexRef.current = getMinIndex(listRef, disabledIndices);\n                onNavigate(indexRef.current);\n              } else {\n                onOpenChange(true);\n              }\n            }\n            return;\n          }\n          if (isMainKey) {\n            if (selectedIndex != null) {\n              indexRef.current = selectedIndex;\n            }\n            stopEvent(event);\n            if (!open && openOnArrowKeyDown) {\n              onOpenChange(true);\n            } else {\n              onKeyDown(event);\n            }\n            if (open) {\n              onNavigate(indexRef.current);\n            }\n          }\n        },\n        onFocus() {\n          if (open) {\n            onNavigate(null);\n          }\n        },\n        onPointerDown: checkVirtualPointer,\n        onMouseDown: checkVirtualMouse,\n        onClick: checkVirtualMouse\n      },\n      floating: {\n        'aria-orientation': orientation === 'both' ? undefined : orientation,\n        ...ariaActiveDescendantProp,\n        onKeyDown,\n        onPointerMove() {\n          isPointerModalityRef.current = true;\n        }\n      },\n      item\n    };\n  }, [domReference, refs, activeId, disabledIndicesRef, latestOpenRef, listRef, enabled, orientation, rtl, virtual, open, hasActiveIndex, nested, selectedIndex, openOnArrowKeyDown, allowEscape, cols, loop, focusItemOnOpen, onNavigate, onOpenChange, item]);\n};\n\n/**\n * Merges an array of refs into a single memoized callback ref or `null`.\n * @see https://floating-ui.com/docs/useMergeRefs\n */\nfunction useMergeRefs(refs) {\n  return React.useMemo(() => {\n    if (refs.every(ref => ref == null)) {\n      return null;\n    }\n    return value => {\n      refs.forEach(ref => {\n        if (typeof ref === 'function') {\n          ref(value);\n        } else if (ref != null) {\n          ref.current = value;\n        }\n      });\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, refs);\n}\n\n/**\n * Adds base screen reader props to the reference and floating elements for a\n * given floating element `role`.\n * @see https://floating-ui.com/docs/useRole\n */\nconst useRole = function (context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    floatingId\n  } = context;\n  const {\n    enabled = true,\n    role = 'dialog'\n  } = props;\n  const referenceId = useId();\n  return React.useMemo(() => {\n    const floatingProps = {\n      id: floatingId,\n      role\n    };\n    if (!enabled) {\n      return {};\n    }\n    if (role === 'tooltip') {\n      return {\n        reference: {\n          'aria-describedby': open ? floatingId : undefined\n        },\n        floating: floatingProps\n      };\n    }\n    return {\n      reference: {\n        'aria-expanded': open ? 'true' : 'false',\n        'aria-haspopup': role === 'alertdialog' ? 'dialog' : role,\n        'aria-controls': open ? floatingId : undefined,\n        ...(role === 'listbox' && {\n          role: 'combobox'\n        }),\n        ...(role === 'menu' && {\n          id: referenceId\n        })\n      },\n      floating: {\n        ...floatingProps,\n        ...(role === 'menu' && {\n          'aria-labelledby': referenceId\n        })\n      }\n    };\n  }, [enabled, role, open, floatingId, referenceId]);\n};\n\n// Converts a JS style key like `backgroundColor` to a CSS transition-property\n// like `background-color`.\nconst camelCaseToKebabCase = str => str.replace(/[A-Z]+(?![a-z])|[A-Z]/g, ($, ofs) => (ofs ? '-' : '') + $.toLowerCase());\nfunction execWithArgsOrReturn(valueOrFn, args) {\n  return typeof valueOrFn === 'function' ? valueOrFn(args) : valueOrFn;\n}\nfunction useDelayUnmount(open, durationMs) {\n  const [isMounted, setIsMounted] = React.useState(open);\n  if (open && !isMounted) {\n    setIsMounted(true);\n  }\n  React.useEffect(() => {\n    if (!open) {\n      const timeout = setTimeout(() => setIsMounted(false), durationMs);\n      return () => clearTimeout(timeout);\n    }\n  }, [open, durationMs]);\n  return isMounted;\n}\n/**\n * Provides a status string to apply CSS transitions to a floating element,\n * correctly handling placement-aware transitions.\n * @see https://floating-ui.com/docs/useTransition#usetransitionstatus\n */\nfunction useTransitionStatus(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    elements: {\n      floating\n    }\n  } = context;\n  const {\n    duration = 250\n  } = props;\n  const isNumberDuration = typeof duration === 'number';\n  const closeDuration = (isNumberDuration ? duration : duration.close) || 0;\n  const [initiated, setInitiated] = React.useState(false);\n  const [status, setStatus] = React.useState('unmounted');\n  const isMounted = useDelayUnmount(open, closeDuration);\n\n  // `initiated` check prevents this `setState` call from breaking\n  // <FloatingPortal />. This call is necessary to ensure subsequent opens\n  // after the initial one allows the correct side animation to play when the\n  // placement has changed.\n  index(() => {\n    if (initiated && !isMounted) {\n      setStatus('unmounted');\n    }\n  }, [initiated, isMounted]);\n  index(() => {\n    if (!floating) return;\n    if (open) {\n      setStatus('initial');\n      const frame = requestAnimationFrame(() => {\n        setStatus('open');\n      });\n      return () => {\n        cancelAnimationFrame(frame);\n      };\n    } else {\n      setInitiated(true);\n      setStatus('close');\n    }\n  }, [open, floating]);\n  return {\n    isMounted,\n    status\n  };\n}\n/**\n * Provides styles to apply CSS transitions to a floating element, correctly\n * handling placement-aware transitions. Wrapper around `useTransitionStatus`.\n * @see https://floating-ui.com/docs/useTransition#usetransitionstyles\n */\nfunction useTransitionStyles(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    initial: unstable_initial = {\n      opacity: 0\n    },\n    open: unstable_open,\n    close: unstable_close,\n    common: unstable_common,\n    duration = 250\n  } = props;\n  const placement = context.placement;\n  const side = placement.split('-')[0];\n  const fnArgs = React.useMemo(() => ({\n    side,\n    placement\n  }), [side, placement]);\n  const isNumberDuration = typeof duration === 'number';\n  const openDuration = (isNumberDuration ? duration : duration.open) || 0;\n  const closeDuration = (isNumberDuration ? duration : duration.close) || 0;\n  const [styles, setStyles] = React.useState(() => ({\n    ...execWithArgsOrReturn(unstable_common, fnArgs),\n    ...execWithArgsOrReturn(unstable_initial, fnArgs)\n  }));\n  const {\n    isMounted,\n    status\n  } = useTransitionStatus(context, {\n    duration\n  });\n  const initialRef = useLatestRef(unstable_initial);\n  const openRef = useLatestRef(unstable_open);\n  const closeRef = useLatestRef(unstable_close);\n  const commonRef = useLatestRef(unstable_common);\n  index(() => {\n    const initialStyles = execWithArgsOrReturn(initialRef.current, fnArgs);\n    const closeStyles = execWithArgsOrReturn(closeRef.current, fnArgs);\n    const commonStyles = execWithArgsOrReturn(commonRef.current, fnArgs);\n    const openStyles = execWithArgsOrReturn(openRef.current, fnArgs) || Object.keys(initialStyles).reduce((acc, key) => {\n      acc[key] = '';\n      return acc;\n    }, {});\n    if (status === 'initial') {\n      setStyles(styles => ({\n        transitionProperty: styles.transitionProperty,\n        ...commonStyles,\n        ...initialStyles\n      }));\n    }\n    if (status === 'open') {\n      setStyles({\n        transitionProperty: Object.keys(openStyles).map(camelCaseToKebabCase).join(','),\n        transitionDuration: openDuration + \"ms\",\n        ...commonStyles,\n        ...openStyles\n      });\n    }\n    if (status === 'close') {\n      const styles = closeStyles || initialStyles;\n      setStyles({\n        transitionProperty: Object.keys(styles).map(camelCaseToKebabCase).join(','),\n        transitionDuration: closeDuration + \"ms\",\n        ...commonStyles,\n        ...styles\n      });\n    }\n  }, [closeDuration, closeRef, initialRef, openRef, commonRef, openDuration, status, fnArgs]);\n  return {\n    isMounted,\n    styles\n  };\n}\n\n/**\n * Provides a matching callback that can be used to focus an item as the user\n * types, often used in tandem with `useListNavigation()`.\n * @see https://floating-ui.com/docs/useTypeahead\n */\nconst useTypeahead = (context, props) => {\n  var _ref;\n  const {\n    open,\n    dataRef\n  } = context;\n  const {\n    listRef,\n    activeIndex,\n    onMatch: unstable_onMatch,\n    onTypingChange: unstable_onTypingChange,\n    enabled = true,\n    findMatch = null,\n    resetMs = 750,\n    ignoreKeys = [],\n    selectedIndex = null\n  } = props;\n  const timeoutIdRef = React.useRef();\n  const stringRef = React.useRef('');\n  const prevIndexRef = React.useRef((_ref = selectedIndex != null ? selectedIndex : activeIndex) != null ? _ref : -1);\n  const matchIndexRef = React.useRef(null);\n  const onMatch = useEvent(unstable_onMatch);\n  const onTypingChange = useEvent(unstable_onTypingChange);\n  const findMatchRef = useLatestRef(findMatch);\n  const ignoreKeysRef = useLatestRef(ignoreKeys);\n  index(() => {\n    if (open) {\n      clearTimeout(timeoutIdRef.current);\n      matchIndexRef.current = null;\n      stringRef.current = '';\n    }\n  }, [open]);\n  index(() => {\n    // Sync arrow key navigation but not typeahead navigation.\n    if (open && stringRef.current === '') {\n      var _ref2;\n      prevIndexRef.current = (_ref2 = selectedIndex != null ? selectedIndex : activeIndex) != null ? _ref2 : -1;\n    }\n  }, [open, selectedIndex, activeIndex]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    function setTypingChange(value) {\n      if (value) {\n        if (!dataRef.current.typing) {\n          dataRef.current.typing = value;\n          onTypingChange(value);\n        }\n      } else {\n        if (dataRef.current.typing) {\n          dataRef.current.typing = value;\n          onTypingChange(value);\n        }\n      }\n    }\n    function getMatchingIndex(list, orderedList, string) {\n      const str = findMatchRef.current ? findMatchRef.current(orderedList, string) : orderedList.find(text => (text == null ? void 0 : text.toLocaleLowerCase().indexOf(string.toLocaleLowerCase())) === 0);\n      return str ? list.indexOf(str) : -1;\n    }\n    function onKeyDown(event) {\n      const listContent = listRef.current;\n      if (stringRef.current.length > 0 && stringRef.current[0] !== ' ') {\n        if (getMatchingIndex(listContent, listContent, stringRef.current) === -1) {\n          setTypingChange(false);\n        } else if (event.key === ' ') {\n          stopEvent(event);\n        }\n      }\n      if (listContent == null || ignoreKeysRef.current.includes(event.key) ||\n      // Character key.\n      event.key.length !== 1 ||\n      // Modifier key.\n      event.ctrlKey || event.metaKey || event.altKey) {\n        return;\n      }\n      if (open && event.key !== ' ') {\n        stopEvent(event);\n        setTypingChange(true);\n      }\n\n      // Bail out if the list contains a word like \"llama\" or \"aaron\". TODO:\n      // allow it in this case, too.\n      const allowRapidSuccessionOfFirstLetter = listContent.every(text => {\n        var _text$, _text$2;\n        return text ? ((_text$ = text[0]) == null ? void 0 : _text$.toLocaleLowerCase()) !== ((_text$2 = text[1]) == null ? void 0 : _text$2.toLocaleLowerCase()) : true;\n      });\n\n      // Allows the user to cycle through items that start with the same letter\n      // in rapid succession.\n      if (allowRapidSuccessionOfFirstLetter && stringRef.current === event.key) {\n        stringRef.current = '';\n        prevIndexRef.current = matchIndexRef.current;\n      }\n      stringRef.current += event.key;\n      clearTimeout(timeoutIdRef.current);\n      timeoutIdRef.current = setTimeout(() => {\n        stringRef.current = '';\n        prevIndexRef.current = matchIndexRef.current;\n        setTypingChange(false);\n      }, resetMs);\n      const prevIndex = prevIndexRef.current;\n      const index = getMatchingIndex(listContent, [...listContent.slice((prevIndex || 0) + 1), ...listContent.slice(0, (prevIndex || 0) + 1)], stringRef.current);\n      if (index !== -1) {\n        onMatch(index);\n        matchIndexRef.current = index;\n      } else if (event.key !== ' ') {\n        stringRef.current = '';\n      }\n    }\n    return {\n      reference: {\n        onKeyDown\n      },\n      floating: {\n        onKeyDown,\n        onKeyUp(event) {\n          if (event.key === ' ') {\n            setTypingChange(false);\n          }\n        }\n      }\n    };\n  }, [enabled, open, dataRef, listRef, resetMs, ignoreKeysRef, findMatchRef, onMatch, onTypingChange]);\n};\n\nfunction getArgsWithCustomFloatingHeight(state, height) {\n  return {\n    ...state,\n    rects: {\n      ...state.rects,\n      floating: {\n        ...state.rects.floating,\n        height\n      }\n    }\n  };\n}\n/**\n * Positions the floating element such that an inner element inside\n * of it is anchored to the reference element.\n * @see https://floating-ui.com/docs/inner\n */\nconst inner = props => ({\n  name: 'inner',\n  options: props,\n  async fn(state) {\n    const {\n      listRef,\n      overflowRef,\n      onFallbackChange,\n      offset: innerOffset = 0,\n      index = 0,\n      minItemsVisible = 4,\n      referenceOverflowThreshold = 0,\n      scrollRef,\n      ...detectOverflowOptions\n    } = props;\n    const {\n      rects,\n      elements: {\n        floating\n      }\n    } = state;\n    const item = listRef.current[index];\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!state.placement.startsWith('bottom')) {\n        console.warn(['Floating UI: `placement` side must be \"bottom\" when using the', '`inner` middleware.'].join(' '));\n      }\n    }\n    if (!item) {\n      return {};\n    }\n    const nextArgs = {\n      ...state,\n      ...(await offset(-item.offsetTop - rects.reference.height / 2 - item.offsetHeight / 2 - innerOffset).fn(state))\n    };\n    const el = (scrollRef == null ? void 0 : scrollRef.current) || floating;\n    const overflow = await detectOverflow(getArgsWithCustomFloatingHeight(nextArgs, el.scrollHeight), detectOverflowOptions);\n    const refOverflow = await detectOverflow(nextArgs, {\n      ...detectOverflowOptions,\n      elementContext: 'reference'\n    });\n    const diffY = Math.max(0, overflow.top);\n    const nextY = nextArgs.y + diffY;\n    const maxHeight = Math.max(0, el.scrollHeight - diffY - Math.max(0, overflow.bottom));\n    el.style.maxHeight = maxHeight + \"px\";\n    el.scrollTop = diffY;\n\n    // There is not enough space, fallback to standard anchored positioning\n    if (onFallbackChange) {\n      if (el.offsetHeight < item.offsetHeight * Math.min(minItemsVisible, listRef.current.length - 1) - 1 || refOverflow.top >= -referenceOverflowThreshold || refOverflow.bottom >= -referenceOverflowThreshold) {\n        flushSync(() => onFallbackChange(true));\n      } else {\n        flushSync(() => onFallbackChange(false));\n      }\n    }\n    if (overflowRef) {\n      overflowRef.current = await detectOverflow(getArgsWithCustomFloatingHeight({\n        ...nextArgs,\n        y: nextY\n      }, el.offsetHeight), detectOverflowOptions);\n    }\n    return {\n      y: nextY\n    };\n  }\n});\n/**\n * Changes the `inner` middleware's `offset` upon a `wheel` event to\n * expand the floating element's height, revealing more list items.\n * @see https://floating-ui.com/docs/inner\n */\nconst useInnerOffset = (_ref, _ref2) => {\n  let {\n    open,\n    elements\n  } = _ref;\n  let {\n    enabled = true,\n    overflowRef,\n    scrollRef,\n    onChange: unstable_onChange\n  } = _ref2;\n  const onChange = useEvent(unstable_onChange);\n  const controlledScrollingRef = React.useRef(false);\n  const prevScrollTopRef = React.useRef(null);\n  const initialOverflowRef = React.useRef(null);\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function onWheel(e) {\n      if (e.ctrlKey || !el || overflowRef.current == null) {\n        return;\n      }\n      const dY = e.deltaY;\n      const isAtTop = overflowRef.current.top >= -0.5;\n      const isAtBottom = overflowRef.current.bottom >= -0.5;\n      const remainingScroll = el.scrollHeight - el.clientHeight;\n      const sign = dY < 0 ? -1 : 1;\n      const method = dY < 0 ? 'max' : 'min';\n      if (el.scrollHeight <= el.clientHeight) {\n        return;\n      }\n      if (!isAtTop && dY > 0 || !isAtBottom && dY < 0) {\n        e.preventDefault();\n        flushSync(() => {\n          onChange(d => d + Math[method](dY, remainingScroll * sign));\n        });\n      } else if (/firefox/i.test(getUserAgent())) {\n        // Needed to propagate scrolling during momentum scrolling phase once\n        // it gets limited by the boundary. UX improvement, not critical.\n        el.scrollTop += dY;\n      }\n    }\n    const el = (scrollRef == null ? void 0 : scrollRef.current) || elements.floating;\n    if (open && el) {\n      el.addEventListener('wheel', onWheel);\n\n      // Wait for the position to be ready.\n      requestAnimationFrame(() => {\n        prevScrollTopRef.current = el.scrollTop;\n        if (overflowRef.current != null) {\n          initialOverflowRef.current = {\n            ...overflowRef.current\n          };\n        }\n      });\n      return () => {\n        prevScrollTopRef.current = null;\n        initialOverflowRef.current = null;\n        el.removeEventListener('wheel', onWheel);\n      };\n    }\n  }, [enabled, open, elements.floating, overflowRef, scrollRef, onChange]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    return {\n      floating: {\n        onKeyDown() {\n          controlledScrollingRef.current = true;\n        },\n        onWheel() {\n          controlledScrollingRef.current = false;\n        },\n        onPointerMove() {\n          controlledScrollingRef.current = false;\n        },\n        onScroll() {\n          const el = (scrollRef == null ? void 0 : scrollRef.current) || elements.floating;\n          if (!overflowRef.current || !el || !controlledScrollingRef.current) {\n            return;\n          }\n          if (prevScrollTopRef.current !== null) {\n            const scrollDiff = el.scrollTop - prevScrollTopRef.current;\n            if (overflowRef.current.bottom < -0.5 && scrollDiff < -1 || overflowRef.current.top < -0.5 && scrollDiff > 1) {\n              flushSync(() => onChange(d => d + scrollDiff));\n            }\n          }\n\n          // [Firefox] Wait for the height change to have been applied.\n          requestAnimationFrame(() => {\n            prevScrollTopRef.current = el.scrollTop;\n          });\n        }\n      }\n    };\n  }, [enabled, overflowRef, elements.floating, scrollRef, onChange]);\n};\n\nfunction isPointInPolygon(point, polygon) {\n  const [x, y] = point;\n  let isInside = false;\n  const length = polygon.length;\n  for (let i = 0, j = length - 1; i < length; j = i++) {\n    const [xi, yi] = polygon[i] || [0, 0];\n    const [xj, yj] = polygon[j] || [0, 0];\n    const intersect = yi >= y !== yj >= y && x <= (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) {\n      isInside = !isInside;\n    }\n  }\n  return isInside;\n}\nfunction isInside(point, rect) {\n  return point[0] >= rect.x && point[0] <= rect.x + rect.width && point[1] >= rect.y && point[1] <= rect.y + rect.height;\n}\nfunction safePolygon(_temp) {\n  let {\n    buffer = 0.5,\n    blockPointerEvents = false,\n    requireIntent = true\n  } = _temp === void 0 ? {} : _temp;\n  let timeoutId;\n  let isInsideRect = false;\n  let hasLanded = false;\n  let lastX = null;\n  let lastY = null;\n  let lastCursorTime = performance.now();\n  function getCursorSpeed(x, y) {\n    const currentTime = performance.now();\n    const elapsedTime = currentTime - lastCursorTime;\n    if (lastX === null || lastY === null || elapsedTime === 0) {\n      lastX = x;\n      lastY = y;\n      lastCursorTime = currentTime;\n      return null;\n    }\n    const deltaX = x - lastX;\n    const deltaY = y - lastY;\n    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n    const speed = distance / elapsedTime; // px / ms\n\n    lastX = x;\n    lastY = y;\n    lastCursorTime = currentTime;\n    return speed;\n  }\n  const fn = _ref => {\n    let {\n      x,\n      y,\n      placement,\n      elements,\n      onClose,\n      nodeId,\n      tree\n    } = _ref;\n    return function onMouseMove(event) {\n      function close() {\n        clearTimeout(timeoutId);\n        onClose();\n      }\n      clearTimeout(timeoutId);\n      if (!elements.domReference || !elements.floating || placement == null || x == null || y == null) {\n        return;\n      }\n      const {\n        clientX,\n        clientY\n      } = event;\n      const clientPoint = [clientX, clientY];\n      const target = getTarget(event);\n      const isLeave = event.type === 'mouseleave';\n      const isOverFloatingEl = contains(elements.floating, target);\n      const isOverReferenceEl = contains(elements.domReference, target);\n      const refRect = elements.domReference.getBoundingClientRect();\n      const rect = elements.floating.getBoundingClientRect();\n      const side = placement.split('-')[0];\n      const cursorLeaveFromRight = x > rect.right - rect.width / 2;\n      const cursorLeaveFromBottom = y > rect.bottom - rect.height / 2;\n      const isOverReferenceRect = isInside(clientPoint, refRect);\n      if (isOverFloatingEl) {\n        hasLanded = true;\n        if (!isLeave) {\n          return;\n        }\n      }\n      if (isOverReferenceEl) {\n        hasLanded = false;\n      }\n      if (isOverReferenceEl && !isLeave) {\n        hasLanded = true;\n        return;\n      }\n\n      // Prevent overlapping floating element from being stuck in an open-close\n      // loop: https://github.com/floating-ui/floating-ui/issues/1910\n      if (isLeave && isElement(event.relatedTarget) && contains(elements.floating, event.relatedTarget)) {\n        return;\n      }\n\n      // If any nested child is open, abort.\n      if (tree && getChildren(tree.nodesRef.current, nodeId).some(_ref2 => {\n        let {\n          context\n        } = _ref2;\n        return context == null ? void 0 : context.open;\n      })) {\n        return;\n      }\n\n      // If the pointer is leaving from the opposite side, the \"buffer\" logic\n      // creates a point where the floating element remains open, but should be\n      // ignored.\n      // A constant of 1 handles floating point rounding errors.\n      if (side === 'top' && y >= refRect.bottom - 1 || side === 'bottom' && y <= refRect.top + 1 || side === 'left' && x >= refRect.right - 1 || side === 'right' && x <= refRect.left + 1) {\n        return close();\n      }\n\n      // Ignore when the cursor is within the rectangular trough between the\n      // two elements. Since the triangle is created from the cursor point,\n      // which can start beyond the ref element's edge, traversing back and\n      // forth from the ref to the floating element can cause it to close. This\n      // ensures it always remains open in that case.\n      let rectPoly = [];\n      switch (side) {\n        case 'top':\n          rectPoly = [[rect.left, refRect.top + 1], [rect.left, rect.bottom - 1], [rect.right, rect.bottom - 1], [rect.right, refRect.top + 1]];\n          isInsideRect = clientX >= rect.left && clientX <= rect.right && clientY >= rect.top && clientY <= refRect.top + 1;\n          break;\n        case 'bottom':\n          rectPoly = [[rect.left, rect.top + 1], [rect.left, refRect.bottom - 1], [rect.right, refRect.bottom - 1], [rect.right, rect.top + 1]];\n          isInsideRect = clientX >= rect.left && clientX <= rect.right && clientY >= refRect.bottom - 1 && clientY <= rect.bottom;\n          break;\n        case 'left':\n          rectPoly = [[rect.right - 1, rect.bottom], [rect.right - 1, rect.top], [refRect.left + 1, rect.top], [refRect.left + 1, rect.bottom]];\n          isInsideRect = clientX >= rect.left && clientX <= refRect.left + 1 && clientY >= rect.top && clientY <= rect.bottom;\n          break;\n        case 'right':\n          rectPoly = [[refRect.right - 1, rect.bottom], [refRect.right - 1, rect.top], [rect.left + 1, rect.top], [rect.left + 1, rect.bottom]];\n          isInsideRect = clientX >= refRect.right - 1 && clientX <= rect.right && clientY >= rect.top && clientY <= rect.bottom;\n          break;\n      }\n      function getPolygon(_ref3) {\n        let [x, y] = _ref3;\n        const isFloatingWider = rect.width > refRect.width;\n        const isFloatingTaller = rect.height > refRect.height;\n        switch (side) {\n          case 'top':\n            {\n              const cursorPointOne = [isFloatingWider ? x + buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y + buffer + 1];\n              const cursorPointTwo = [isFloatingWider ? x - buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y + buffer + 1];\n              const commonPoints = [[rect.left, cursorLeaveFromRight ? rect.bottom - buffer : isFloatingWider ? rect.bottom - buffer : rect.top], [rect.right, cursorLeaveFromRight ? isFloatingWider ? rect.bottom - buffer : rect.top : rect.bottom - buffer]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n          case 'bottom':\n            {\n              const cursorPointOne = [isFloatingWider ? x + buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y - buffer];\n              const cursorPointTwo = [isFloatingWider ? x - buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y - buffer];\n              const commonPoints = [[rect.left, cursorLeaveFromRight ? rect.top + buffer : isFloatingWider ? rect.top + buffer : rect.bottom], [rect.right, cursorLeaveFromRight ? isFloatingWider ? rect.top + buffer : rect.bottom : rect.top + buffer]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n          case 'left':\n            {\n              const cursorPointOne = [x + buffer + 1, isFloatingTaller ? y + buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const cursorPointTwo = [x + buffer + 1, isFloatingTaller ? y - buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const commonPoints = [[cursorLeaveFromBottom ? rect.right - buffer : isFloatingTaller ? rect.right - buffer : rect.left, rect.top], [cursorLeaveFromBottom ? isFloatingTaller ? rect.right - buffer : rect.left : rect.right - buffer, rect.bottom]];\n              return [...commonPoints, cursorPointOne, cursorPointTwo];\n            }\n          case 'right':\n            {\n              const cursorPointOne = [x - buffer, isFloatingTaller ? y + buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const cursorPointTwo = [x - buffer, isFloatingTaller ? y - buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const commonPoints = [[cursorLeaveFromBottom ? rect.left + buffer : isFloatingTaller ? rect.left + buffer : rect.right, rect.top], [cursorLeaveFromBottom ? isFloatingTaller ? rect.left + buffer : rect.right : rect.left + buffer, rect.bottom]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n        }\n      }\n      const poly = isInsideRect ? rectPoly : getPolygon([x, y]);\n      if (isInsideRect) {\n        return;\n      } else if (hasLanded && !isOverReferenceRect) {\n        return close();\n      }\n      if (!isLeave && requireIntent) {\n        const cursorSpeed = getCursorSpeed(event.clientX, event.clientY);\n        const cursorSpeedThreshold = 0.1;\n        if (cursorSpeed !== null && cursorSpeed < cursorSpeedThreshold) {\n          return close();\n        }\n      }\n      if (!isPointInPolygon([clientX, clientY], poly)) {\n        close();\n      } else if (!hasLanded && requireIntent) {\n        timeoutId = window.setTimeout(close, 40);\n      }\n    };\n  };\n  fn.__options = {\n    blockPointerEvents\n  };\n  return fn;\n}\n\n/**\n * Provides data to position a floating element and context to add interactions.\n * @see https://floating-ui.com/docs/react\n */\nfunction useFloating(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    open = false,\n    onOpenChange: unstable_onOpenChange,\n    nodeId\n  } = options;\n  const position = useFloating$1(options);\n  const tree = useFloatingTree();\n  const domReferenceRef = React.useRef(null);\n  const dataRef = React.useRef({});\n  const events = React.useState(() => createPubSub())[0];\n  const floatingId = useId();\n  const [domReference, setDomReference] = React.useState(null);\n  const setPositionReference = React.useCallback(node => {\n    const positionReference = isElement(node) ? {\n      getBoundingClientRect: () => node.getBoundingClientRect(),\n      contextElement: node\n    } : node;\n    position.refs.setReference(positionReference);\n  }, [position.refs]);\n  const setReference = React.useCallback(node => {\n    if (isElement(node) || node === null) {\n      domReferenceRef.current = node;\n      setDomReference(node);\n    }\n\n    // Backwards-compatibility for passing a virtual element to `reference`\n    // after it has set the DOM reference.\n    if (isElement(position.refs.reference.current) || position.refs.reference.current === null ||\n    // Don't allow setting virtual elements using the old technique back to\n    // `null` to support `positionReference` + an unstable `reference`\n    // callback ref.\n    node !== null && !isElement(node)) {\n      position.refs.setReference(node);\n    }\n  }, [position.refs]);\n  const refs = React.useMemo(() => ({\n    ...position.refs,\n    setReference,\n    setPositionReference,\n    domReference: domReferenceRef\n  }), [position.refs, setReference, setPositionReference]);\n  const elements = React.useMemo(() => ({\n    ...position.elements,\n    domReference: domReference\n  }), [position.elements, domReference]);\n  const onOpenChange = useEvent(unstable_onOpenChange);\n  const context = React.useMemo(() => ({\n    ...position,\n    refs,\n    elements,\n    dataRef,\n    nodeId,\n    floatingId,\n    events,\n    open,\n    onOpenChange\n  }), [position, nodeId, floatingId, events, open, onOpenChange, refs, elements]);\n  index(() => {\n    const node = tree == null ? void 0 : tree.nodesRef.current.find(node => node.id === nodeId);\n    if (node) {\n      node.context = context;\n    }\n  });\n  return React.useMemo(() => ({\n    ...position,\n    context,\n    refs,\n    elements,\n    reference: setReference,\n    positionReference: setPositionReference\n  }), [position, refs, elements, context, setReference, setPositionReference]);\n}\n\nfunction mergeProps(userProps, propsList, elementKey) {\n  const map = new Map();\n  return {\n    ...(elementKey === 'floating' && {\n      tabIndex: -1\n    }),\n    ...userProps,\n    ...propsList.map(value => value ? value[elementKey] : null).concat(userProps).reduce((acc, props) => {\n      if (!props) {\n        return acc;\n      }\n      Object.entries(props).forEach(_ref => {\n        let [key, value] = _ref;\n        if (key.indexOf('on') === 0) {\n          if (!map.has(key)) {\n            map.set(key, []);\n          }\n          if (typeof value === 'function') {\n            var _map$get;\n            (_map$get = map.get(key)) == null ? void 0 : _map$get.push(value);\n            acc[key] = function () {\n              var _map$get2;\n              for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n              }\n              return (_map$get2 = map.get(key)) == null ? void 0 : _map$get2.map(fn => fn(...args)).find(val => val !== undefined);\n            };\n          }\n        } else {\n          acc[key] = value;\n        }\n      });\n      return acc;\n    }, {})\n  };\n}\nconst useInteractions = function (propsList) {\n  if (propsList === void 0) {\n    propsList = [];\n  }\n  // The dependencies are a dynamic array, so we can't use the linter's\n  // suggestion to add it to the deps array.\n  const deps = propsList;\n  const getReferenceProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'reference'),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  deps);\n  const getFloatingProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'floating'),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  deps);\n  const getItemProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'item'),\n  // Granularly check for `item` changes, because the `getItemProps` getter\n  // should be as referentially stable as possible since it may be passed as\n  // a prop to many components. All `item` key values must therefore be\n  // memoized.\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  propsList.map(key => key == null ? void 0 : key.item));\n  return React.useMemo(() => ({\n    getReferenceProps,\n    getFloatingProps,\n    getItemProps\n  }), [getReferenceProps, getFloatingProps, getItemProps]);\n};\n\nexport { FloatingArrow, FloatingDelayGroup, FloatingFocusManager, FloatingList, FloatingNode, FloatingOverlay, FloatingPortal, FloatingTree, inner, safePolygon, useClick, useClientPoint, useDelayGroup, useDelayGroupContext, useDismiss, useFloating, useFloatingNodeId, useFloatingParentNodeId, useFloatingPortalNode, useFloatingTree, useFocus, useHover, useId, useInnerOffset, useInteractions, useListItem, useListNavigation, useMergeRefs, useRole, useTransitionStatus, useTransitionStyles, useTypeahead };\n","import type { FloatingPosition, FloatingSide, FloatingPlacement } from '../types';\n\nexport function getFloatingPosition(\n  dir: 'rtl' | 'ltr',\n  position: FloatingPosition\n): FloatingPosition {\n  if (dir === 'rtl' && (position.includes('right') || position.includes('left'))) {\n    const [side, placement] = position.split('-') as [FloatingSide, FloatingPlacement];\n    const flippedPosition = side === 'right' ? 'left' : 'right';\n    return placement === undefined ? flippedPosition : `${flippedPosition}-${placement}`;\n  }\n\n  return position;\n}\n","import React, { forwardRef } from \"react\";\nimport { useDirection } from \"@raikou/core\";\nimport { getArrowPositionStyles } from \"./get-arrow-position-styles\";\nimport { ArrowPosition, FloatingPosition } from \"../types\";\n\ninterface FloatingArrowProps extends React.ComponentPropsWithoutRef<\"div\"> {\n  position: FloatingPosition;\n  arrowSize: number;\n  arrowOffset: number;\n  arrowRadius: number;\n  arrowPosition: ArrowPosition;\n  arrowX: number;\n  arrowY: number;\n  visible: boolean | undefined;\n}\n\nexport const FloatingArrow = forwardRef<HTMLDivElement, FloatingArrowProps>(\n  (\n    {\n      position,\n      arrowSize,\n      arrowOffset,\n      arrowRadius,\n      arrowPosition,\n      visible,\n      arrowX,\n      arrowY,\n      style,\n      ...others\n    },\n    ref\n  ) => {\n    const { dir } = useDirection();\n    if (!visible) {\n      return null;\n    }\n\n    return (\n      <div\n        {...others}\n        ref={ref}\n        style={{\n          ...style,\n          ...getArrowPositionStyles({\n            position,\n            arrowSize,\n            arrowOffset,\n            arrowRadius,\n            arrowPosition,\n            dir,\n            arrowX,\n            arrowY,\n          }),\n        }}\n      />\n    );\n  }\n);\n\nFloatingArrow.displayName = \"@raikou/core/FloatingArrow\";\n","import { rem } from \"@raikou/core\";\nimport type {\n  FloatingPosition,\n  FloatingSide,\n  FloatingPlacement,\n  ArrowPosition,\n} from \"../../types\";\n\nfunction horizontalSide(\n  placement: FloatingPlacement | \"center\",\n  arrowY: number,\n  arrowOffset: number,\n  arrowPosition: ArrowPosition\n) {\n  if (placement === \"center\" || arrowPosition === \"center\") {\n    return { top: arrowY };\n  }\n\n  if (placement === \"end\") {\n    return { bottom: arrowOffset };\n  }\n\n  if (placement === \"start\") {\n    return { top: arrowOffset };\n  }\n\n  return {};\n}\n\nfunction verticalSide(\n  placement: FloatingPlacement | \"center\",\n  arrowX: number,\n  arrowOffset: number,\n  arrowPosition: ArrowPosition,\n  dir: \"rtl\" | \"ltr\"\n) {\n  if (placement === \"center\" || arrowPosition === \"center\") {\n    return { left: arrowX };\n  }\n\n  if (placement === \"end\") {\n    return { [dir === \"ltr\" ? \"right\" : \"left\"]: arrowOffset };\n  }\n\n  if (placement === \"start\") {\n    return { [dir === \"ltr\" ? \"left\" : \"right\"]: arrowOffset };\n  }\n\n  return {};\n}\n\nconst radiusByFloatingSide: Record<\n  FloatingSide,\n  keyof Pick<\n    React.CSSProperties,\n    | \"borderBottomLeftRadius\"\n    | \"borderBottomRightRadius\"\n    | \"borderTopLeftRadius\"\n    | \"borderTopRightRadius\"\n  >\n> = {\n  bottom: \"borderTopLeftRadius\",\n  left: \"borderTopRightRadius\",\n  right: \"borderBottomLeftRadius\",\n  top: \"borderBottomRightRadius\",\n};\n\nexport function getArrowPositionStyles({\n  position,\n  arrowSize,\n  arrowOffset,\n  arrowRadius,\n  arrowPosition,\n  arrowX,\n  arrowY,\n  dir,\n}: {\n  position: FloatingPosition;\n  arrowSize: number;\n  arrowOffset: number;\n  arrowRadius: number;\n  arrowPosition: ArrowPosition;\n  arrowX: number;\n  arrowY: number;\n  dir: \"rtl\" | \"ltr\";\n}) {\n  const [side, placement = \"center\"] = position.split(\"-\") as [\n    FloatingSide,\n    FloatingPlacement\n  ];\n  const baseStyles = {\n    width: rem(arrowSize),\n    height: rem(arrowSize),\n    transform: \"rotate(45deg)\",\n    position: \"absolute\",\n    [radiusByFloatingSide[side]]: rem(arrowRadius),\n  };\n\n  const arrowPlacement = rem(-arrowSize / 2);\n\n  if (side === \"left\") {\n    return {\n      ...baseStyles,\n      ...horizontalSide(placement, arrowY, arrowOffset, arrowPosition),\n      right: arrowPlacement,\n      borderLeftColor: \"transparent\",\n      borderBottomColor: \"transparent\",\n    };\n  }\n\n  if (side === \"right\") {\n    return {\n      ...baseStyles,\n      ...horizontalSide(placement, arrowY, arrowOffset, arrowPosition),\n      left: arrowPlacement,\n      borderRightColor: \"transparent\",\n      borderTopColor: \"transparent\",\n    };\n  }\n\n  if (side === \"top\") {\n    return {\n      ...baseStyles,\n      ...verticalSide(placement, arrowX, arrowOffset, arrowPosition, dir),\n      bottom: arrowPlacement,\n      borderTopColor: \"transparent\",\n      borderLeftColor: \"transparent\",\n    };\n  }\n\n  if (side === \"bottom\") {\n    return {\n      ...baseStyles,\n      ...verticalSide(placement, arrowX, arrowOffset, arrowPosition, dir),\n      top: arrowPlacement,\n      borderBottomColor: \"transparent\",\n      borderRightColor: \"transparent\",\n    };\n  }\n\n  return {};\n}\n","import { useDidUpdate, useUncontrolled } from \"@raikou/hooks\";\nimport {\n  useFloating,\n  shift,\n  flip,\n  arrow,\n  offset,\n  size,\n  Middleware,\n  inline,\n  limitShift,\n  UseFloatingReturn,\n} from \"@floating-ui/react\";\nimport {\n  FloatingAxesOffsets,\n  FloatingPosition,\n  useFloatingAutoUpdate,\n} from \"../../Floating/src\";\nimport { PopoverWidth, PopoverMiddlewares } from \"./Popover.types\";\n\ninterface UsePopoverOptions {\n  offset: number | FloatingAxesOffsets;\n  position: FloatingPosition;\n  positionDependencies: any[] | undefined;\n  onPositionChange?: (position: FloatingPosition) => void;\n  opened: boolean | undefined;\n  defaultOpened: boolean | undefined;\n  onChange?: (opened: boolean) => void;\n  onClose?: () => void;\n  onOpen?: () => void;\n  width: PopoverWidth;\n  middlewares: PopoverMiddlewares | undefined;\n  arrowRef: React.RefObject<HTMLDivElement>;\n  arrowOffset: number;\n}\n\nfunction getPopoverMiddlewares(\n  options: UsePopoverOptions,\n  getFloating: () => UseFloatingReturn<Element>,\n) {\n  const middlewares: Middleware[] = [offset(options.offset)];\n\n  if (options.middlewares?.shift) {\n    middlewares.push(shift({ limiter: limitShift() }));\n  }\n\n  if (options.middlewares?.flip) {\n    middlewares.push(flip());\n  }\n\n  if (options.middlewares?.inline) {\n    middlewares.push(inline());\n  }\n\n  middlewares.push(\n    arrow({ element: options.arrowRef, padding: options.arrowOffset }),\n  );\n\n  if (options.middlewares?.size || options.width === \"target\") {\n    middlewares.push(\n      size({\n        apply({ rects, availableWidth, availableHeight }) {\n          const floating = getFloating();\n          const styles = floating.refs.floating.current?.style ?? {};\n\n          if (options.middlewares?.size) {\n            Object.assign(styles, {\n              maxWidth: `${availableWidth}px`,\n              maxHeight: `${availableHeight}px`,\n            });\n          }\n\n          if (options.width === \"target\") {\n            Object.assign(styles, {\n              width: `${rects.reference.width}px`,\n            });\n          }\n        },\n      }),\n    );\n  }\n\n  return middlewares;\n}\n\nexport function usePopover(options: UsePopoverOptions) {\n  const [_opened, setOpened] = useUncontrolled({\n    value: options.opened,\n    defaultValue: options.defaultOpened,\n    finalValue: false,\n    onChange: options.onChange,\n  });\n\n  const onClose = () => {\n    if (_opened) {\n      options.onClose?.();\n      setOpened(false);\n    }\n  };\n\n  const onToggle = () => {\n    if (_opened) {\n      options.onClose?.();\n      setOpened(false);\n    } else {\n      options.onOpen?.();\n      setOpened(true);\n    }\n  };\n\n  const floating: UseFloatingReturn<Element> = useFloating({\n    placement: options.position,\n    middleware: getPopoverMiddlewares(options, () => floating),\n  });\n\n  useFloatingAutoUpdate({\n    opened: options.opened,\n    position: options.position,\n    positionDependencies: options.positionDependencies || [],\n    floating,\n  });\n\n  useDidUpdate(() => {\n    options.onPositionChange?.(floating.placement);\n  }, [floating.placement]);\n\n  useDidUpdate(() => {\n    if (!options.opened) {\n      options.onClose?.();\n    } else {\n      options.onOpen?.();\n    }\n  }, [options.opened]);\n\n  return {\n    floating,\n    controlled: typeof options.opened === \"boolean\",\n    opened: _opened,\n    onClose,\n    onToggle,\n  };\n}\n","import React, { createContext, useContext } from 'react';\n\nexport function createSafeContext<ContextValue>(errorMessage: string) {\n  const Context = createContext<ContextValue | null>(null);\n\n  const useSafeContext = () => {\n    const ctx = useContext(Context);\n\n    if (ctx === null) {\n      throw new Error(errorMessage);\n    }\n\n    return ctx;\n  };\n\n  const Provider = ({ children, value }: { value: ContextValue; children: React.ReactNode }) => (\n    <Context.Provider value={value}>{children}</Context.Provider>\n  );\n\n  return [Provider, useSafeContext] as const;\n}\n","import React, { createContext, useContext } from 'react';\n\nexport function createOptionalContext<ContextValue>(initialValue: ContextValue | null = null) {\n  const Context = createContext<ContextValue | null>(initialValue);\n\n  const useOptionalContext = () => useContext(Context);\n\n  const Provider = ({ children, value }: { value: ContextValue; children: React.ReactNode }) => (\n    <Context.Provider value={value}>{children}</Context.Provider>\n  );\n\n  return [Provider, useOptionalContext] as const;\n}\n","export function findElementAncestor(element: HTMLElement, selector: string) {\n  let _element: HTMLElement | null = element;\n  // eslint-disable-next-line no-cond-assign\n  while ((_element = _element.parentElement) && !_element.matches(selector));\n  return _element;\n}\n","import { findElementAncestor } from \"../../../core/src/core/utils/find-element-ancestor/find-element-ancestor\";\n\nexport function getContextItemIndex(\n  elementSelector: string,\n  parentSelector: string,\n  node: HTMLElement,\n) {\n  if (!node) {\n    return null;\n  }\n\n  return Array.from(\n    findElementAncestor(node, parentSelector)?.querySelectorAll(\n      elementSelector,\n    ) || [],\n  ).findIndex((element) => element === node);\n}\n","import { useState } from 'react';\n\nexport function useHovered() {\n  const [hovered, setHovered] = useState<number | null>(-1);\n  const resetHovered = () => setHovered(-1);\n  return [hovered, { setHovered, resetHovered }] as const;\n}\n","import { useEffect, useLayoutEffect } from 'react';\n\nfunction dispatchEvent<T>(type: string, detail?: T) {\n  window.dispatchEvent(new CustomEvent(type, { detail }));\n}\n\nconst useIsomorphicEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nexport function createUseExternalEvents<Handlers extends Record<string, (detail: any) => void>>(\n  prefix: string\n) {\n  function _useExternalEvents(events: Handlers) {\n    const handlers = Object.keys(events).reduce<any>((acc, eventKey) => {\n      acc[`${prefix}:${eventKey}`] = (event: CustomEvent) => events[eventKey](event.detail);\n      return acc;\n    }, {});\n\n    useIsomorphicEffect(() => {\n      Object.keys(handlers).forEach((eventKey) => {\n        window.removeEventListener(eventKey, handlers[eventKey]);\n        window.addEventListener(eventKey, handlers[eventKey]);\n      });\n\n      return () =>\n        Object.keys(handlers).forEach((eventKey) => {\n          window.removeEventListener(eventKey, handlers[eventKey]);\n        });\n    }, [handlers]);\n  }\n\n  function createEvent<EventKey extends keyof Handlers>(event: EventKey) {\n    type Parameter = Parameters<Handlers[EventKey]>[0];\n\n    return (...payload: Parameter extends undefined ? [undefined?] : [Parameter]) =>\n      dispatchEvent(`${prefix}:${String(event)}`, payload[0]);\n  }\n\n  return [_useExternalEvents, createEvent] as const;\n}\n","import {\n  RaikouShadow,\n  Styles,\n  ClassNames,\n  RaikouRadius,\n  GetStylesApi,\n} from \"@raikou/core\";\nimport { createSafeContext } from \"../../_utils\";\nimport { FloatingPosition, ArrowPosition } from \"../../Floating/src\";\nimport { TransitionOverride } from \"../../Transition/src\";\nimport { PortalProps } from \"../../Portal/src\";\nimport { PopoverWidth } from \"./Popover.types\";\nimport type { PopoverFactory } from \"./Popover\";\n\ninterface PopoverContext {\n  x: number;\n  y: number;\n  arrowX: number;\n  arrowY: number;\n  arrowRef: React.RefObject<HTMLDivElement>;\n  opened: boolean;\n  transitionProps?: TransitionOverride;\n  reference: (node: HTMLElement) => void;\n  floating: (node: HTMLElement) => void;\n  width?: PopoverWidth;\n  withArrow: boolean | undefined;\n  arrowSize: number;\n  arrowOffset: number;\n  arrowRadius: number;\n  arrowPosition: ArrowPosition;\n  trapFocus: boolean | undefined;\n  placement: FloatingPosition;\n  withinPortal: boolean | undefined;\n  portalProps?: Omit<PortalProps, \"children\">;\n  closeOnEscape: boolean | undefined;\n  zIndex: React.CSSProperties[\"zIndex\"];\n  radius?: RaikouRadius | undefined;\n  shadow?: RaikouShadow | undefined;\n  onClose?: () => void;\n  getDropdownId: () => string;\n  getTargetId: () => string;\n  controlled: boolean;\n  onToggle: () => void;\n  withRoles: boolean | undefined;\n  targetProps: Record<string, any>;\n  disabled: boolean | undefined;\n  returnFocus: boolean | undefined;\n  classNames: ClassNames<PopoverFactory> | undefined;\n  styles: Styles<PopoverFactory> | undefined;\n  unstyled: boolean | undefined;\n  __staticSelector: string;\n  variant: string | undefined;\n  keepMounted: boolean | undefined;\n  getStyles: GetStylesApi<PopoverFactory>;\n}\n\nexport const [PopoverContextProvider, usePopoverContext] =\n  createSafeContext<PopoverContext>(\n    \"Popover component was not found in the tree\",\n  );\n","import React, { cloneElement } from \"react\";\nimport cx from \"clsx\";\nimport { useMergedRef } from \"@raikou/hooks\";\nimport { isElement, useProps, factory, Factory } from \"@raikou/core\";\nimport { usePopoverContext } from \"../Popover.context\";\n\nexport interface PopoverTargetProps {\n  /** Target element */\n  children: React.ReactNode;\n\n  /** Key of the prop that should be used to access element ref */\n  refProp?: string;\n\n  /** Popup accessible type, `'dialog'` by default */\n  popupType?: string;\n}\n\nconst defaultProps: Partial<PopoverTargetProps> = {\n  refProp: \"ref\",\n  popupType: \"dialog\",\n};\n\nexport type PopoverTargetFactory = Factory<{\n  props: PopoverTargetProps;\n  ref: HTMLElement;\n  compound: true;\n}>;\n\nexport const PopoverTarget = factory<PopoverTargetFactory>((props, ref) => {\n  const { children, refProp, popupType, ...others } = useProps(\n    \"PopoverTarget\",\n    defaultProps,\n    props\n  );\n\n  if (!isElement(children)) {\n    throw new Error(\n      \"Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported\"\n    );\n  }\n\n  const forwardedProps: any = others;\n  const ctx = usePopoverContext();\n  const targetRef = useMergedRef(ctx.reference, (children as any).ref, ref);\n\n  const accessibleProps = ctx.withRoles\n    ? {\n        \"aria-haspopup\": popupType,\n        \"aria-expanded\": ctx.opened,\n        \"aria-controls\": ctx.getDropdownId(),\n        id: ctx.getTargetId(),\n      }\n    : {};\n\n  return cloneElement(children, {\n    ...forwardedProps,\n    ...accessibleProps,\n    ...ctx.targetProps,\n    className: cx(\n      ctx.targetProps.className,\n      forwardedProps.className,\n      children.props.className\n    ),\n    [refProp!]: targetRef,\n    ...(!ctx.controlled ? { onClick: ctx.onToggle } : null),\n  });\n});\n\nPopoverTarget.displayName = \"@raikou/core/PopoverTarget\";\n","import React from \"react\";\nimport { useFocusReturn, useMergedRef } from \"@raikou/hooks\";\nimport {\n  Box,\n  BoxProps,\n  CompoundStylesApiProps,\n  factory,\n  ElementProps,\n  useProps,\n  rem,\n  closeOnEscape,\n  Factory,\n} from \"@raikou/core\";\nimport { OptionalPortal } from \"../../../Portal/src\";\nimport { Transition } from \"../../../Transition/src\";\nimport { FocusTrap } from \"../../../FocusTrap/src\";\nimport { FloatingArrow } from \"../../../Floating/src\";\nimport type { PopoverStylesNames } from \"../Popover\";\nimport { usePopoverContext } from \"../Popover.context\";\n\nexport interface PopoverDropdownProps\n  extends BoxProps,\n    CompoundStylesApiProps<PopoverDropdownFactory>,\n    ElementProps<\"div\"> {}\n\nexport type PopoverDropdownFactory = Factory<{\n  props: PopoverDropdownProps;\n  ref: HTMLDivElement;\n  stylesNames: PopoverStylesNames;\n  compound: true;\n}>;\n\nconst defaultProps: Partial<PopoverDropdownProps> = {};\n\nexport const PopoverDropdown = factory<PopoverDropdownFactory>(\n  (_props, ref) => {\n    const props = useProps(\"PopoverDropdown\", defaultProps, _props);\n    const {\n      className,\n      style,\n      vars,\n      children,\n      onKeyDownCapture,\n      variant,\n      classNames,\n      styles,\n      ...others\n    } = props;\n\n    const ctx = usePopoverContext();\n\n    const returnFocus = useFocusReturn({\n      opened: ctx.opened,\n      shouldReturnFocus: ctx.returnFocus,\n    });\n\n    const accessibleProps = ctx.withRoles\n      ? {\n          \"aria-labelledby\": ctx.getTargetId(),\n          id: ctx.getDropdownId(),\n          role: \"dialog\",\n          tabIndex: -1,\n        }\n      : {};\n\n    const mergedRef = useMergedRef(ref, ctx.floating);\n\n    if (ctx.disabled) {\n      return null;\n    }\n\n    return (\n      <OptionalPortal {...ctx.portalProps} withinPortal={ctx.withinPortal}>\n        <Transition\n          mounted={ctx.opened}\n          {...ctx.transitionProps}\n          transition={ctx.transitionProps?.transition || \"fade\"}\n          duration={ctx.transitionProps?.duration ?? 150}\n          keepMounted={ctx.keepMounted}\n          exitDuration={\n            typeof ctx.transitionProps?.exitDuration === \"number\"\n              ? ctx.transitionProps.exitDuration\n              : ctx.transitionProps?.duration\n          }\n        >\n          {(transitionStyles) => (\n            <FocusTrap active={ctx.trapFocus}>\n              <Box\n                {...accessibleProps}\n                {...others}\n                variant={variant}\n                ref={mergedRef}\n                onKeyDownCapture={closeOnEscape(ctx.onClose, {\n                  active: ctx.closeOnEscape,\n                  onTrigger: returnFocus,\n                  onKeyDown: onKeyDownCapture,\n                })}\n                data-position={ctx.placement}\n                {...ctx.getStyles(\"dropdown\", {\n                  className,\n                  props,\n                  classNames,\n                  styles,\n                  style: [\n                    {\n                      ...transitionStyles,\n                      zIndex: ctx.zIndex,\n                      top: ctx.y ?? 0,\n                      left: ctx.x ?? 0,\n                      width:\n                        ctx.width === \"target\" ? undefined : rem(ctx.width),\n                    },\n                    style,\n                  ],\n                })}\n              >\n                {children}\n\n                <FloatingArrow\n                  ref={ctx.arrowRef}\n                  arrowX={ctx.arrowX}\n                  arrowY={ctx.arrowY}\n                  visible={ctx.withArrow}\n                  position={ctx.placement}\n                  arrowSize={ctx.arrowSize}\n                  arrowRadius={ctx.arrowRadius}\n                  arrowOffset={ctx.arrowOffset}\n                  arrowPosition={ctx.arrowPosition}\n                  {...ctx.getStyles(\"arrow\", {\n                    props,\n                    classNames,\n                    styles,\n                  })}\n                />\n              </Box>\n            </FocusTrap>\n          )}\n        </Transition>\n      </OptionalPortal>\n    );\n  },\n);\n\nPopoverDropdown.displayName = \"@raikou/core/PopoverDropdown\";\n","import React, { useRef, useState, forwardRef } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { useIsomorphicEffect, assignRef } from \"@raikou/hooks\";\nimport { useProps } from \"@raikou/core\";\n\nfunction createPortalNode(props: React.ComponentPropsWithoutRef<\"div\">) {\n  const node = document.createElement(\"div\");\n  node.setAttribute(\"data-portal\", \"true\");\n  // eslint-disable-next-line\n  typeof props.className === \"string\" &&\n    node.classList.add(...props.className.split(\" \"));\n  // eslint-disable-next-line\n  typeof props.style === \"object\" && Object.assign(node.style, props.style);\n  // eslint-disable-next-line\n  typeof props.id === \"string\" && node.setAttribute(\"id\", props.id);\n  return node;\n}\n\nexport interface PortalProps extends React.ComponentPropsWithoutRef<\"div\"> {\n  /** Portal children, for example, custom modal or popover */\n  children: React.ReactNode;\n\n  /** Element inside which portal should be created, by default a new div element is created and appended to the `document.body` */\n  target?: HTMLElement | string;\n}\n\nconst defaultProps: Partial<PortalProps> = {};\n\n// @ts-ignore\nexport const Portal = forwardRef<HTMLDivElement, PortalProps>((props, ref) => {\n  const { children, target, ...others } = useProps(\n    \"Portal\",\n    defaultProps,\n    props,\n  );\n\n  const [mounted, setMounted] = useState(false);\n  const nodeRef = useRef<HTMLElement | null>(null);\n\n  useIsomorphicEffect(() => {\n    setMounted(true);\n    nodeRef.current = !target\n      ? createPortalNode(others)\n      : typeof target === \"string\"\n      ? document.querySelector(target)\n      : target;\n\n    assignRef(ref, nodeRef.current);\n\n    if (!target && nodeRef.current) {\n      document.body.appendChild(nodeRef.current);\n    }\n\n    return () => {\n      if (!target && nodeRef.current) {\n        document.body.removeChild(nodeRef.current);\n      }\n    };\n  }, [target]);\n\n  if (!mounted || !nodeRef.current) {\n    return null;\n  }\n\n  return createPortal(<>{children}</>, nodeRef.current);\n});\n\nPortal.displayName = \"@raikou/core/Portal\";\n","import React from \"react\";\nimport { Portal, PortalProps } from \"./Portal\";\n\nexport interface OptionalPortalProps extends PortalProps {\n  /** Determines whether children should be rendered inside `<Portal />` */\n  withinPortal?: boolean;\n}\n\nexport function OptionalPortal({\n  withinPortal = true,\n  children,\n  ...others\n}: OptionalPortalProps) {\n  if (withinPortal) {\n    return <Portal {...others}>{children}</Portal>;\n  }\n\n  return <>{children}</>;\n}\n\nOptionalPortal.displayName = \"@raikou/core/OptionalPortal\";\n","import React from \"react\";\nimport { rem } from \"@raikou/core\";\n\nexport interface RaikouTransitionStyles {\n  common?: React.CSSProperties;\n  in: React.CSSProperties;\n  out: React.CSSProperties;\n  transitionProperty: React.CSSProperties[\"transitionProperty\"];\n}\n\nexport type RaikouTransitionName =\n  | \"fade\"\n  | \"skew-up\"\n  | \"skew-down\"\n  | \"rotate-right\"\n  | \"rotate-left\"\n  | \"slide-down\"\n  | \"slide-up\"\n  | \"slide-right\"\n  | \"slide-left\"\n  | \"scale-y\"\n  | \"scale-x\"\n  | \"scale\"\n  | \"pop\"\n  | \"pop-top-left\"\n  | \"pop-top-right\"\n  | \"pop-bottom-left\"\n  | \"pop-bottom-right\";\n\nexport type RaikouTransition = RaikouTransitionName | RaikouTransitionStyles;\n\nconst popIn = {\n  in: { opacity: 1, transform: \"scale(1)\" },\n  out: { opacity: 0, transform: `scale(.9) translateY(${rem(10)})` },\n  transitionProperty: \"transform, opacity\",\n};\n\nexport const transitions: Record<RaikouTransitionName, RaikouTransitionStyles> =\n  {\n    fade: {\n      in: { opacity: 1 },\n      out: { opacity: 0 },\n      transitionProperty: \"opacity\",\n    },\n\n    scale: {\n      in: { opacity: 1, transform: \"scale(1)\" },\n      out: { opacity: 0, transform: \"scale(0)\" },\n      common: { transformOrigin: \"top\" },\n      transitionProperty: \"transform, opacity\",\n    },\n\n    \"scale-y\": {\n      in: { opacity: 1, transform: \"scaleY(1)\" },\n      out: { opacity: 0, transform: \"scaleY(0)\" },\n      common: { transformOrigin: \"top\" },\n      transitionProperty: \"transform, opacity\",\n    },\n\n    \"scale-x\": {\n      in: { opacity: 1, transform: \"scaleX(1)\" },\n      out: { opacity: 0, transform: \"scaleX(0)\" },\n      common: { transformOrigin: \"left\" },\n      transitionProperty: \"transform, opacity\",\n    },\n\n    \"skew-up\": {\n      in: { opacity: 1, transform: \"translateY(0) skew(0deg, 0deg)\" },\n      out: {\n        opacity: 0,\n        transform: `translateY(-${rem(20)}) skew(-10deg, -5deg)`,\n      },\n      common: { transformOrigin: \"top\" },\n      transitionProperty: \"transform, opacity\",\n    },\n\n    \"skew-down\": {\n      in: { opacity: 1, transform: \"translateY(0) skew(0deg, 0deg)\" },\n      out: {\n        opacity: 0,\n        transform: `translateY(${rem(20)}) skew(-10deg, -5deg)`,\n      },\n      common: { transformOrigin: \"bottom\" },\n      transitionProperty: \"transform, opacity\",\n    },\n\n    \"rotate-left\": {\n      in: { opacity: 1, transform: \"translateY(0) rotate(0deg)\" },\n      out: { opacity: 0, transform: `translateY(${rem(20)}) rotate(-5deg)` },\n      common: { transformOrigin: \"bottom\" },\n      transitionProperty: \"transform, opacity\",\n    },\n\n    \"rotate-right\": {\n      in: { opacity: 1, transform: \"translateY(0) rotate(0deg)\" },\n      out: { opacity: 0, transform: `translateY(${rem(20)}) rotate(5deg)` },\n      common: { transformOrigin: \"top\" },\n      transitionProperty: \"transform, opacity\",\n    },\n\n    \"slide-down\": {\n      in: { opacity: 1, transform: \"translateY(0)\" },\n      out: { opacity: 0, transform: \"translateY(-100%)\" },\n      common: { transformOrigin: \"top\" },\n      transitionProperty: \"transform, opacity\",\n    },\n\n    \"slide-up\": {\n      in: { opacity: 1, transform: \"translateY(0)\" },\n      out: { opacity: 0, transform: \"translateY(100%)\" },\n      common: { transformOrigin: \"bottom\" },\n      transitionProperty: \"transform, opacity\",\n    },\n\n    \"slide-left\": {\n      in: { opacity: 1, transform: \"translateX(0)\" },\n      out: { opacity: 0, transform: \"translateX(100%)\" },\n      common: { transformOrigin: \"left\" },\n      transitionProperty: \"transform, opacity\",\n    },\n\n    \"slide-right\": {\n      in: { opacity: 1, transform: \"translateX(0)\" },\n      out: { opacity: 0, transform: \"translateX(-100%)\" },\n      common: { transformOrigin: \"right\" },\n      transitionProperty: \"transform, opacity\",\n    },\n\n    pop: {\n      ...popIn,\n      common: { transformOrigin: \"center center\" },\n    },\n\n    \"pop-bottom-left\": {\n      ...popIn,\n      common: { transformOrigin: \"bottom left\" },\n    },\n\n    \"pop-bottom-right\": {\n      ...popIn,\n      common: { transformOrigin: \"bottom right\" },\n    },\n\n    \"pop-top-left\": {\n      ...popIn,\n      common: { transformOrigin: \"top left\" },\n    },\n\n    \"pop-top-right\": {\n      ...popIn,\n      common: { transformOrigin: \"top right\" },\n    },\n  };\n","import React from \"react\";\nimport { getTransitionStyles } from \"./get-transition-styles/get-transition-styles\";\nimport { useTransition } from \"./use-transition\";\nimport { RaikouTransition } from \"./transitions\";\n\nexport interface TransitionProps {\n  /** If set element will not be unmounted from the DOM when it is hidden, `display: none` styles will be applied instead */\n  keepMounted?: boolean;\n\n  /** Transition name or object */\n  transition?: RaikouTransition;\n\n  /** Transition duration in ms, `250` by default */\n  duration?: number;\n\n  /** Exit transition duration in ms, `250` by default */\n  exitDuration?: number;\n\n  /** Transition timing function, `theme.transitionTimingFunction` by default */\n  timingFunction?: string;\n\n  /** Determines whether component should be mounted to the DOM */\n  mounted: boolean;\n\n  /** Render function with transition styles argument */\n  children: (styles: React.CSSProperties) => JSX.Element;\n\n  /** Called when exit transition ends */\n  onExited?: () => void;\n\n  /** Called when exit transition starts */\n  onExit?: () => void;\n\n  /** Called when enter transition starts */\n  onEnter?: () => void;\n\n  /** Called when enter transition ends */\n  onEntered?: () => void;\n}\n\nexport type TransitionOverride = Partial<Omit<TransitionProps, \"mounted\">>;\n\nexport function Transition({\n  keepMounted,\n  transition = \"fade\",\n  duration = 250,\n  exitDuration = duration,\n  mounted,\n  children,\n  timingFunction = \"ease\",\n  onExit,\n  onEntered,\n  onEnter,\n  onExited,\n}: TransitionProps) {\n  const { transitionDuration, transitionStatus, transitionTimingFunction } =\n    useTransition({\n      mounted,\n      exitDuration,\n      duration,\n      timingFunction,\n      onExit,\n      onEntered,\n      onEnter,\n      onExited,\n    });\n\n  if (transitionDuration === 0) {\n    return mounted ? (\n      <>{children({})}</>\n    ) : keepMounted ? (\n      children({ display: \"none\" })\n    ) : null;\n  }\n\n  return transitionStatus === \"exited\" ? (\n    keepMounted ? (\n      children({ display: \"none\" })\n    ) : null\n  ) : (\n    <>\n      {children(\n        getTransitionStyles({\n          transition,\n          duration: transitionDuration,\n          state: transitionStatus,\n          timingFunction: transitionTimingFunction,\n        }),\n      )}\n    </>\n  );\n}\n\nTransition.displayName = \"@raikou/core/Transition\";\n","import { RaikouTransition, transitions } from \"../transitions\";\n\nconst transitionStatuses = {\n  entering: \"in\",\n  entered: \"in\",\n  exiting: \"out\",\n  exited: \"out\",\n  \"pre-exiting\": \"out\",\n  \"pre-entering\": \"out\",\n} as const;\n\nexport function getTransitionStyles({\n  transition,\n  state,\n  duration,\n  timingFunction,\n}: {\n  transition: RaikouTransition;\n  state: keyof typeof transitionStatuses;\n  duration: number;\n  timingFunction: React.CSSProperties[\"transitionTimingFunction\"];\n}): React.CSSProperties {\n  const shared = {\n    transitionDuration: `${duration}ms`,\n    transitionTimingFunction: timingFunction,\n  };\n\n  if (typeof transition === \"string\") {\n    if (!(transition in transitions)) {\n      return {};\n    }\n\n    return {\n      transitionProperty: transitions[transition].transitionProperty,\n      ...shared,\n      ...transitions[transition].common,\n      ...transitions[transition][transitionStatuses[state]],\n    };\n  }\n\n  return {\n    transitionProperty: transition.transitionProperty,\n    ...shared,\n    ...transition.common,\n    ...transition[transitionStatuses[state]],\n  };\n}\n","import { useState, useEffect, useRef } from \"react\";\nimport { useReducedMotion, useDidUpdate } from \"@raikou/hooks\";\nimport { useRaikouTheme } from \"@raikou/core\";\n\nexport type TransitionStatus =\n  | \"entered\"\n  | \"exited\"\n  | \"entering\"\n  | \"exiting\"\n  | \"pre-exiting\"\n  | \"pre-entering\";\n\ninterface UseTransition {\n  duration: number;\n  exitDuration: number;\n  timingFunction: string;\n  mounted: boolean;\n  onEnter?: () => void;\n  onExit?: () => void;\n  onEntered?: () => void;\n  onExited?: () => void;\n}\n\nexport function useTransition({\n  duration,\n  exitDuration,\n  timingFunction,\n  mounted,\n  onEnter,\n  onExit,\n  onEntered,\n  onExited,\n}: UseTransition) {\n  const theme = useRaikouTheme();\n  const shouldReduceMotion = useReducedMotion();\n  const reduceMotion = theme.respectReducedMotion ? shouldReduceMotion : false;\n  const [transitionDuration, setTransitionDuration] = useState(\n    reduceMotion ? 0 : duration,\n  );\n  const [transitionStatus, setStatus] = useState<TransitionStatus>(\n    mounted ? \"entered\" : \"exited\",\n  );\n  const timeoutRef = useRef<number>(-1);\n\n  const handleStateChange = (shouldMount: boolean) => {\n    const preHandler = shouldMount ? onEnter : onExit;\n    const handler = shouldMount ? onEntered : onExited;\n\n    setStatus(shouldMount ? \"pre-entering\" : \"pre-exiting\");\n    window.clearTimeout(timeoutRef.current);\n\n    const newTransitionDuration = reduceMotion\n      ? 0\n      : shouldMount\n      ? duration\n      : exitDuration;\n    setTransitionDuration(newTransitionDuration);\n\n    if (newTransitionDuration === 0) {\n      typeof preHandler === \"function\" && preHandler();\n      typeof handler === \"function\" && handler();\n      setStatus(shouldMount ? \"entered\" : \"exited\");\n    } else {\n      const preStateTimeout = window.setTimeout(() => {\n        typeof preHandler === \"function\" && preHandler();\n        setStatus(shouldMount ? \"entering\" : \"exiting\");\n      }, 10);\n\n      timeoutRef.current = window.setTimeout(() => {\n        window.clearTimeout(preStateTimeout);\n        typeof handler === \"function\" && handler();\n        setStatus(shouldMount ? \"entered\" : \"exited\");\n      }, newTransitionDuration);\n    }\n  };\n\n  useDidUpdate(() => {\n    handleStateChange(mounted);\n  }, [mounted]);\n\n  useEffect(() => () => window.clearTimeout(timeoutRef.current), []);\n\n  return {\n    transitionDuration,\n    transitionStatus,\n    transitionTimingFunction: timingFunction || \"ease\",\n  };\n}\n","import React, { cloneElement } from \"react\";\nimport { useFocusTrap, useMergedRef } from \"@raikou/hooks\";\nimport { isElement } from \"@raikou/core\";\n\nexport interface FocusTrapProps {\n  /** Element at which focus should be trapped, should support ref prop */\n  children: any;\n\n  /** Determines whether focus should be trapped within child element */\n  active?: boolean;\n\n  /** Prop that should be used to access component ref */\n  refProp?: string;\n}\n\nexport function FocusTrap({\n  children,\n  active = true,\n  refProp = \"ref\",\n}: FocusTrapProps): React.ReactElement {\n  const focusTrapRef = useFocusTrap(active);\n  const ref = useMergedRef(focusTrapRef, children?.ref);\n\n  if (!isElement(children)) {\n    return children;\n  }\n\n  return cloneElement(children, { [refProp]: ref });\n}\n\nFocusTrap.displayName = \"@raikou/core/FocusTrap\";\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/Popover/src/Popover.module.css\"; export default {\"dropdown\":\"m-38a85659\",\"arrow\":\"m-a31dc6c1\"}","import React from \"react\";\n\nexport function IconFilter() {\n  return (\n    <svg\n      width=\"14\"\n      height=\"14\"\n      viewBox=\"0 0 24 24\"\n      strokeWidth=\"2\"\n      stroke=\"currentColor\"\n      fill=\"none\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\n      <path d=\"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z\" />\n    </svg>\n  );\n}\n","import React from \"react\";\n\nexport function IconFilterFilled() {\n  return (\n    <svg\n      width=\"14\"\n      height=\"14\"\n      viewBox=\"0 0 24 24\"\n      strokeWidth=\"2\"\n      stroke=\"currentColor\"\n      fill=\"none\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\n      <path\n        d=\"M20 3h-16a1 1 0 0 0 -1 1v2.227l.008 .223a3 3 0 0 0 .772 1.795l4.22 4.641v8.114a1 1 0 0 0 1.316 .949l6 -2l.108 -.043a1 1 0 0 0 .576 -.906v-6.586l4.121 -4.12a3 3 0 0 0 .879 -2.123v-2.171a1 1 0 0 0 -1 -1z\"\n        strokeWidth=\"0\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/datatable/src/DataTableHeaderCellFilter.module.css\"; export default {\"mantine-datatable-header-cell-filter-action-icon\":\"m-506e3a78\"}","import React from \"react\";\n\nexport function IconArrowUp() {\n  return (\n    <svg\n      width=\"14\"\n      height=\"14\"\n      viewBox=\"0 0 24 24\"\n      strokeWidth=\"2\"\n      stroke=\"currentColor\"\n      fill=\"none\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\n      <path d=\"M12 5l0 14\" />\n      <path d=\"M16 9l-4 -4\" />\n      <path d=\"M8 9l4 -4\" />\n    </svg>\n  );\n}\n","import React from \"react\";\n\nexport function IconArrowsVertical() {\n  return (\n    <svg\n      width=\"14\"\n      height=\"14\"\n      viewBox=\"0 0 24 24\"\n      strokeWidth=\"2\"\n      stroke=\"currentColor\"\n      fill=\"none\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\n      <path d=\"M8 7l4 -4l4 4\" />\n      <path d=\"M8 17l4 4l4 -4\" />\n      <path d=\"M12 3l0 18\" />\n    </svg>\n  );\n}\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/datatable/src/DataTableHeaderCell.module.css\"; export default {\"mantine-datatable-header-cell-sortable\":\"m-e24a5c2d\",\"mantine-datatable-header-cell-sortable-group\":\"m-df38d0df\",\"mantine-datatable-header-cell-sortable-text\":\"m-49499ecd\",\"mantine-datatable-header-cell-sortable-icon\":\"m-49449619\",\"mantine-datatable-header-cell-sortable-icon-reversed\":\"m-c6f3c2f6\",\"mantine-datatable-header-cell-sortable-unsorted-icon\":\"m-35f9fbb0\"}","import React from \"react\";\nimport { Checkbox, type CheckboxProps } from \"../../components/Checkbox/src\";\nimport { TableTh } from \"../../components/Table/src\";\nimport clsx from \"clsx\";\nimport type { DataTableSelectionTrigger } from \"./types\";\nimport { POINTER_CURSOR } from \"./utilityClasses\";\nimport classes from \"./DataTableHeaderSelectorCell.module.css\";\n\ntype DataTableHeaderSelectorCellProps = {\n  trigger: DataTableSelectionTrigger;\n  shadowVisible: boolean;\n  checked: boolean;\n  indeterminate: boolean;\n  checkboxProps: CheckboxProps;\n  onChange: (() => void) | undefined;\n  rowSpan: number | undefined;\n};\n\nexport function DataTableHeaderSelectorCell({\n  trigger,\n  shadowVisible,\n  checked,\n  indeterminate,\n  checkboxProps,\n  onChange,\n  rowSpan,\n}: DataTableHeaderSelectorCellProps) {\n  const enabled = !checkboxProps.disabled;\n\n  return (\n    <TableTh\n      className={clsx(classes[\"mantine-datatable-header-selector-cell\"], {\n        [POINTER_CURSOR]: trigger === \"cell\" && enabled,\n      })}\n      rowSpan={rowSpan}\n      data-shadow-visible={shadowVisible || undefined}\n      onClick={trigger === \"cell\" && enabled ? onChange : undefined}\n    >\n      <Checkbox\n        classNames={enabled ? { input: POINTER_CURSOR } : undefined}\n        checked={checked}\n        indeterminate={indeterminate}\n        onChange={onChange}\n        {...checkboxProps}\n        disabled={\n          !(onChange || checkboxProps.onChange) || checkboxProps.disabled\n        }\n      />\n    </TableTh>\n  );\n}\n","import React from \"react\";\nimport { useId } from \"@raikou/hooks\";\nimport {\n  BoxProps,\n  StylesApiProps,\n  factory,\n  ElementProps,\n  useProps,\n  useStyles,\n  RaikouColor,\n  RaikouSize,\n  RaikouRadius,\n  extractStyleProps,\n  getRadius,\n  getSize,\n  getThemeColor,\n  createVarsResolver,\n  Factory,\n  Box,\n} from \"@raikou/core\";\nimport { InlineInput, InlineInputStylesNames } from \"../../InlineInput/src\";\nimport { useCheckboxGroupContext } from \"./CheckboxGroup.context\";\nimport { CheckboxGroup } from \"./CheckboxGroup/CheckboxGroup\";\nimport { CheckboxIcon } from \"./CheckIcon\";\nimport classes from \"./Checkbox.module.css\";\n\nexport type CheckboxStylesNames =\n  | \"icon\"\n  | \"inner\"\n  | \"input\"\n  | InlineInputStylesNames;\n\nexport type CheckboxCssVariables = {\n  root:\n    | \"--checkbox-size\"\n    | \"--checkbox-radius\"\n    | \"--checkbox-color\"\n    | \"--checkbox-icon-color\";\n};\n\nexport interface CheckboxProps\n  extends BoxProps,\n    StylesApiProps<CheckboxFactory>,\n    ElementProps<\"input\", \"size\"> {\n  /** Id used to bind input and label, if not passed, unique id will be generated instead */\n  id?: string;\n\n  /** Checkbox label */\n  label?: React.ReactNode;\n\n  /** Key of `theme.colors` or any valid CSS color to set input background color in checked state, `theme.primaryColor` by default */\n  color?: RaikouColor;\n\n  /** Controls size of all elements */\n  size?: RaikouSize | (string & {});\n\n  /** Key of `theme.radius` or any valid CSS value to set `border-radius,` \"xl\" by default */\n  radius?: RaikouRadius;\n\n  /** Props passed down to the root element */\n  wrapperProps?: Record<string, any>;\n\n  /** Position of the label relative to the input, `'right'` by default */\n  labelPosition?: \"left\" | \"right\";\n\n  /** Description displayed below the label */\n  description?: React.ReactNode;\n\n  /** Error displayed below the label */\n  error?: React.ReactNode;\n\n  /** Indeterminate state of checkbox, if set, `checked` prop is ignored */\n  indeterminate?: boolean;\n\n  /** Icon rendered when checkbox has checked or indeterminate state */\n  icon?: React.FC<{ indeterminate: boolean | undefined; className: string }>;\n\n  /** Assigns ref of the root element, can be used with `Tooltip` and other similar components */\n  rootRef?: React.ForwardedRef<HTMLDivElement>;\n\n  /** Key of `theme.colors` or any valid CSS color to set icon color, `theme.white` by default */\n  iconColor?: RaikouColor;\n}\n\nexport type CheckboxFactory = Factory<{\n  props: CheckboxProps;\n  ref: HTMLInputElement;\n  stylesNames: CheckboxStylesNames;\n  vars: CheckboxCssVariables;\n  staticComponents: {\n    Group: typeof CheckboxGroup;\n  };\n}>;\n\nconst defaultProps: Partial<CheckboxProps> = {\n  labelPosition: \"right\",\n  icon: CheckboxIcon,\n};\n\nconst varsResolver = createVarsResolver<CheckboxFactory>(\n  (theme, { radius, color, size, iconColor }) => ({\n    root: {\n      \"--checkbox-size\": getSize(size, \"checkbox-size\"),\n      \"--checkbox-radius\": radius === undefined ? undefined : getRadius(radius),\n      \"--checkbox-color\": color ? getThemeColor(color, theme) : undefined,\n      \"--checkbox-icon-color\": iconColor\n        ? getThemeColor(iconColor, theme)\n        : undefined,\n    },\n  }),\n);\n\nexport const Checkbox = factory<CheckboxFactory>((_props, ref) => {\n  const props = useProps(\"Checkbox\", defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    unstyled,\n    vars,\n    color,\n    label,\n    id,\n    size,\n    radius,\n    wrapperProps,\n    children,\n    checked,\n    labelPosition,\n    description,\n    error,\n    disabled,\n    variant,\n    indeterminate,\n    icon,\n    rootRef,\n    iconColor,\n    ...others\n  } = props;\n\n  const ctx = useCheckboxGroupContext();\n  const _size = size || ctx?.size;\n  const Icon = icon!;\n\n  const getStyles = useStyles<CheckboxFactory>({\n    name: \"Checkbox\",\n    props,\n    classes,\n    // classes: {\n    //   root: \"checkbox-root\",\n    //   inner: \"checkbox-inner\",\n    //   input: \"checkbox-input\",\n    //   icon: \"checkbox-icon\",\n    //   body: \"inlineInput-body\",\n    //   label: \"inlineInput-label\",\n    //   labelWrapper: \"inlineInput-labelWrapper\",\n    //   description: \"inlineInput-description\",\n    //   error: \"inlineInput-error\",\n    // },\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    vars,\n    varsResolver,\n  });\n\n  const { styleProps, rest } = extractStyleProps(others);\n  const uuid = useId(id);\n\n  const contextProps = ctx\n    ? {\n        checked: ctx.value.includes(rest.value as string),\n        onChange: ctx.onChange,\n      }\n    : {};\n\n  return (\n    <InlineInput\n      {...getStyles(\"root\")}\n      __staticSelector=\"Checkbox\"\n      __stylesApiProps={props}\n      id={uuid}\n      size={_size}\n      labelPosition={labelPosition}\n      label={label}\n      description={description}\n      error={error}\n      disabled={disabled}\n      classNames={classNames}\n      styles={styles}\n      unstyled={unstyled}\n      data-checked={contextProps.checked || undefined}\n      variant={variant}\n      ref={rootRef}\n      {...styleProps}\n      {...wrapperProps}\n    >\n      <Box\n        {...getStyles(\"inner\")}\n        mod={{ \"data-label-position\": labelPosition }}\n      >\n        <Box\n          component=\"input\"\n          id={uuid}\n          ref={ref}\n          checked={checked}\n          disabled={disabled}\n          mod={{ error: !!error, indeterminate }}\n          {...getStyles(\"input\", { focusable: true })}\n          {...rest}\n          {...contextProps}\n          type=\"checkbox\"\n        />\n\n        <Icon indeterminate={indeterminate} {...getStyles(\"icon\")} />\n      </Box>\n    </InlineInput>\n  );\n});\n\nCheckbox.displayName = \"@raikou/core/Checkbox\";\nCheckbox.Group = CheckboxGroup;\n","import React, { forwardRef } from \"react\";\nimport {\n  Box,\n  BoxProps,\n  useStyles,\n  StylesApiProps,\n  ElementProps,\n  RaikouSize,\n  getFontSize,\n  getSize,\n  Factory,\n} from \"@raikou/core\";\nimport { Input } from \"../../Input/src\";\nimport classes from \"./InlineInput.module.css\";\n\nexport const InlineInputClasses = classes;\n\nexport type InlineInputStylesNames =\n  | \"root\"\n  | \"body\"\n  | \"labelWrapper\"\n  | \"label\"\n  | \"description\"\n  | \"error\";\n\nexport interface InlineInputProps\n  extends BoxProps,\n    StylesApiProps<InlineInputFactory>,\n    ElementProps<\"div\"> {\n  __staticSelector: string;\n  __stylesApiProps: Record<string, any>;\n  label: React.ReactNode;\n  description: React.ReactNode;\n  id: string;\n  disabled: boolean | undefined;\n  error: React.ReactNode;\n  size: RaikouSize | (string & {}) | undefined;\n  labelPosition?: \"left\" | \"right\";\n}\n\nexport type InlineInputFactory = Factory<{\n  props: any;\n  stylesNames: InlineInputStylesNames;\n}>;\n\nexport const InlineInput = forwardRef<HTMLDivElement, InlineInputProps>(\n  (\n    {\n      __staticSelector,\n      __stylesApiProps,\n      className,\n      classNames,\n      styles,\n      unstyled,\n      children,\n      label,\n      description,\n      id,\n      disabled,\n      error,\n      size,\n      labelPosition = \"left\",\n      variant,\n      style,\n      vars,\n      ...others\n    },\n    ref,\n  ) => {\n    const getStyles = useStyles<InlineInputFactory>({\n      name: __staticSelector,\n      props: __stylesApiProps,\n      className,\n      style,\n      classes,\n      classNames,\n      styles,\n      unstyled,\n    });\n\n    return (\n      <Box\n        {...getStyles(\"root\")}\n        ref={ref}\n        __vars={{\n          \"--label-fz\": getFontSize(size),\n          \"--label-lh\": getSize(size, \"label-lh\"),\n        }}\n        mod={{ \"label-position\": labelPosition }}\n        variant={variant}\n        size={size}\n        {...others}\n      >\n        <div {...getStyles(\"body\")}>\n          {children}\n\n          <div {...getStyles(\"labelWrapper\")}>\n            {label && (\n              <label\n                {...getStyles(\"label\")}\n                data-disabled={disabled || undefined}\n                htmlFor={id}\n              >\n                {label}\n              </label>\n            )}\n\n            {description && (\n              <Input.Description\n                size={size}\n                __inheritStyles={false}\n                {...getStyles(\"description\")}\n              >\n                {description}\n              </Input.Description>\n            )}\n\n            {error && error !== \"boolean\" && (\n              <Input.Error\n                size={size}\n                __inheritStyles={false}\n                {...getStyles(\"error\")}\n              >\n                {error}\n              </Input.Error>\n            )}\n          </div>\n        </div>\n      </Box>\n    );\n  },\n);\n\nInlineInput.displayName = \"@raikou/core/InlineInput\";\n","import React from \"react\";\nimport {\n  Box,\n  BoxProps,\n  StylesApiProps,\n  polymorphicFactory,\n  useProps,\n  useStyles,\n  RaikouRadius,\n  RaikouSize,\n  extractStyleProps,\n  getSize,\n  getFontSize,\n  getRadius,\n  rem,\n  createVarsResolver,\n  PolymorphicFactory,\n} from \"@raikou/core\";\nimport { useInputWrapperContext } from \"./InputWrapper.context\";\nimport { InputLabel } from \"./InputLabel/InputLabel\";\nimport { InputError } from \"./InputError/InputError\";\nimport { InputDescription } from \"./InputDescription/InputDescription\";\nimport { InputPlaceholder } from \"./InputPlaceholder/InputPlaceholder\";\nimport {\n  InputWrapper,\n  __InputWrapperProps,\n  InputWrapperStylesNames,\n} from \"./InputWrapper/InputWrapper\";\nimport classes from \"./Input.module.css\";\n\nexport interface __BaseInputProps extends __InputWrapperProps, __InputProps {}\nexport type __InputStylesNames = InputStylesNames | InputWrapperStylesNames;\n\nexport type InputStylesNames = \"input\" | \"wrapper\" | \"section\";\nexport type InputVariant = \"default\" | \"filled\" | \"unstyled\";\nexport type InputCssVariables = {\n  wrapper:\n    | \"--input-height\"\n    | \"--input-fz\"\n    | \"--input-radius\"\n    | \"--input-left-section-width\"\n    | \"--input-right-section-width\"\n    | \"--input-left-section-pointer-events\"\n    | \"--input-right-section-pointer-events\"\n    | \"--input-padding-y\"\n    | \"--input-margin-top\"\n    | \"--input-margin-bottom\";\n};\n\nexport interface InputStylesCtx {\n  offsetTop: boolean | undefined;\n  offsetBottom: boolean | undefined;\n}\n\nexport interface __InputProps {\n  /** Content section rendered on the left side of the input */\n  leftSection?: React.ReactNode;\n\n  /** Left section width, used to set `width` of the section and input `padding-left`, by default equals to the input height */\n  leftSectionWidth?: React.CSSProperties[\"width\"];\n\n  /** Props added to the `leftSection` element */\n  leftSectionProps?: React.ComponentPropsWithoutRef<\"div\">;\n\n  /** Sets `pointer-events` styles on the `leftSection` element, `'none'` by default */\n  leftSectionPointerEvents?: React.CSSProperties[\"pointerEvents\"];\n\n  /** Content section rendered on the right side of the input */\n  rightSection?: React.ReactNode;\n\n  /** Right section width, used to set `width` of the section and input `padding-right`, by default equals to the input height */\n  rightSectionWidth?: React.CSSProperties[\"width\"];\n\n  /** Props added to the `rightSection` element */\n  rightSectionProps?: React.ComponentPropsWithoutRef<\"div\">;\n\n  /** Sets `pointer-events` styles on the `rightSection` element, `'none'` by default */\n  rightSectionPointerEvents?: React.CSSProperties[\"pointerEvents\"];\n\n  /** Props added to the root element of the `Input` component */\n  wrapperProps?: Record<string, any>;\n\n  /** Sets `required` attribute on the `input` element */\n  required?: boolean;\n\n  /** Key of `theme.radius` or any valid CSS value to set `border-radius`, numbers are converted to rem, `theme.defaultRadius` by default */\n  radius?: RaikouRadius;\n\n  /** Sets `disabled` attribute on the `input` element */\n  disabled?: boolean;\n\n  /** Controls input `height` and horizontal `padding`, `'sm'` by default */\n  size?: RaikouSize | (string & {});\n\n  /** Determines whether the input should have `cursor: pointer` style, `false` by default */\n  pointer?: boolean;\n\n  /** Determines whether the input should have red border and text color when `error` prop is set, `true` by default */\n  withErrorStyles?: boolean;\n}\n\nexport interface InputProps\n  extends BoxProps,\n    __InputProps,\n    StylesApiProps<InputFactory> {\n  __staticSelector?: string;\n\n  /** Props passed to Styles API context, replaces `Input.Wrapper` props */\n  __stylesApiProps?: Record<string, any>;\n\n  /** Determines whether the input should have error styles and `aria-invalid` attribute */\n  error?: React.ReactNode;\n\n  /** Determines whether the input can have multiple lines, for example when `component=\"textarea\"`, `false` by default */\n  multiline?: boolean;\n\n  /** Input element id */\n  id?: string;\n\n  /** Determines whether `aria-` and other accessibility attributes should be added to the input, `true` by default */\n  withAria?: boolean;\n}\n\nexport type InputFactory = PolymorphicFactory<{\n  props: InputProps;\n  defaultRef: HTMLInputElement;\n  defaultComponent: \"input\";\n  stylesNames: InputStylesNames;\n  variant: InputVariant;\n  vars: InputCssVariables;\n  ctx: InputStylesCtx;\n  staticComponents: {\n    Label: typeof InputLabel;\n    Error: typeof InputError;\n    Description: typeof InputDescription;\n    Placeholder: typeof InputPlaceholder;\n    Wrapper: typeof InputWrapper;\n  };\n}>;\n\nconst defaultProps: Partial<InputProps> = {\n  variant: \"default\",\n  leftSectionPointerEvents: \"none\",\n  rightSectionPointerEvents: \"none\",\n  withAria: true,\n  withErrorStyles: true,\n};\n\nconst varsResolver = createVarsResolver<InputFactory>((_, props, ctx) => ({\n  wrapper: {\n    \"--input-margin-top\": ctx.offsetTop\n      ? \"calc(var(--raikou-spacing-xs) / 2)\"\n      : undefined,\n    \"--input-margin-bottom\": ctx.offsetBottom\n      ? \"calc(var(--raikou-spacing-xs) / 2)\"\n      : undefined,\n    \"--input-height\": getSize(props.size, \"input-height\"),\n    \"--input-fz\": getFontSize(props.size),\n    \"--input-radius\":\n      props.radius === undefined ? undefined : getRadius(props.radius),\n    \"--input-left-section-width\":\n      props.leftSectionWidth !== undefined\n        ? rem(props.leftSectionWidth)\n        : undefined,\n    \"--input-right-section-width\":\n      props.rightSectionWidth !== undefined\n        ? rem(props.rightSectionWidth)\n        : undefined,\n    \"--input-padding-y\": props.multiline\n      ? getSize(props.size, \"input-padding-y\")\n      : undefined,\n    \"--input-left-section-pointer-events\": props.leftSectionPointerEvents,\n    \"--input-right-section-pointer-events\": props.rightSectionPointerEvents,\n  },\n}));\n\nexport const Input = polymorphicFactory<InputFactory>((_props, ref) => {\n  const props = useProps(\"Input\", defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    unstyled,\n    required,\n    __staticSelector,\n    __stylesApiProps,\n    size,\n    wrapperProps,\n    error,\n    disabled,\n    leftSection,\n    leftSectionProps,\n    leftSectionWidth,\n    rightSection,\n    rightSectionProps,\n    rightSectionWidth,\n    rightSectionPointerEvents,\n    leftSectionPointerEvents,\n    variant,\n    vars,\n    pointer,\n    multiline,\n    radius,\n    id,\n    withAria,\n    withErrorStyles,\n    ...others\n  } = props;\n\n  const { styleProps, rest } = extractStyleProps(others);\n  const ctx = useInputWrapperContext();\n  const stylesCtx: InputStylesCtx = {\n    offsetBottom: ctx?.offsetBottom,\n    offsetTop: ctx?.offsetTop,\n  };\n\n  const getStyles = useStyles<InputFactory>({\n    name: [\"Input\", __staticSelector],\n    props: __stylesApiProps || props,\n    classes,\n    // classes: {\n    //   wrapper: \"input-wrapper\",\n    //   input: \"input-input\",\n    //   section: \"input-section\",\n    // },\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    stylesCtx,\n    rootSelector: \"wrapper\",\n    vars,\n    varsResolver,\n  });\n\n  const ariaAttributes = withAria\n    ? {\n        required,\n        disabled,\n        \"aria-invalid\": !!error,\n        \"aria-describedby\": ctx?.describedBy,\n        id: ctx?.inputId || id,\n      }\n    : {};\n\n  return (\n    <Box\n      {...getStyles(\"wrapper\")}\n      {...styleProps}\n      {...wrapperProps}\n      mod={{\n        error: !!error && withErrorStyles,\n        pointer,\n        disabled,\n        multiline,\n        \"data-with-right-section\": !!rightSection,\n        \"data-with-left-section\": !!leftSection,\n      }}\n      variant={variant}\n      size={size}\n    >\n      {leftSection && (\n        <div\n          {...leftSectionProps}\n          data-position=\"left\"\n          {...getStyles(\"section\", {\n            className: leftSectionProps?.className,\n            style: leftSectionProps?.style,\n          })}\n        >\n          {leftSection}\n        </div>\n      )}\n\n      <Box\n        component=\"input\"\n        {...rest}\n        {...ariaAttributes}\n        ref={ref}\n        required={required}\n        mod={{ disabled, error: !!error && withErrorStyles }}\n        variant={variant}\n        {...getStyles(\"input\")}\n      />\n\n      {rightSection && (\n        <div\n          {...rightSectionProps}\n          data-position=\"right\"\n          {...getStyles(\"section\", {\n            className: rightSectionProps?.className,\n            style: rightSectionProps?.style,\n          })}\n        >\n          {rightSection}\n        </div>\n      )}\n    </Box>\n  );\n});\n\nInput.Wrapper = InputWrapper;\nInput.Label = InputLabel;\nInput.Error = InputError;\nInput.Description = InputDescription;\nInput.Placeholder = InputPlaceholder;\nInput.displayName = \"@raikou/core/Input\";\n","import { GetStylesApi } from \"@raikou/core\";\nimport { createOptionalContext } from \"../../_utils\";\nimport type { InputWrapperFactory } from \"./InputWrapper/InputWrapper\";\n\ninterface InputWrapperContextValue {\n  offsetTop: boolean;\n  offsetBottom: boolean;\n  describedBy: string | undefined;\n  inputId: string | undefined;\n  labelId: string | undefined;\n  getStyles: GetStylesApi<InputWrapperFactory> | null;\n}\n\nexport const [InputWrapperProvider, useInputWrapperContext] =\n  createOptionalContext<InputWrapperContextValue>({\n    offsetBottom: false,\n    offsetTop: false,\n    describedBy: undefined,\n    getStyles: null,\n    inputId: undefined,\n    labelId: undefined,\n  });\n","import React from \"react\";\nimport {\n  Box,\n  BoxProps,\n  StylesApiProps,\n  factory,\n  ElementProps,\n  useProps,\n  useStyles,\n  RaikouSize,\n  getFontSize,\n  createVarsResolver,\n  Factory,\n} from \"@raikou/core\";\nimport { useInputWrapperContext } from \"../InputWrapper.context\";\nimport classes from \"../Input.module.css\";\n\nexport type InputLabelStylesNames = \"label\" | \"required\";\nexport type InputLabelCssVariables = {\n  label: \"--input-asterisk-color\" | \"--input-label-size\";\n};\n\nexport interface InputLabelProps\n  extends BoxProps,\n    StylesApiProps<InputLabelFactory>,\n    ElementProps<\"label\"> {\n  __staticSelector?: string;\n\n  /** Determines whether required asterisk should be displayed  */\n  required?: boolean;\n\n  /** Controls label `font-size`, `'sm'` by default */\n  size?: RaikouSize | (string & {});\n\n  /** Root element of the label, `'label'` by default */\n  labelElement?: \"label\" | \"div\";\n}\n\nexport type InputLabelFactory = Factory<{\n  props: InputLabelProps;\n  ref: HTMLLabelElement;\n  stylesNames: InputLabelStylesNames;\n  vars: InputLabelCssVariables;\n}>;\n\nconst defaultProps: Partial<InputLabelProps> = {\n  labelElement: \"label\",\n};\n\nconst varsResolver = createVarsResolver<InputLabelFactory>((_, { size }) => ({\n  label: {\n    \"--input-label-size\": getFontSize(size),\n    \"--input-asterisk-color\": undefined,\n  },\n}));\n\nexport const InputLabel = factory<InputLabelFactory>((_props, ref) => {\n  const props = useProps(\"InputLabel\", defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    unstyled,\n    vars,\n    labelElement,\n    size,\n    required,\n    htmlFor,\n    onMouseDown,\n    children,\n    __staticSelector,\n    variant,\n    ...others\n  } = useProps(\"InputLabel\", defaultProps, props);\n\n  const _getStyles = useStyles<InputLabelFactory>({\n    name: [\"InputWrapper\", __staticSelector],\n    props,\n    classes,\n    // classes: {\n    //   label: \"inputWrapper-label\",\n    //   required: \"inputWrapper-required\",\n    // },\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    rootSelector: \"label\",\n    vars,\n    varsResolver,\n  });\n\n  const ctx = useInputWrapperContext();\n  const getStyles = ctx?.getStyles || _getStyles;\n\n  return (\n    <Box\n      {...getStyles(\"label\")}\n      component={labelElement as \"label\"}\n      variant={variant}\n      size={size}\n      ref={ref}\n      htmlFor={labelElement === \"label\" ? htmlFor : undefined}\n      mod={{ required }}\n      onMouseDown={(event) => {\n        onMouseDown?.(event as any);\n        if (!event.defaultPrevented && event.detail > 1) {\n          event.preventDefault();\n        }\n      }}\n      {...others}\n    >\n      {children}\n      {required && (\n        <span {...getStyles(\"required\")} aria-hidden>\n          {\" *\"}\n        </span>\n      )}\n    </Box>\n  );\n});\n\nInputLabel.displayName = \"@raikou/core/InputLabel\";\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/Input/src/Input.module.css\"; export default {\"wrapper\":\"m-6c018570\",\"input\":\"m-8fb7ebe7\",\"section\":\"m-82577fc2\",\"placeholder\":\"m-88bacfd0\",\"root\":\"m-46b77525\",\"label\":\"m-8fdc1311\",\"required\":\"m-78a94662\",\"error\":\"m-8f816625\",\"description\":\"m-fe47ce59\"}","import React from \"react\";\nimport {\n  Box,\n  BoxProps,\n  StylesApiProps,\n  factory,\n  ElementProps,\n  useProps,\n  useStyles,\n  RaikouSize,\n  getFontSize,\n  rem,\n  createVarsResolver,\n  Factory,\n} from \"@raikou/core\";\nimport { useInputWrapperContext } from \"../InputWrapper.context\";\nimport classes from \"../Input.module.css\";\n\nexport type InputErrorStylesNames = \"error\";\nexport type InputErrorCssVariables = {\n  error: \"--input-error-size\";\n};\n\nexport interface InputErrorProps\n  extends BoxProps,\n    StylesApiProps<InputErrorFactory>,\n    ElementProps<\"div\"> {\n  __staticSelector?: string;\n  __inheritStyles?: boolean;\n\n  /** Controls error `font-size`, `'sm'` by default */\n  size?: RaikouSize | (string & {});\n}\n\nexport type InputErrorFactory = Factory<{\n  props: InputErrorProps;\n  ref: HTMLParagraphElement;\n  stylesNames: InputErrorStylesNames;\n  vars: InputErrorCssVariables;\n}>;\n\nconst defaultProps: Partial<InputErrorProps> = {};\n\nconst varsResolver = createVarsResolver<InputErrorFactory>((_, { size }) => ({\n  error: {\n    \"--input-error-size\":\n      size === undefined ? undefined : `calc(${getFontSize(size)} - ${rem(2)})`,\n  },\n}));\n\nexport const InputError = factory<InputErrorFactory>((_props, ref) => {\n  const props = useProps(\"InputError\", defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    unstyled,\n    vars,\n    size,\n    __staticSelector,\n    __inheritStyles = true,\n    variant,\n    ...others\n  } = props;\n\n  const _getStyles = useStyles<InputErrorFactory>({\n    name: [\"InputWrapper\", __staticSelector],\n    props,\n    classes,\n    // classes: {\n    //   error: \"inputWrapper-error\",\n    // },\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    rootSelector: \"error\",\n    vars,\n    varsResolver,\n  });\n\n  const ctx = useInputWrapperContext();\n  const getStyles = (__inheritStyles && ctx?.getStyles) || _getStyles;\n\n  return (\n    <Box\n      component=\"p\"\n      ref={ref}\n      variant={variant}\n      size={size}\n      {...getStyles(\"error\")}\n      {...others}\n    />\n  );\n});\n\nInputError.displayName = \"@raikou/core/InputError\";\n","import React from \"react\";\nimport {\n  Box,\n  BoxProps,\n  StylesApiProps,\n  factory,\n  ElementProps,\n  useProps,\n  useStyles,\n  RaikouSize,\n  getFontSize,\n  rem,\n  createVarsResolver,\n  Factory,\n} from \"@raikou/core\";\nimport { useInputWrapperContext } from \"../InputWrapper.context\";\nimport classes from \"../Input.module.css\";\n\nexport type InputDescriptionStylesNames = \"description\";\nexport type InputDescriptionCssVariables = {\n  description: \"--input-description-size\";\n};\n\nexport interface InputDescriptionProps\n  extends BoxProps,\n    StylesApiProps<InputDescriptionFactory>,\n    ElementProps<\"div\"> {\n  __staticSelector?: string;\n  __inheritStyles?: boolean;\n\n  /** Controls description `font-size`, `'sm'` by default */\n  size?: RaikouSize | (string & {});\n}\n\nexport type InputDescriptionFactory = Factory<{\n  props: InputDescriptionProps;\n  ref: HTMLParagraphElement;\n  stylesNames: InputDescriptionStylesNames;\n  vars: InputDescriptionCssVariables;\n}>;\n\nconst defaultProps: Partial<InputDescriptionProps> = {};\n\nconst varsResolver = createVarsResolver<InputDescriptionFactory>(\n  (_, { size }) => ({\n    description: {\n      \"--input-description-size\":\n        size === undefined\n          ? undefined\n          : `calc(${getFontSize(size)} - ${rem(2)})`,\n    },\n  }),\n);\n\nexport const InputDescription = factory<InputDescriptionFactory>(\n  (_props, ref) => {\n    const props = useProps(\"InputDescription\", defaultProps, _props);\n    const {\n      classNames,\n      className,\n      style,\n      styles,\n      unstyled,\n      vars,\n      size,\n      __staticSelector,\n      __inheritStyles = true,\n      variant,\n      ...others\n    } = useProps(\"InputDescription\", defaultProps, props);\n    const ctx = useInputWrapperContext();\n\n    const _getStyles = useStyles<InputDescriptionFactory>({\n      name: [\"InputWrapper\", __staticSelector],\n      props,\n      classes,\n      // classes: {\n      //   description: \"inputWrapper-description\",\n      // },\n      className,\n      style,\n      classNames,\n      styles,\n      unstyled,\n      rootSelector: \"description\",\n      vars,\n      varsResolver,\n    });\n\n    const getStyles = (__inheritStyles && ctx?.getStyles) || _getStyles;\n\n    return (\n      <Box\n        component=\"p\"\n        ref={ref}\n        variant={variant}\n        size={size}\n        {...getStyles(\"description\")}\n        {...others}\n      />\n    );\n  },\n);\n\nInputDescription.displayName = \"@raikou/core/InputDescription\";\n","import React from \"react\";\nimport {\n  Box,\n  BoxProps,\n  StylesApiProps,\n  factory,\n  ElementProps,\n  useProps,\n  useStyles,\n  Factory,\n} from \"@raikou/core\";\nimport classes from \"../Input.module.css\";\n\nexport type InputPlaceholderStylesNames = \"placeholder\";\nexport type InputPlaceholderVariant = string;\n\nexport interface InputPlaceholderProps\n  extends BoxProps,\n    StylesApiProps<InputPlaceholderFactory>,\n    ElementProps<\"span\"> {\n  __staticSelector?: string;\n}\n\nexport type InputPlaceholderFactory = Factory<{\n  props: InputPlaceholderProps;\n  ref: HTMLSpanElement;\n  stylesNames: InputPlaceholderStylesNames;\n  variant: InputPlaceholderVariant;\n}>;\n\nconst defaultProps: Partial<InputPlaceholderProps> = {};\n\nexport const InputPlaceholder = factory<InputPlaceholderFactory>(\n  (_props, ref) => {\n    const props = useProps(\"InputPlaceholder\", defaultProps, _props);\n    const {\n      classNames,\n      className,\n      style,\n      styles,\n      unstyled,\n      vars,\n      __staticSelector,\n      variant,\n      ...others\n    } = useProps(\"InputPlaceholder\", defaultProps, props);\n\n    const getStyles = useStyles<InputPlaceholderFactory>({\n      name: [\"InputPlaceholder\", __staticSelector],\n      props,\n      classes,\n      // classes: {\n      //   placeholder: \"input-placeholder\",\n      // },\n      className,\n      style,\n      classNames,\n      styles,\n      unstyled,\n      rootSelector: \"placeholder\",\n    });\n\n    return (\n      <Box\n        {...getStyles(\"placeholder\")}\n        component=\"span\"\n        variant={variant}\n        ref={ref}\n        {...others}\n      />\n    );\n  },\n);\n\nInputPlaceholder.displayName = \"@raikou/core/InputPlaceholder\";\n","import React from \"react\";\nimport { useId } from \"@raikou/hooks\";\nimport {\n  Box,\n  BoxProps,\n  StylesApiProps,\n  factory,\n  ElementProps,\n  useProps,\n  useStyles,\n  RaikouSize,\n  Factory,\n  createVarsResolver,\n  getFontSize,\n  rem,\n} from \"@raikou/core\";\nimport {\n  InputLabel,\n  InputLabelStylesNames,\n  InputLabelCssVariables,\n} from \"../InputLabel/InputLabel\";\nimport {\n  InputDescription,\n  InputDescriptionStylesNames,\n  InputDescriptionCssVariables,\n} from \"../InputDescription/InputDescription\";\nimport {\n  InputError,\n  InputErrorStylesNames,\n  InputErrorCssVariables,\n} from \"../InputError/InputError\";\nimport { InputWrapperProvider } from \"../InputWrapper.context\";\nimport { getInputOffsets } from \"./get-input-offsets/get-input-offsets\";\nimport classes from \"../Input.module.css\";\n\nexport type InputWrapperCssVariables = InputLabelCssVariables &\n  InputErrorCssVariables &\n  InputDescriptionCssVariables;\n\nexport type InputWrapperStylesNames =\n  | \"root\"\n  | InputLabelStylesNames\n  | InputDescriptionStylesNames\n  | InputErrorStylesNames;\n\nexport interface __InputWrapperProps {\n  /** Contents of `Input.Label` component, if not set, label is not rendered. */\n  label?: React.ReactNode;\n\n  /** Contents of `Input.Description` component, if not set, description is not rendered. */\n  description?: React.ReactNode;\n\n  /** Contents of `Input.Error` component, if not set, error is not rendered. */\n  error?: React.ReactNode;\n\n  /** Adds required attribute to the input and a red asterisk on the right side of label, `false` by default */\n  required?: boolean;\n\n  /** Determines whether required asterisk should be rendered, overrides required prop, does not add required attribute to the input, `false` by default */\n  withAsterisk?: boolean;\n\n  /** Props passed down to the `Input.Label` component */\n  labelProps?: Record<string, any>;\n\n  /** Props passed down to the `Input.Description` component */\n  descriptionProps?: Record<string, any>;\n\n  /** Props passed down to the `InputError` component */\n  errorProps?: Record<string, any>;\n\n  /** Input container component, defaults to `React.Fragment` */\n  inputContainer?: (children: React.ReactNode) => React.ReactNode;\n\n  /** Controls order of the elements, `['label', 'description', 'input', 'error']` by default */\n  inputWrapperOrder?: (\"label\" | \"input\" | \"description\" | \"error\")[];\n}\n\nexport interface InputWrapperProps\n  extends __InputWrapperProps,\n    BoxProps,\n    StylesApiProps<InputWrapperFactory>,\n    ElementProps<\"div\"> {\n  __staticSelector?: string;\n\n  /** Props passed to Styles API context, replaces Input.Wrapper props */\n  __stylesApiProps?: Record<string, any>;\n\n  /** Static id used as base to generate `aria-` attributes, by default generates random id */\n  id?: string;\n\n  /** Controls size of `Input.Label`, `Input.Description` and `Input.Error` components */\n  size?: RaikouSize | (string & {});\n\n  /** `Input.Label` root element, `'label'` by default */\n  labelElement?: \"label\" | \"div\";\n}\n\nexport type InputWrapperFactory = Factory<{\n  props: InputWrapperProps;\n  ref: HTMLDivElement;\n  stylesNames: InputWrapperStylesNames;\n  vars: InputWrapperCssVariables;\n}>;\n\nconst defaultProps: Partial<InputWrapperProps> = {\n  labelElement: \"label\",\n  inputContainer: (children) => children,\n  inputWrapperOrder: [\"label\", \"description\", \"input\", \"error\"],\n};\n\nconst varsResolver = createVarsResolver<InputWrapperFactory>((_, { size }) => ({\n  label: {\n    \"--input-label-size\": getFontSize(size),\n    \"--input-asterisk-color\": undefined,\n  },\n\n  error: {\n    \"--input-error-size\":\n      size === undefined ? undefined : `calc(${getFontSize(size)} - ${rem(2)})`,\n  },\n\n  description: {\n    \"--input-description-size\":\n      size === undefined ? undefined : `calc(${getFontSize(size)} - ${rem(2)})`,\n  },\n}));\n\nexport const InputWrapper = factory<InputWrapperFactory>((_props, ref) => {\n  const props = useProps(\"InputWrapper\", defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    unstyled,\n    vars,\n    size,\n    variant,\n    __staticSelector,\n    inputContainer,\n    inputWrapperOrder,\n    label,\n    error,\n    description,\n    labelProps,\n    descriptionProps,\n    errorProps,\n    labelElement,\n    children,\n    withAsterisk,\n    id,\n    required,\n    __stylesApiProps,\n    ...others\n  } = props;\n\n  const getStyles = useStyles<InputWrapperFactory>({\n    name: [\"InputWrapper\", __staticSelector],\n    props: __stylesApiProps || props,\n    classes,\n    // classes: {\n    //   root: \"inputWrapper-root\",\n    //   label: \"inputWrapper-label\",\n    //   required: \"inputWrapper-required\",\n    //   error: \"inputWrapper-error\",\n    //   description: \"inputWrapper-description\",\n    // },\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    vars,\n    varsResolver,\n  });\n\n  const sharedProps = {\n    size,\n    variant,\n    __staticSelector,\n  };\n\n  const idBase = useId(id);\n  const isRequired =\n    typeof withAsterisk === \"boolean\" ? withAsterisk : required;\n  const errorId = errorProps?.id || `${idBase}-error`;\n  const descriptionId = descriptionProps?.id || `${idBase}-description`;\n  const inputId = idBase;\n  const hasError = !!error && typeof error !== \"boolean\";\n  const hasDescription = !!description;\n  const _describedBy = `${hasError ? errorId : \"\"} ${\n    hasDescription ? descriptionId : \"\"\n  }`;\n  const describedBy =\n    _describedBy.trim().length > 0 ? _describedBy.trim() : undefined;\n  const labelId = labelProps?.id || `${idBase}-label`;\n\n  const _label = label && (\n    <InputLabel\n      key=\"label\"\n      labelElement={labelElement}\n      id={labelId}\n      htmlFor={inputId}\n      required={isRequired}\n      {...sharedProps}\n      {...labelProps}\n    >\n      {label}\n    </InputLabel>\n  );\n\n  const _description = hasDescription && (\n    <InputDescription\n      key=\"description\"\n      {...descriptionProps}\n      {...sharedProps}\n      size={descriptionProps?.size || sharedProps.size}\n      id={descriptionProps?.id || descriptionId}\n    >\n      {description}\n    </InputDescription>\n  );\n\n  const _input = (\n    <React.Fragment key=\"input\">\n      {inputContainer!(children as any)}\n    </React.Fragment>\n  );\n\n  const _error = hasError && (\n    <InputError\n      {...errorProps}\n      {...sharedProps}\n      size={errorProps?.size || sharedProps.size}\n      key=\"error\"\n      id={errorProps?.id || errorId}\n    >\n      {error}\n    </InputError>\n  );\n\n  const content = inputWrapperOrder!.map((part) => {\n    switch (part) {\n      case \"label\":\n        return _label;\n      case \"input\":\n        return _input;\n      case \"description\":\n        return _description;\n      case \"error\":\n        return _error;\n      default:\n        return null;\n    }\n  });\n\n  return (\n    <InputWrapperProvider\n      value={{\n        getStyles,\n        describedBy,\n        inputId,\n        labelId,\n        ...getInputOffsets(inputWrapperOrder!, { hasDescription, hasError }),\n      }}\n    >\n      <Box\n        ref={ref}\n        variant={variant}\n        size={size}\n        {...getStyles(\"root\")}\n        {...others}\n      >\n        {content}\n      </Box>\n    </InputWrapperProvider>\n  );\n});\n\nInputWrapper.displayName = \"@raikou/core/InputWrapper\";\n","export function getInputOffsets(\n  inputWrapperOrder: ('label' | 'input' | 'description' | 'error')[],\n  { hasDescription, hasError }: { hasDescription: boolean; hasError: boolean }\n) {\n  const inputIndex = inputWrapperOrder.findIndex((part) => part === 'input');\n  const aboveInput = inputWrapperOrder[inputIndex - 1];\n  const belowInput = inputWrapperOrder[inputIndex + 1];\n  const offsetTop =\n    (hasDescription && aboveInput === 'description') || (hasError && aboveInput === 'error');\n  const offsetBottom =\n    (hasDescription && belowInput === 'description') || (hasError && belowInput === 'error');\n  return { offsetBottom, offsetTop };\n}\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/Input/src/Input.module.css\"; export default {\"wrapper\":\"m-6c018570\",\"input\":\"m-8fb7ebe7\",\"section\":\"m-82577fc2\",\"placeholder\":\"m-88bacfd0\",\"root\":\"m-46b77525\",\"label\":\"m-8fdc1311\",\"required\":\"m-78a94662\",\"error\":\"m-8f816625\",\"description\":\"m-fe47ce59\"}","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/InlineInput/src/InlineInput.module.css\"; export default {\"root\":\"m-5f75b09e\",\"body\":\"m-5f6e695e\",\"labelWrapper\":\"m-d3ea56bb\",\"label\":\"m-8ee546b8\",\"description\":\"m-328f68c0\",\"error\":\"m-8e8a99cc\"}","import { createContext, useContext } from \"react\";\nimport { RaikouSize } from \"@raikou/core\";\n\ninterface CheckboxGroupContextValue {\n  value: string[];\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n  size: RaikouSize | (string & {}) | undefined;\n}\n\nconst CheckboxGroupContext = createContext<CheckboxGroupContextValue | null>(\n  null,\n);\nexport const CheckboxGroupProvider = CheckboxGroupContext.Provider;\nexport const useCheckboxGroupContext = () => useContext(CheckboxGroupContext);\n","import React from \"react\";\nimport { useUncontrolled } from \"@raikou/hooks\";\nimport { factory, useProps, RaikouSize, Factory } from \"@raikou/core\";\nimport {\n  InputWrapperStylesNames,\n  Input,\n  InputWrapperProps,\n} from \"../../../Input/src\";\nimport { InputsGroupFieldset } from \"../../../InputsGroupFieldset/src\";\nimport { CheckboxGroupProvider } from \"../CheckboxGroup.context\";\n\nexport type CheckboxGroupStylesNames = InputWrapperStylesNames;\n\nexport interface CheckboxGroupProps\n  extends Omit<InputWrapperProps, \"onChange\"> {\n  /** `Checkbox` components */\n  children: React.ReactNode;\n\n  /** Controlled component value */\n  value?: string[];\n\n  /** Default value for uncontrolled component */\n  defaultValue?: string[];\n\n  /** Called when value changes */\n  onChange?: (value: string[]) => void;\n\n  /** Props passed down to the `Input.Wrapper` */\n  wrapperProps?: Record<string, any>;\n\n  /** Controls size of the `Input.Wrapper`, `'sm'` by default */\n  size?: RaikouSize | (string & {});\n}\n\nexport type CheckboxGroupFactory = Factory<{\n  props: CheckboxGroupProps;\n  ref: HTMLDivElement;\n  stylesNames: CheckboxGroupStylesNames;\n}>;\n\nconst defaultProps: Partial<CheckboxGroupProps> = {};\n\nexport const CheckboxGroup = factory<CheckboxGroupFactory>((props, ref) => {\n  const {\n    value,\n    defaultValue,\n    onChange,\n    size,\n    wrapperProps,\n    children,\n    ...others\n  } = useProps(\"CheckboxGroup\", defaultProps, props);\n\n  const [_value, setValue] = useUncontrolled({\n    value,\n    defaultValue,\n    finalValue: [],\n    onChange,\n  });\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const itemValue = event.currentTarget.value;\n    setValue(\n      _value.includes(itemValue)\n        ? _value.filter((item) => item !== itemValue)\n        : [..._value, itemValue],\n    );\n  };\n\n  return (\n    <CheckboxGroupProvider\n      value={{ value: _value, onChange: handleChange, size }}\n    >\n      <Input.Wrapper\n        size={size}\n        ref={ref}\n        {...wrapperProps}\n        {...others}\n        labelElement=\"div\"\n        __staticSelector=\"CheckboxGroup\"\n      >\n        <InputsGroupFieldset role=\"group\">{children}</InputsGroupFieldset>\n      </Input.Wrapper>\n    </CheckboxGroupProvider>\n  );\n});\n","import React from \"react\";\nimport { useInputWrapperContext } from \"../../Input/src\";\n\ninterface InputsGroupFieldsetProps {\n  children: React.ReactNode;\n  role: \"radiogroup\" | \"group\";\n}\n\nexport function InputsGroupFieldset({\n  children,\n  role,\n}: InputsGroupFieldsetProps) {\n  const ctx = useInputWrapperContext();\n\n  if (!ctx) {\n    return <>{children}</>;\n  }\n\n  return (\n    <div\n      role={role}\n      aria-labelledby={ctx.labelId}\n      aria-describedby={ctx.describedBy}\n    >\n      {children}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { rem } from \"@raikou/core\";\n\nexport interface CheckboxIconProps\n  extends React.ComponentPropsWithoutRef<\"svg\"> {\n  indeterminate: boolean | undefined;\n}\n\nexport interface CheckIconProps extends React.ComponentPropsWithoutRef<\"svg\"> {\n  size?: number | string;\n}\n\nexport function CheckIcon({ size, style, ...others }: CheckIconProps) {\n  const _style =\n    size !== undefined\n      ? { width: rem(size), height: rem(size), ...style }\n      : style;\n\n  return (\n    <svg\n      viewBox=\"0 0 10 7\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      style={_style}\n      aria-hidden\n      {...others}\n    >\n      <path\n        d=\"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z\"\n        fill=\"currentColor\"\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n      />\n    </svg>\n  );\n}\n\nexport function CheckboxIcon({ indeterminate, ...others }: CheckboxIconProps) {\n  if (indeterminate) {\n    return (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        fill=\"none\"\n        viewBox=\"0 0 32 6\"\n        aria-hidden\n        {...others}\n      >\n        <rect width=\"32\" height=\"6\" fill=\"currentColor\" rx=\"3\" />\n      </svg>\n    );\n  }\n\n  return <CheckIcon {...others} />;\n}\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/Checkbox/src/Checkbox.module.css\"; export default {\"root\":\"m-bf2d988c\",\"inner\":\"m-26062bec\",\"input\":\"m-26063560\",\"icon\":\"m-bf295423\"}","import \"/Users/paul/development/src/github/raikou/packages/raikou/datatable/src/DataTableHeaderSelectorCell.module.css\"; export default {\"mantine-datatable-header-selector-cell\":\"m-a82af25b\"}","import \"/Users/paul/development/src/github/raikou/packages/raikou/datatable/src/DataTableHeader.module.css\"; export default {\"mantine-datatable-header\":\"m-1a563a39\"}","import React from \"react\";\nimport { type RaikouColor, type RaikouSize } from \"@raikou/core\";\nimport clsx from \"clsx\";\nimport { Center } from \"../../components/Center/src\";\nimport { Loader, type RaikouLoader } from \"../../components/Loader/src\";\nimport classes from \"./DataTableLoader.module.css\";\n\ntype DataTableLoaderProps = {\n  pt?: number;\n  pb: number;\n  fetching: boolean | undefined;\n  customContent: React.ReactNode | undefined;\n  backgroundBlur: number | undefined;\n  size: RaikouSize | (string & NonNullable<unknown>) | number | undefined;\n  type: RaikouLoader | undefined;\n  color: RaikouColor | undefined;\n};\n\nexport function DataTableLoader({\n  pt,\n  pb,\n  fetching,\n  customContent,\n  backgroundBlur,\n  size,\n  type,\n  color,\n}: DataTableLoaderProps) {\n  return (\n    <Center\n      pt={pt}\n      pb={pb}\n      className={clsx(classes[\"mantine-datatable-loader\"], {\n        \"mantine-datatable-loader-fetching\": fetching,\n      })}\n      style={[\n        {\n          backdropFilter: backgroundBlur\n            ? `blur(${backgroundBlur}px)`\n            : undefined,\n        },\n      ]}\n    >\n      {fetching &&\n        (customContent || <Loader size={size} type={type} color={color} />)}\n    </Center>\n  );\n}\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/datatable/src/DataTableLoader.module.css\"; export default {\"mantine-datatable-loader\":\"m-7c185cf9\",\"mantine-datatable-loader-fetching\":\"m-bd290d3c\"}","import React from \"react\";\nimport {\n  Box,\n  rem,\n  type RaikouSpacing,\n  type RaikouStyleProp,\n} from \"@raikou/core\";\nimport { Pagination } from \"../../components/Pagination/src\";\nimport { Text } from \"../../components/Text/src\";\nimport clsx from \"clsx\";\nimport { forwardRef, type ForwardedRef } from \"react\";\nimport { DataTablePageSizeSelector } from \"./DataTablePageSizeSelector\";\nimport { getPaginationCssVariables } from \"./cssVariables\";\nimport { useMediaQueryStringOrFunction } from \"./hooks\";\nimport type { DataTablePaginationProps } from \"./types\";\nimport type { WithOptionalProperty, WithRequiredProperty } from \"./types/utils\";\nimport classes from \"./DataTablePagination.module.css\";\n\ntype DataTablePaginationComponentProps = WithOptionalProperty<\n  WithRequiredProperty<\n    DataTablePaginationProps,\n    | \"loadingText\"\n    | \"paginationSize\"\n    | \"recordsPerPageLabel\"\n    | \"paginationWrapBreakpoint\"\n    | \"getPaginationControlProps\"\n  >,\n  \"onRecordsPerPageChange\" | \"recordsPerPageOptions\"\n> & {\n  className: string | undefined;\n  style: RaikouStyleProp | undefined;\n  fetching: boolean | undefined;\n  recordsLength: number | undefined;\n  horizontalSpacing: RaikouSpacing | undefined;\n  noRecordsText: string;\n};\n\nexport const DataTablePagination = forwardRef(function DataTablePagination(\n  {\n    className,\n    style,\n    fetching,\n    page,\n    onPageChange,\n    paginationWithEdges,\n    paginationActiveTextColor,\n    paginationActiveBackgroundColor,\n    paginationSize,\n    loadingText,\n    noRecordsText,\n    paginationText,\n    totalRecords,\n    recordsPerPage,\n    onRecordsPerPageChange,\n    recordsPerPageLabel,\n    recordsPerPageOptions,\n    recordsLength,\n    horizontalSpacing,\n    paginationWrapBreakpoint,\n    getPaginationControlProps,\n  }: DataTablePaginationComponentProps,\n  ref: ForwardedRef<HTMLDivElement>,\n) {\n  let paginationTextValue: React.ReactNode;\n  if (fetching) {\n    paginationTextValue = loadingText;\n  } else if (!totalRecords) {\n    paginationTextValue = noRecordsText;\n  } else {\n    const from = (page! - 1) * recordsPerPage! + 1;\n    const to = from + recordsLength! - 1;\n    paginationTextValue = paginationText!({ from, to, totalRecords });\n  }\n\n  const isAbovePaginationWrapBreakpoint = useMediaQueryStringOrFunction(\n    ({ breakpoints }) =>\n      `(min-width: ${\n        typeof paginationWrapBreakpoint === \"number\"\n          ? `${rem(paginationWrapBreakpoint)}rem`\n          : breakpoints[paginationWrapBreakpoint] || paginationWrapBreakpoint\n      })`,\n  );\n\n  return (\n    <Box\n      ref={ref}\n      px={horizontalSpacing ?? \"xs\"}\n      py=\"xs\"\n      className={clsx(classes[\"mantine-datatable-pagination\"], className)}\n      style={[\n        { flexDirection: isAbovePaginationWrapBreakpoint ? \"row\" : \"column\" },\n        style,\n      ]}\n    >\n      <Text\n        className={classes[\"mantine-datatable-pagination-text\"]}\n        size={paginationSize}\n      >\n        {paginationTextValue}\n      </Text>\n      {recordsPerPageOptions && (\n        <DataTablePageSizeSelector\n          activeTextColor={paginationActiveTextColor}\n          activeBackgroundColor={paginationActiveBackgroundColor}\n          size={paginationSize}\n          label={recordsPerPageLabel}\n          values={recordsPerPageOptions}\n          value={recordsPerPage!}\n          onChange={onRecordsPerPageChange!}\n        />\n      )}\n      <Pagination\n        classNames={{\n          root: clsx(classes[\"mantine-datatable-pagination-pages\"], {\n            \"mantine-datatable-pagination-pages-fetching\":\n              fetching || !recordsLength,\n          }),\n          control: classes[\"mantine-datatable-pagination-pages-control\"],\n        }}\n        style={\n          paginationActiveTextColor || paginationActiveBackgroundColor\n            ? (theme) =>\n                getPaginationCssVariables({\n                  theme,\n                  paginationActiveTextColor,\n                  paginationActiveBackgroundColor,\n                })\n            : undefined\n        }\n        withEdges={paginationWithEdges}\n        value={page}\n        onChange={onPageChange}\n        size={paginationSize}\n        total={Math.ceil(totalRecords! / recordsPerPage!)}\n        getControlProps={getPaginationControlProps}\n      />\n    </Box>\n  );\n}) as (\n  props: DataTablePaginationComponentProps & {\n    ref: ForwardedRef<HTMLDivElement>;\n  },\n) => JSX.Element;\n","import React from \"react\";\nimport { factory, useProps, Factory, RaikouSize } from \"@raikou/core\";\nimport { Group } from \"../../Group/src\";\nimport {\n  PaginationRoot,\n  PaginationRootCssVariables,\n  PaginationRootProps,\n  PaginationRootStylesNames,\n} from \"./PaginationRoot/PaginationRoot\";\nimport { PaginationControl } from \"./PaginationControl/PaginationControl\";\nimport { PaginationDots } from \"./PaginationDots/PaginationDots\";\nimport {\n  PaginationFirst,\n  PaginationLast,\n  PaginationNext,\n  PaginationPrevious,\n} from \"./PaginationEdges/PaginationEdges\";\nimport { PaginationItems } from \"./PaginationItems/PaginationItems\";\nimport { PaginationIcon } from \"./Pagination.icons\";\n\nexport type PaginationStylesNames = PaginationRootStylesNames;\nexport type PaginationCssVariables = PaginationRootCssVariables;\n\nexport interface PaginationProps extends PaginationRootProps {\n  /** Determines whether first/last controls should be rendered, false by default */\n  withEdges?: boolean;\n\n  /** Determines whether next/previous controls should be rendered, true by default */\n  withControls?: boolean;\n\n  /** Adds props to next/previous/first/last controls */\n  getControlProps?: (\n    control: \"first\" | \"previous\" | \"last\" | \"next\",\n  ) => Record<string, any>;\n\n  /** Next control icon component */\n  nextIcon?: PaginationIcon;\n\n  /** Previous control icon component */\n  previousIcon?: PaginationIcon;\n\n  /** Last control icon component */\n  lastIcon?: PaginationIcon;\n\n  /** First control icon component */\n  firstIcon?: PaginationIcon;\n\n  /** Dots icon component */\n  dotsIcon?: PaginationIcon;\n\n  /** Key of `theme.spacing`, gap between controls, `8` by default */\n  gap?: RaikouSize | (string & {}) | number;\n}\n\nexport type PaginationFactory = Factory<{\n  props: PaginationProps;\n  ref: HTMLDivElement;\n  stylesNames: PaginationStylesNames;\n  vars: PaginationCssVariables;\n  staticComponents: {\n    Root: typeof PaginationRoot;\n    Control: typeof PaginationControl;\n    Dots: typeof PaginationDots;\n    First: typeof PaginationFirst;\n    Last: typeof PaginationLast;\n    Next: typeof PaginationNext;\n    Previous: typeof PaginationPrevious;\n    Items: typeof PaginationItems;\n  };\n}>;\n\nconst defaultProps: Partial<PaginationProps> = {\n  withControls: true,\n  siblings: 1,\n  boundaries: 1,\n  gap: 8,\n};\n\nexport const Pagination = factory<PaginationFactory>((_props, ref) => {\n  const props = useProps(\"Pagination\", defaultProps, _props);\n  const {\n    withEdges,\n    withControls,\n    getControlProps,\n    nextIcon,\n    previousIcon,\n    lastIcon,\n    firstIcon,\n    dotsIcon,\n    total,\n    gap,\n    ...others\n  } = props;\n\n  if (total <= 0) {\n    return null;\n  }\n\n  return (\n    <PaginationRoot ref={ref} total={total} {...others}>\n      <Group gap={gap}>\n        {withEdges && (\n          <PaginationFirst icon={firstIcon} {...getControlProps?.(\"first\")} />\n        )}\n        {withControls && (\n          <PaginationPrevious\n            icon={previousIcon}\n            {...getControlProps?.(\"previous\")}\n          />\n        )}\n        <PaginationItems dotsIcon={dotsIcon} />\n        {withControls && (\n          <PaginationNext icon={nextIcon} {...getControlProps?.(\"next\")} />\n        )}\n        {withEdges && (\n          <PaginationLast icon={lastIcon} {...getControlProps?.(\"last\")} />\n        )}\n      </Group>\n    </PaginationRoot>\n  );\n});\n\nPagination.displayName = \"@raikou/core/Pagination\";\nPagination.Root = PaginationRoot;\nPagination.Control = PaginationControl;\nPagination.Dots = PaginationDots;\nPagination.First = PaginationFirst;\nPagination.Last = PaginationLast;\nPagination.Next = PaginationNext;\nPagination.Previous = PaginationPrevious;\nPagination.Items = PaginationItems;\n","import React from \"react\";\nimport { usePagination } from \"@raikou/hooks\";\nimport {\n  Box,\n  BoxProps,\n  StylesApiProps,\n  factory,\n  ElementProps,\n  useProps,\n  useStyles,\n  createVarsResolver,\n  Factory,\n  RaikouSize,\n  RaikouColor,\n  RaikouRadius,\n  createEventHandler,\n  getRadius,\n  getSize,\n  getFontSize,\n  getThemeColor,\n} from \"@raikou/core\";\nimport { PaginationProvider } from \"../Pagination.context\";\nimport classes from \"../Pagination.module.css\";\n\nexport type PaginationRootStylesNames = \"root\" | \"control\" | \"dots\";\nexport type PaginationRootCssVariables = {\n  root:\n    | \"--pagination-control-size\"\n    | \"--pagination-control-radius\"\n    | \"--pagination-control-fz\"\n    | \"--pagination-active-bg\";\n};\n\nexport interface PaginationRootProps\n  extends BoxProps,\n    StylesApiProps<PaginationRootFactory>,\n    ElementProps<\"div\", \"value\" | \"onChange\"> {\n  /** `height` and `min-width` of controls, `'md'` by default */\n  size?: RaikouSize | (string & {}) | number;\n\n  /** Total number of pages, must be an integer */\n  total: number;\n\n  /** Active page for controlled component, must be an integer in [0, total] interval */\n  value?: number;\n\n  /** Active page for uncontrolled component, must be an integer in [0, total] interval */\n  defaultValue?: number;\n\n  /** Called when page changes */\n  onChange?: (value: number) => void;\n\n  /** Determines whether all controls should be disabled, `false` by default */\n  disabled?: boolean;\n\n  /** Number of siblings displayed on the left/right side of the selected page, `1` by default */\n  siblings?: number;\n\n  /** Number of elements visible on the left/right edges, `1` by default */\n  boundaries?: number;\n\n  /** Key of `theme.colors`, active item color, `theme.primaryColor` by default */\n  color?: RaikouColor;\n\n  /** Key of `theme.radius` or any valid CSS value to set `border-radius`, numbers are converted to rem, `theme.defaultRadius` by default */\n  radius?: RaikouRadius;\n\n  /** Called when next page control is clicked */\n  onNextPage?: () => void;\n\n  /** Called when previous page control is clicked */\n  onPreviousPage?: () => void;\n\n  /** Called when first page control is clicked */\n  onFirstPage?: () => void;\n\n  /** Called when last page control is clicked */\n  onLastPage?: () => void;\n\n  /** Additional props passed down to controls */\n  getItemProps?: (page: number) => Record<string, any>;\n}\n\nexport type PaginationRootFactory = Factory<{\n  props: PaginationRootProps;\n  ref: HTMLDivElement;\n  stylesNames: PaginationRootStylesNames;\n  vars: PaginationRootCssVariables;\n}>;\n\nconst defaultProps: Partial<PaginationRootProps> = {\n  siblings: 1,\n  boundaries: 1,\n  size: \"md\",\n};\n\nconst varsResolver = createVarsResolver<PaginationRootFactory>(\n  (theme, { size, radius, color }) => ({\n    root: {\n      \"--pagination-control-radius\":\n        radius === undefined ? undefined : getRadius(radius),\n      \"--pagination-control-size\": getSize(size, \"pagination-control-size\"),\n      \"--pagination-control-fz\": getFontSize(size),\n      \"--pagination-active-bg\": color ? getThemeColor(color, theme) : undefined,\n    },\n  }),\n);\n\nexport const PaginationRoot = factory<PaginationRootFactory>((_props, ref) => {\n  const props = useProps(\"PaginationRoot\", defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    unstyled,\n    vars,\n    total,\n    value,\n    defaultValue,\n    onChange,\n    disabled,\n    siblings,\n    boundaries,\n    color,\n    radius,\n    onNextPage,\n    onPreviousPage,\n    onFirstPage,\n    onLastPage,\n    getItemProps,\n    ...others\n  } = props;\n\n  const getStyles = useStyles<PaginationRootFactory>({\n    name: \"Pagination\",\n    classes,\n    props,\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    vars,\n    varsResolver,\n  });\n\n  const { range, setPage, next, previous, active, first, last } = usePagination(\n    {\n      page: value,\n      initialPage: defaultValue,\n      onChange,\n      total,\n      siblings,\n      boundaries,\n    },\n  );\n\n  const handleNextPage = createEventHandler(onNextPage, next);\n  const handlePreviousPage = createEventHandler(onPreviousPage, previous);\n  const handleFirstPage = createEventHandler(onFirstPage, first);\n  const handleLastPage = createEventHandler(onLastPage, last);\n\n  return (\n    <PaginationProvider\n      value={{\n        total,\n        range,\n        active,\n        disabled,\n        getItemProps,\n        onChange: setPage,\n        onNext: handleNextPage,\n        onPrevious: handlePreviousPage,\n        onFirst: handleFirstPage,\n        onLast: handleLastPage,\n        getStyles,\n      }}\n    >\n      <Box ref={ref} {...getStyles(\"root\")} {...others} />\n    </PaginationProvider>\n  );\n});\n\nPaginationRoot.classes = classes;\nPaginationRoot.displayName = \"@raikou/core/PaginationRoot\";\n","import { GetStylesApi } from \"@raikou/core\";\nimport { createSafeContext } from \"../../_utils\";\nimport type { PaginationRootFactory } from \"./PaginationRoot/PaginationRoot\";\n\ninterface PaginationContext {\n  total: number;\n  range: (number | \"dots\")[];\n  active: number;\n  disabled: boolean | undefined;\n  // color: RaikouColor;\n  // radius: RaikouNumberSize;\n  getItemProps?: (page: number) => Record<string, any>;\n  onChange: (page: number) => void;\n  onNext: () => void;\n  onPrevious: () => void;\n  onFirst: () => void;\n  onLast: () => void;\n  getStyles: GetStylesApi<PaginationRootFactory>;\n}\n\nexport const [PaginationProvider, usePaginationContext] =\n  createSafeContext<PaginationContext>(\n    \"Pagination.Root component was not found in tree\",\n  );\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/Pagination/src/Pagination.module.css\"; export default {\"root\":\"m-4addd315\",\"control\":\"m-326d024a\",\"dots\":\"m-4ad7767d\"}","import React from \"react\";\nimport {\n  BoxProps,\n  CompoundStylesApiProps,\n  factory,\n  ElementProps,\n  useProps,\n  Factory,\n} from \"@raikou/core\";\nimport { UnstyledButton } from \"../../../UnstyledButton/src\";\nimport { usePaginationContext } from \"../Pagination.context\";\n\nexport type PaginationControlStylesNames = \"control\";\n\nexport interface PaginationControlProps\n  extends BoxProps,\n    CompoundStylesApiProps<PaginationControlFactory>,\n    ElementProps<\"button\"> {\n  /** Determines whether control should have active styles */\n  active?: boolean;\n\n  /** Determines whether control should have padding, true by default */\n  withPadding?: boolean;\n}\n\nexport type PaginationControlFactory = Factory<{\n  props: PaginationControlProps;\n  ref: HTMLButtonElement;\n  stylesNames: PaginationControlStylesNames;\n  compound: true;\n}>;\n\nconst defaultProps: Partial<PaginationControlProps> = {\n  withPadding: true,\n};\n\nexport const PaginationControl = factory<PaginationControlFactory>(\n  (_props, ref) => {\n    const props = useProps(\"PaginationControl\", defaultProps, _props);\n    const {\n      classNames,\n      className,\n      style,\n      styles,\n      vars,\n      active,\n      disabled,\n      withPadding,\n      ...others\n    } = props;\n\n    const ctx = usePaginationContext();\n    const _disabled = disabled || ctx.disabled;\n\n    return (\n      <UnstyledButton\n        ref={ref}\n        disabled={_disabled}\n        mod={{ active, disabled: _disabled, \"with-padding\": withPadding }}\n        {...ctx.getStyles(\"control\", {\n          className,\n          style,\n          classNames,\n          styles,\n          active: !_disabled,\n        })}\n        {...others}\n      />\n    );\n  },\n);\n\nPaginationControl.displayName = \"@raikou/core/PaginationControl\";\n","import React from \"react\";\nimport {\n  Box,\n  BoxProps,\n  CompoundStylesApiProps,\n  factory,\n  ElementProps,\n  useProps,\n  Factory,\n} from \"@raikou/core\";\nimport { usePaginationContext } from \"../Pagination.context\";\nimport { PaginationDotsIcon, PaginationIconProps } from \"../Pagination.icons\";\n\nexport type PaginationDotsStylesNames = \"dots\";\n\nexport interface PaginationDotsProps\n  extends BoxProps,\n    CompoundStylesApiProps<PaginationDotsFactory>,\n    ElementProps<\"div\"> {\n  /** Custom dots icon component, must accept svg element props and size prop */\n  icon?: React.FC<PaginationIconProps>;\n}\n\nexport type PaginationDotsFactory = Factory<{\n  props: PaginationDotsProps;\n  ref: HTMLDivElement;\n  stylesNames: PaginationDotsStylesNames;\n  compound: true;\n}>;\n\nconst defaultProps: Partial<PaginationDotsProps> = {\n  icon: PaginationDotsIcon,\n};\n\nexport const PaginationDots = factory<PaginationDotsFactory>((_props, ref) => {\n  const props = useProps(\"PaginationDots\", defaultProps, _props);\n  const { classNames, className, style, styles, vars, icon, ...others } = props;\n  const ctx = usePaginationContext();\n  const Icon = icon!;\n\n  return (\n    <Box\n      ref={ref}\n      {...ctx.getStyles(\"dots\", { className, style, styles, classNames })}\n      {...others}\n    >\n      <Icon\n        style={{\n          width: \"calc(var(--pagination-control-size) / 1.8)\",\n          height: \"calc(var(--pagination-control-size) / 1.8)\",\n        }}\n      />\n    </Box>\n  );\n});\n\nPaginationDots.displayName = \"@raikou/core/PaginationDots\";\n","import React from 'react';\n\ninterface _PaginationIconProps extends React.ComponentPropsWithoutRef<'svg'> {\n  path: string;\n}\n\nexport type PaginationIconProps = Omit<_PaginationIconProps, 'path'>;\nexport type PaginationIcon = React.FC<PaginationIconProps>;\n\nfunction PaginationIcon({ style, children, path, ...others }: _PaginationIconProps) {\n  return (\n    <svg\n      viewBox=\"0 0 16 16\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      style={{\n        width: 'calc(var(--pagination-control-size) / 1.8)',\n        height: 'calc(var(--pagination-control-size) / 1.8)',\n        ...style,\n      }}\n      {...others}\n    >\n      <path d={path} fill=\"currentColor\" />\n    </svg>\n  );\n}\n\nexport const PaginationNextIcon = (props: PaginationIconProps) => (\n  <PaginationIcon\n    {...props}\n    path=\"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z\"\n  />\n);\n\nexport const PaginationPreviousIcon = (props: PaginationIconProps) => (\n  <PaginationIcon\n    {...props}\n    path=\"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z\"\n  />\n);\n\nexport const PaginationFirstIcon = (props: PaginationIconProps) => (\n  <PaginationIcon\n    {...props}\n    path=\"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z\"\n  />\n);\n\nexport const PaginationLastIcon = (props: PaginationIconProps) => (\n  <PaginationIcon\n    {...props}\n    path=\"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z\"\n  />\n);\n\nexport const PaginationDotsIcon = (props: PaginationIconProps) => (\n  <PaginationIcon\n    {...props}\n    path=\"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z\"\n  />\n);\n","import React, { forwardRef } from \"react\";\nimport { createPolymorphicComponent, useProps, BoxProps } from \"@raikou/core\";\nimport { usePaginationContext } from \"../Pagination.context\";\nimport {\n  PaginationNextIcon,\n  PaginationPreviousIcon,\n  PaginationFirstIcon,\n  PaginationLastIcon,\n  PaginationIconProps,\n} from \"../Pagination.icons\";\nimport { PaginationControl } from \"../PaginationControl/PaginationControl\";\n\nexport interface CreateEdgeComponent {\n  icon: React.FC<PaginationIconProps>;\n  name: string;\n  action: \"onNext\" | \"onPrevious\" | \"onFirst\" | \"onLast\";\n  type: \"next\" | \"previous\";\n}\n\nexport interface PaginationEdgeProps extends BoxProps {\n  icon?: React.FC<PaginationIconProps>;\n}\n\nexport function createEdgeComponent({\n  icon,\n  name,\n  action,\n  type,\n}: CreateEdgeComponent) {\n  const defaultProps: Partial<PaginationEdgeProps> = { icon };\n\n  const Component = forwardRef<HTMLButtonElement, PaginationEdgeProps>(\n    (props, ref) => {\n      const { icon: _icon, ...others } = useProps(name, defaultProps, props);\n      const Icon = _icon!;\n      const ctx = usePaginationContext();\n      const disabled =\n        type === \"next\" ? ctx.active === ctx.total : ctx.active === 1;\n\n      return (\n        <PaginationControl\n          disabled={ctx.disabled || disabled}\n          ref={ref}\n          onClick={ctx[action]}\n          withPadding={false}\n          {...others}\n        >\n          <Icon\n            style={{\n              width: \"calc(var(--pagination-control-size) / 1.8)\",\n              height: \"calc(var(--pagination-control-size) / 1.8)\",\n            }}\n          />\n        </PaginationControl>\n      );\n    }\n  );\n\n  Component.displayName = `@raikou/core/${name}`;\n  return createPolymorphicComponent<\"button\", PaginationEdgeProps>(Component);\n}\n\nexport const PaginationNext = createEdgeComponent({\n  icon: PaginationNextIcon,\n  name: \"PaginationNext\",\n  action: \"onNext\",\n  type: \"next\",\n});\n\nexport const PaginationPrevious = createEdgeComponent({\n  icon: PaginationPreviousIcon,\n  name: \"PaginationPrevious\",\n  action: \"onPrevious\",\n  type: \"previous\",\n});\n\nexport const PaginationFirst = createEdgeComponent({\n  icon: PaginationFirstIcon,\n  name: \"PaginationFirst\",\n  action: \"onFirst\",\n  type: \"previous\",\n});\n\nexport const PaginationLast = createEdgeComponent({\n  icon: PaginationLastIcon,\n  name: \"PaginationLast\",\n  action: \"onLast\",\n  type: \"next\",\n});\n","import React from \"react\";\nimport { usePaginationContext } from \"../Pagination.context\";\nimport { PaginationControl } from \"../PaginationControl/PaginationControl\";\nimport { PaginationDots } from \"../PaginationDots/PaginationDots\";\nimport { PaginationIcon } from \"../Pagination.icons\";\n\nexport interface PaginationItemsProps {\n  /** Dots icon component */\n  dotsIcon?: PaginationIcon;\n}\n\nexport function PaginationItems({ dotsIcon }: PaginationItemsProps) {\n  const ctx = usePaginationContext();\n\n  const items = ctx.range.map((page: number | \"dots\", index: number) => {\n    if (page === \"dots\") {\n      return <PaginationDots icon={dotsIcon} key={index} />;\n    }\n\n    return (\n      <PaginationControl\n        key={index}\n        active={page === ctx.active}\n        aria-current={page === ctx.active ? \"page\" : undefined}\n        onClick={() => ctx.onChange(page)}\n        disabled={ctx.disabled}\n        {...ctx.getItemProps?.(page)}\n      >\n        {page}\n      </PaginationControl>\n    );\n  });\n\n  return <>{items}</>;\n}\n\nPaginationItems.displayName = \"@raikou/core/PaginationItems\";\n","import React from \"react\";\nimport { RaikouColor, rem, type RaikouSize } from \"@raikou/core\";\nimport { Button } from \"../../components/Button/src\";\nimport { Group } from \"../../components/Group/src\";\nimport {\n  Menu,\n  MenuDropdown,\n  MenuItem,\n  MenuTarget,\n} from \"../../components/Menu/src\";\nimport { Text } from \"../../components/Text/src\";\nimport clsx from \"clsx\";\nimport { getPaginationCssVariables } from \"./cssVariables\";\nimport { IconSelector } from \"./icons/IconSelector\";\nimport classes from \"./DataTablePageSizeSelector.module.css\";\n\ntype DataTablePageSizeSelectorComponentProps = {\n  size: RaikouSize;\n  label: string;\n  values: number[];\n  value: number;\n  activeTextColor:\n    | RaikouColor\n    | { dark: RaikouColor; light: RaikouColor }\n    | undefined;\n  activeBackgroundColor:\n    | RaikouColor\n    | { dark: RaikouColor; light: RaikouColor }\n    | undefined;\n  onChange: (value: number) => void;\n};\n\nconst HEIGHT: Record<RaikouSize, string> = {\n  xs: rem(22),\n  sm: rem(26),\n  md: rem(32),\n  lg: rem(38),\n  xl: rem(44),\n};\n\nexport function DataTablePageSizeSelector({\n  size,\n  label,\n  values,\n  value,\n  activeTextColor,\n  activeBackgroundColor,\n  onChange,\n}: DataTablePageSizeSelectorComponentProps) {\n  return (\n    <Group gap=\"xs\">\n      <Text size={size}>{label}</Text>\n      <Menu withinPortal withArrow>\n        <MenuTarget>\n          <Button\n            size={size}\n            variant=\"default\"\n            classNames={{\n              section:\n                classes[\"mantine-datatable-page-size-selector-button-icon\"],\n            }}\n            rightSection={<IconSelector />}\n            style={[\n              { fontWeight: \"normal\" },\n              (theme) => ({\n                height: HEIGHT[size],\n                paddingLeft: theme.spacing[size],\n                paddingRight: theme.spacing[size],\n              }),\n            ]}\n          >\n            {value}\n          </Button>\n        </MenuTarget>\n        <MenuDropdown>\n          {values.map((v) => {\n            const isCurrent = v === value;\n            return (\n              <MenuItem\n                key={v}\n                className={clsx({\n                  \"mantine-datatable-page-size-selector-active\": isCurrent,\n                })}\n                style={[\n                  { height: HEIGHT[size] },\n                  isCurrent && (activeTextColor || activeBackgroundColor)\n                    ? (theme) =>\n                        getPaginationCssVariables({\n                          theme,\n                          paginationActiveTextColor: activeTextColor,\n                          paginationActiveBackgroundColor:\n                            activeBackgroundColor,\n                        })\n                    : undefined,\n                ]}\n                disabled={isCurrent}\n                onClick={() => onChange(v)}\n              >\n                <Text size={size}>{v}</Text>\n              </MenuItem>\n            );\n          })}\n        </MenuDropdown>\n      </Menu>\n    </Group>\n  );\n}\n","import React from \"react\";\nimport {\n  BoxProps,\n  StylesApiProps,\n  polymorphicFactory,\n  useProps,\n  useStyles,\n  createVarsResolver,\n  PolymorphicFactory,\n  RaikouSize,\n  RaikouColor,\n  RaikouRadius,\n  RaikouGradient,\n  Box,\n  getRadius,\n  getSize,\n  getFontSize,\n} from \"@raikou/core\";\nimport { UnstyledButton } from \"../../UnstyledButton/src\";\nimport { Loader, LoaderProps } from \"../../Loader/src\";\nimport { ButtonGroup } from \"./ButtonGroup/ButtonGroup\";\nimport classes from \"./Button.module.css\";\n\nexport type ButtonStylesNames =\n  | \"root\"\n  | \"inner\"\n  | \"loader\"\n  | \"section\"\n  | \"label\";\nexport type ButtonVariant =\n  | \"filled\"\n  | \"light\"\n  | \"outline\"\n  | \"transparent\"\n  | \"white\"\n  | \"subtle\"\n  | \"default\"\n  | \"gradient\";\n\nexport type ButtonCssVariables = {\n  root:\n    | \"--button-justify\"\n    | \"--button-height\"\n    | \"--button-padding-x\"\n    | \"--button-fz\"\n    | \"--button-radius\"\n    | \"--button-bg\"\n    | \"--button-hover\"\n    | \"--button-color\"\n    | \"--button-bd\";\n};\n\nexport interface ButtonProps extends BoxProps, StylesApiProps<ButtonFactory> {\n  \"data-disabled\"?: boolean;\n\n  /** Controls button `height`, `font-size` and horizontal `padding`, `'sm'` by default */\n  size?: RaikouSize | `compact-${RaikouSize}` | (string & {});\n\n  /** Key of `theme.colors` or any valid CSS color, `theme.primaryColor` by default */\n  color?: RaikouColor;\n\n  /** Sets `justify-content` of `inner` element, can be used to change distribution of sections and label, `'center'` by default */\n  justify?: React.CSSProperties[\"justifyContent\"];\n\n  /** Content displayed on the left side of the button label */\n  leftSection?: React.ReactNode;\n\n  /** Content displayed on the right side of the button label */\n  rightSection?: React.ReactNode;\n\n  /** Determines whether button should take 100% width of its parent container, `false` by default */\n  fullWidth?: boolean;\n\n  /** Key of `theme.radius` or any valid CSS value to set `border-radius`, `theme.defaultRadius` by default */\n  radius?: RaikouRadius;\n\n  /** Gradient configuration used when `variant=\"gradient\"`, default value is `theme.defaultGradient` */\n  gradient?: RaikouGradient;\n\n  /** Indicates disabled state */\n  disabled?: boolean;\n\n  /** Button content */\n  children?: React.ReactNode;\n\n  /** Determines whether the `Loader` component should be displayed over the button */\n  loading?: boolean;\n\n  /** Props added to the `Loader` component (only visible when `loading` prop is set) */\n  loaderProps?: LoaderProps;\n\n  /** Loader position relative to button label */\n  loaderPosition?: \"left\" | \"right\" | \"center\";\n}\n\nexport type ButtonFactory = PolymorphicFactory<{\n  props: ButtonProps;\n  defaultRef: HTMLButtonElement;\n  defaultComponent: \"button\";\n  stylesNames: ButtonStylesNames;\n  vars: ButtonCssVariables;\n  staticComponents: {\n    Group: typeof ButtonGroup;\n  };\n  variant: ButtonVariant;\n}>;\n\nconst defaultProps: Partial<ButtonProps> = {\n  loaderPosition: \"left\",\n};\n\nconst varsResolver = createVarsResolver<ButtonFactory>(\n  (theme, { radius, color, gradient, variant, size, justify }) => {\n    const colors = theme.variantColorResolver({\n      color: color || theme.primaryColor,\n      theme,\n      gradient,\n      variant: variant || \"filled\",\n    });\n\n    return {\n      root: {\n        \"--button-justify\": justify,\n        \"--button-height\": getSize(size, \"button-height\"),\n        \"--button-padding-x\": getSize(size, \"button-padding-x\"),\n        \"--button-fz\": size?.includes(\"compact\")\n          ? getFontSize(size.replace(\"compact-\", \"\"))\n          : getFontSize(size),\n        \"--button-radius\": radius ? getRadius(radius) : undefined,\n        \"--button-bg\": color || variant ? colors.background : undefined,\n        \"--button-hover\": color || variant ? colors.hover : undefined,\n        \"--button-color\": color || variant ? colors.color : undefined,\n        \"--button-bd\": color || variant ? colors.border : undefined,\n      },\n    };\n  },\n);\n\nexport const Button = polymorphicFactory<ButtonFactory>((_props, ref) => {\n  const props = useProps(\"Button\", defaultProps, _props);\n  const {\n    style,\n    vars,\n    className,\n    color,\n    disabled,\n    children,\n    leftSection,\n    rightSection,\n    fullWidth,\n    variant,\n    radius,\n    loading,\n    loaderPosition,\n    loaderProps,\n    gradient,\n    classNames,\n    styles,\n    unstyled,\n    \"data-disabled\": dataDisabled,\n    ...others\n  } = props;\n\n  const getStyles = useStyles<ButtonFactory>({\n    name: \"Button\",\n    props,\n    classes,\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    vars,\n    varsResolver,\n  });\n\n  const hasLeftSection = !!leftSection;\n  const hasRightSection = !!rightSection;\n\n  return (\n    <UnstyledButton\n      ref={ref}\n      {...getStyles(\"root\", { active: !disabled && !loading && !dataDisabled })}\n      unstyled={unstyled}\n      variant={variant}\n      disabled={disabled || loading}\n      mod={[\n        \"button\",\n        {\n          disabled: disabled || dataDisabled,\n          loading,\n          block: fullWidth,\n          \"with-left-section\": hasLeftSection,\n          \"with-right-section\": hasRightSection,\n        },\n      ]}\n      {...others}\n    >\n      <span {...getStyles(\"inner\")}>\n        {!loading && leftSection && (\n          <Box\n            component=\"span\"\n            {...getStyles(\"section\")}\n            mod={{ position: \"left\" }}\n          >\n            {leftSection}\n          </Box>\n        )}\n\n        {loading && loaderPosition === \"left\" && (\n          <Box\n            component=\"span\"\n            {...getStyles(\"section\")}\n            mod={{ position: \"left\" }}\n          >\n            {!loading && leftSection}\n            {loading && (\n              <Loader\n                type=\"progress\"\n                color=\"var(--button-color)\"\n                size=\"calc(var(--button-height) / 2.4)\"\n                {...loaderProps}\n              />\n            )}\n          </Box>\n        )}\n\n        {loading && loaderPosition === \"center\" && (\n          <Box component=\"span\" {...getStyles(\"loader\")}>\n            <Loader\n              color=\"var(--button-color)\"\n              size=\"calc(var(--button-height) / 1.8)\"\n              {...loaderProps}\n            />\n          </Box>\n        )}\n\n        <Box component=\"span\" mod={{ loading }} {...getStyles(\"label\")}>\n          {children}\n        </Box>\n\n        {rightSection && (\n          <Box\n            component=\"span\"\n            {...getStyles(\"section\")}\n            mod={{ position: \"right\" }}\n          >\n            {rightSection}\n          </Box>\n        )}\n      </span>\n    </UnstyledButton>\n  );\n});\n\nButton.displayName = \"@raikou/core/Button\";\nButton.Group = ButtonGroup;\nButton.classes = classes;\n","import React from \"react\";\nimport {\n  factory,\n  Box,\n  BoxProps,\n  StylesApiProps,\n  useProps,\n  useStyles,\n  rem,\n  createVarsResolver,\n  Factory,\n} from \"@raikou/core\";\n\nexport type ButtonGroupStylesNames = \"group\";\nexport type ButtonGroupVariant = string;\nexport type ButtonGroupCssVariables = {\n  group: \"--button-border-width\";\n};\n\nexport interface ButtonGroupProps\n  extends BoxProps,\n    StylesApiProps<ButtonGroupFactory> {\n  /** `Button` components */\n  children?: React.ReactNode;\n\n  /** Orientation of the group, `horizontal` by default */\n  orientation?: \"horizontal\" | \"vertical\";\n\n  /** `border-width` of the child `Button` components. Numbers are converted to rem. Default value in `1`. */\n  borderWidth?: number | string;\n}\n\nexport type ButtonGroupFactory = Factory<{\n  props: ButtonGroupProps;\n  ref: HTMLDivElement;\n  variant: ButtonGroupVariant;\n  stylesNames: ButtonGroupStylesNames;\n  vars: ButtonGroupCssVariables;\n}>;\n\nconst defaultProps: Partial<ButtonGroupProps> = {\n  orientation: \"horizontal\",\n};\n\nconst varsResolver = createVarsResolver<ButtonGroupFactory>(\n  (_, { borderWidth }) => ({\n    group: { \"--button-border-width\": rem(borderWidth) },\n  }),\n);\n\nexport const ButtonGroup = factory<ButtonGroupFactory>((_props, ref) => {\n  const props = useProps(\"ButtonGroup\", defaultProps, _props);\n  const {\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    orientation,\n    vars,\n    borderWidth,\n    variant,\n    ...others\n  } = useProps(\"ButtonGroup\", defaultProps, _props);\n\n  const getStyles = useStyles<ButtonGroupFactory>({\n    name: \"ButtonGroup\",\n    props,\n    classes: {\n      group: \"buttonGroup-group\",\n    },\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    vars,\n    varsResolver,\n    rootSelector: \"group\",\n  });\n\n  return (\n    <Box\n      {...getStyles(\"group\")}\n      ref={ref}\n      variant={variant}\n      mod={{ \"data-orientation\": orientation }}\n      role=\"group\"\n      {...others}\n    />\n  );\n});\n\nButtonGroup.displayName = \"@raikou/core/ButtonGroup\";\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/Button/src/Button.module.css\"; export default {\"root\":\"m-77c9d27d\",\"inner\":\"m-80f1301b\",\"label\":\"m-811560b9\",\"section\":\"m-a74036a\",\"loader\":\"m-a25b86ee\",\"group\":\"m-80d6d844\"}","import React from \"react\";\nimport { useDidUpdate, useUncontrolled } from \"@raikou/hooks\";\nimport {\n  StylesApiProps,\n  useProps,\n  Factory,\n  useStyles,\n  useResolvedStylesApi,\n  ExtendComponent,\n} from \"@raikou/core\";\nimport { getContextItemIndex, useHovered } from \"../../_utils\";\nimport { useDelayedHover } from \"../../Floating/src\";\nimport { Popover, __PopoverProps, PopoverStylesNames } from \"../../Popover/src\";\nimport { MenuDivider } from \"./MenuDivider/MenuDivider\";\nimport { MenuDropdown } from \"./MenuDropdown/MenuDropdown\";\nimport { MenuItem } from \"./MenuItem/MenuItem\";\nimport { MenuLabel } from \"./MenuLabel/MenuLabel\";\nimport { MenuTarget } from \"./MenuTarget/MenuTarget\";\nimport { MenuContextProvider } from \"./Menu.context\";\nimport classes from \"./Menu.module.css\";\n\nexport type MenuStylesNames =\n  | \"item\"\n  | \"itemLabel\"\n  | \"itemSection\"\n  | \"label\"\n  | \"divider\"\n  | PopoverStylesNames;\n\nexport type MenuFactory = Factory<{\n  props: MenuProps;\n  ref: HTMLDivElement;\n  stylesNames: MenuStylesNames;\n}>;\n\nexport interface MenuProps extends __PopoverProps, StylesApiProps<MenuFactory> {\n  variant?: string;\n\n  /** Menu content */\n  children?: React.ReactNode;\n\n  /** Controlled menu opened state */\n  opened?: boolean;\n\n  /** Uncontrolled menu initial opened state */\n  defaultOpened?: boolean;\n\n  /** Called when menu opened state changes */\n  onChange?: (opened: boolean) => void;\n\n  /** Called when Menu is opened */\n  onOpen?: () => void;\n\n  /** Called when Menu is closed */\n  onClose?: () => void;\n\n  /** Determines whether Menu should be closed when item is clicked */\n  closeOnItemClick?: boolean;\n\n  /** Determines whether arrow key presses should loop though items (first to last and last to first) */\n  loop?: boolean;\n\n  /** Determines whether dropdown should be closed when Escape key is pressed, defaults to true */\n  closeOnEscape?: boolean;\n\n  /** Event which should open menu */\n  trigger?: \"click\" | \"hover\";\n\n  /** Open delay in ms, applicable only to trigger=\"hover\" variant */\n  openDelay?: number;\n\n  /** Close delay in ms, applicable only to trigger=\"hover\" variant */\n  closeDelay?: number;\n\n  /** Determines whether dropdown should be closed on outside clicks, default to true */\n  closeOnClickOutside?: boolean;\n\n  /** Events that trigger outside clicks */\n  clickOutsideEvents?: string[];\n\n  /** id base to create accessibility connections */\n  id?: string;\n}\n\nconst defaultProps: Partial<MenuProps> = {\n  closeOnItemClick: true,\n  loop: true,\n  trigger: \"click\",\n  openDelay: 0,\n  closeDelay: 100,\n};\n\nexport function Menu(_props: MenuProps) {\n  const props = useProps(\"Menu\", defaultProps, _props);\n  const {\n    children,\n    onOpen,\n    onClose,\n    opened,\n    defaultOpened,\n    onChange,\n    closeOnItemClick,\n    loop,\n    closeOnEscape,\n    trigger,\n    openDelay,\n    closeDelay,\n    classNames,\n    styles,\n    unstyled,\n    variant,\n    vars,\n    ...others\n  } = props;\n\n  const getStyles = useStyles<MenuFactory>({\n    name: \"Menu\",\n    classes,\n    props,\n    classNames,\n    styles,\n    unstyled,\n  });\n\n  const [hovered, { setHovered, resetHovered }] = useHovered();\n  const [_opened, setOpened] = useUncontrolled({\n    value: opened,\n    defaultValue: defaultOpened,\n    finalValue: false,\n    onChange,\n  });\n\n  const close = () => {\n    setOpened(false);\n    _opened && onClose?.();\n  };\n\n  const open = () => {\n    setOpened(true);\n    !_opened && onOpen?.();\n  };\n\n  const toggleDropdown = () => (_opened ? close() : open());\n\n  const { openDropdown, closeDropdown } = useDelayedHover({\n    open,\n    close,\n    closeDelay,\n    openDelay,\n  });\n\n  const getItemIndex = (node: HTMLButtonElement) =>\n    getContextItemIndex(\"[data-menu-item]\", \"[data-menu-dropdown]\", node);\n\n  const { resolvedClassNames, resolvedStyles } =\n    useResolvedStylesApi<MenuFactory>({\n      classNames,\n      styles,\n      props,\n    });\n\n  useDidUpdate(() => {\n    resetHovered();\n  }, [_opened]);\n\n  return (\n    <MenuContextProvider\n      value={{\n        getStyles,\n        opened: _opened,\n        toggleDropdown,\n        getItemIndex,\n        hovered,\n        setHovered,\n        closeOnItemClick,\n        closeDropdown: trigger === \"click\" ? close : closeDropdown,\n        openDropdown: trigger === \"click\" ? open : openDropdown,\n        closeDropdownImmediately: close,\n        loop,\n        trigger,\n      }}\n    >\n      <Popover\n        {...others}\n        opened={_opened}\n        onChange={toggleDropdown}\n        defaultOpened={defaultOpened}\n        trapFocus={trigger === \"click\"}\n        closeOnEscape={closeOnEscape && trigger === \"click\"}\n        __staticSelector=\"Menu\"\n        classNames={resolvedClassNames}\n        styles={resolvedStyles}\n        unstyled={unstyled}\n        variant={variant}\n      >\n        {children as any}\n      </Popover>\n    </MenuContextProvider>\n  );\n}\n\nMenu.extend = (input: ExtendComponent<MenuFactory>) => input;\nMenu.displayName = \"@raikou/core/Menu\";\nMenu.Item = MenuItem;\nMenu.Label = MenuLabel;\nMenu.Dropdown = MenuDropdown;\nMenu.Target = MenuTarget;\nMenu.Divider = MenuDivider;\n","import React from \"react\";\nimport {\n  Box,\n  BoxProps,\n  CompoundStylesApiProps,\n  factory,\n  ElementProps,\n  useProps,\n  Factory,\n} from \"@raikou/core\";\nimport { useMenuContext } from \"../Menu.context\";\nimport classes from \"../Menu.module.css\";\n\nexport type MenuDividerStylesNames = \"divider\";\n\nexport interface MenuDividerProps\n  extends BoxProps,\n    CompoundStylesApiProps<MenuDividerFactory>,\n    ElementProps<\"div\"> {}\n\nexport type MenuDividerFactory = Factory<{\n  props: MenuDividerProps;\n  ref: HTMLDivElement;\n  stylesNames: MenuDividerStylesNames;\n  compound: true;\n}>;\n\nconst defaultProps: Partial<MenuDividerProps> = {};\n\nexport const MenuDivider = factory<MenuDividerFactory>((props, ref) => {\n  const { classNames, className, style, styles, vars, ...others } = useProps(\n    \"MenuDivider\",\n    defaultProps,\n    props,\n  );\n  const ctx = useMenuContext();\n\n  return (\n    <Box\n      ref={ref}\n      {...ctx.getStyles(\"divider\", { className, style, styles, classNames })}\n      {...others}\n    />\n  );\n});\n\nMenuDivider.classes = classes;\nMenuDivider.displayName = \"@raikou/core/MenuDivider\";\n","import { GetStylesApi } from \"@raikou/core\";\nimport { createSafeContext } from \"../../_utils\";\nimport type { MenuFactory } from \"./Menu\";\n\ninterface MenuContext {\n  toggleDropdown: () => void;\n  closeDropdownImmediately: () => void;\n  closeDropdown: () => void;\n  openDropdown: () => void;\n  getItemIndex: (node: HTMLButtonElement) => number | null;\n  setHovered: (index: number | null) => void;\n  hovered: number | null;\n  closeOnItemClick: boolean | undefined;\n  loop: boolean | undefined;\n  trigger: \"click\" | \"hover\" | undefined;\n  opened: boolean;\n  getStyles: GetStylesApi<MenuFactory>;\n}\n\nexport const [MenuContextProvider, useMenuContext] =\n  createSafeContext<MenuContext>(\"Menu component was not found in the tree\");\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/Menu/src/Menu.module.css\"; export default {\"dropdown\":\"m-dc9b7c9f\",\"label\":\"m-9bfac126\",\"divider\":\"m-efdf90cb\",\"item\":\"m-99ac2aa1\",\"itemLabel\":\"m-5476e0d3\",\"itemSection\":\"m-8b75e504\"}","import React, { useRef } from \"react\";\nimport {\n  BoxProps,\n  CompoundStylesApiProps,\n  factory,\n  ElementProps,\n  useProps,\n  Factory,\n  createEventHandler,\n} from \"@raikou/core\";\nimport { Popover } from \"../../../Popover/src\";\nimport { useMenuContext } from \"../Menu.context\";\nimport classes from \"../Menu.module.css\";\n\nexport type MenuDropdownStylesNames = \"dropdown\";\n\nexport interface MenuDropdownProps\n  extends BoxProps,\n    CompoundStylesApiProps<MenuDropdownFactory>,\n    ElementProps<\"div\"> {}\n\nexport type MenuDropdownFactory = Factory<{\n  props: MenuDropdownProps;\n  ref: HTMLDivElement;\n  stylesNames: MenuDropdownStylesNames;\n  compound: true;\n}>;\n\nconst defaultProps: Partial<MenuDropdownProps> = {};\n\nexport const MenuDropdown = factory<MenuDropdownFactory>((props, ref) => {\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    vars,\n    onMouseEnter,\n    onMouseLeave,\n    children,\n    ...others\n  } = useProps(\"MenuDropdown\", defaultProps, props);\n\n  const wrapperRef = useRef<HTMLDivElement>(null);\n  const ctx = useMenuContext();\n\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLDivElement>) => {\n    if (event.key === \"ArrowUp\" || event.key === \"ArrowDown\") {\n      event.preventDefault();\n      wrapperRef.current\n        ?.querySelectorAll<HTMLButtonElement>(\n          \"[data-menu-item]:not(:disabled)\",\n        )[0]\n        ?.focus();\n    }\n  };\n\n  const handleMouseEnter = createEventHandler<any>(\n    onMouseEnter,\n    () => ctx.trigger === \"hover\" && ctx.openDropdown(),\n  );\n\n  const handleMouseLeave = createEventHandler<any>(\n    onMouseLeave,\n    () => ctx.trigger === \"hover\" && ctx.closeDropdown(),\n  );\n\n  return (\n    <Popover.Dropdown\n      {...others}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n      role=\"menu\"\n      aria-orientation=\"vertical\"\n      ref={ref}\n      {...ctx.getStyles(\"dropdown\", { className, style, styles, classNames })}\n    >\n      <div\n        tabIndex={-1}\n        data-menu-dropdown\n        data-autofocus\n        onKeyDown={handleKeyDown}\n        ref={wrapperRef}\n        style={{ outline: 0 }}\n      >\n        {children}\n      </div>\n    </Popover.Dropdown>\n  );\n});\n\nMenuDropdown.classes = classes;\nMenuDropdown.displayName = \"@raikou/core/MenuDropdown\";\n","import React, { useRef } from \"react\";\nimport { useMergedRef } from \"@raikou/hooks\";\nimport {\n  BoxProps,\n  CompoundStylesApiProps,\n  polymorphicFactory,\n  useProps,\n  PolymorphicFactory,\n  RaikouColor,\n  createEventHandler,\n  createScopedKeydownHandler,\n  useDirection,\n  useRaikouTheme,\n} from \"@raikou/core\";\nimport { UnstyledButton } from \"../../../UnstyledButton/src\";\nimport { useMenuContext } from \"../Menu.context\";\nimport classes from \"../Menu.module.css\";\n\nexport type MenuItemStylesNames = \"item\" | \"itemLabel\" | \"itemSection\";\n\nexport interface MenuItemProps\n  extends BoxProps,\n    CompoundStylesApiProps<MenuItemFactory> {\n  /** Item label */\n  children?: React.ReactNode;\n\n  /** Key of `theme.colors` or any valid CSS color */\n  color?: RaikouColor;\n\n  /** Determines whether the menu should be closed when the item is clicked, overrides `closeOnItemClick` prop on the `Menu` component */\n  closeMenuOnClick?: boolean;\n\n  /** Section displayed on the left side of the label */\n  leftSection?: React.ReactNode;\n\n  /** Section displayed on the right side of the label */\n  rightSection?: React.ReactNode;\n\n  /** Disables item */\n  disabled?: boolean;\n}\n\nexport type MenuItemFactory = PolymorphicFactory<{\n  props: MenuItemProps;\n  defaultRef: HTMLButtonElement;\n  defaultComponent: \"button\";\n  stylesNames: MenuItemStylesNames;\n  compound: true;\n}>;\n\nconst defaultProps: Partial<MenuItemProps> = {};\n\nexport const MenuItem = polymorphicFactory<MenuItemFactory>((props, ref) => {\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    vars,\n    color,\n    closeMenuOnClick,\n    leftSection,\n    rightSection,\n    children,\n    disabled,\n    ...others\n  } = useProps(\"MenuItem\", defaultProps, props);\n\n  const ctx = useMenuContext();\n  const theme = useRaikouTheme();\n  const { dir } = useDirection();\n  const itemRef = useRef<HTMLButtonElement>();\n  const itemIndex = ctx.getItemIndex(itemRef.current!);\n  const _others: any = others;\n\n  const handleMouseLeave = createEventHandler(_others.onMouseLeave, () =>\n    ctx.setHovered(-1),\n  );\n  const handleMouseEnter = createEventHandler(_others.onMouseEnter, () =>\n    ctx.setHovered(ctx.getItemIndex(itemRef.current!)),\n  );\n\n  const handleClick = createEventHandler(_others.onClick, () => {\n    if (typeof closeMenuOnClick === \"boolean\") {\n      // eslint-disable-next-line\n      closeMenuOnClick && ctx.closeDropdownImmediately();\n    } else {\n      // eslint-disable-next-line\n      ctx.closeOnItemClick && ctx.closeDropdownImmediately();\n    }\n  });\n\n  const handleFocus = createEventHandler(_others.onFocus, () =>\n    ctx.setHovered(ctx.getItemIndex(itemRef.current!)),\n  );\n\n  const colors = color\n    ? theme.variantColorResolver({ color, theme, variant: \"light\" })\n    : undefined;\n\n  return (\n    <UnstyledButton\n      {...others}\n      tabIndex={-1}\n      onFocus={handleFocus}\n      {...ctx.getStyles(\"item\", { className, style, styles, classNames })}\n      ref={useMergedRef(itemRef, ref)}\n      role=\"menuitem\"\n      disabled={disabled}\n      data-menu-item\n      data-disabled={disabled || undefined}\n      data-hovered={ctx.hovered === itemIndex ? true : undefined}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n      onClick={handleClick}\n      onKeyDown={createScopedKeydownHandler({\n        siblingSelector: \"[data-menu-item]\",\n        parentSelector: \"[data-menu-dropdown]\",\n        activateOnFocus: false,\n        loop: ctx.loop,\n        dir,\n        orientation: \"vertical\",\n        onKeyDown: _others.onKeydown,\n      })}\n      __vars={{\n        \"--menu-item-color\": colors?.color,\n        \"--menu-item-hover\": colors?.hover,\n      }}\n    >\n      {leftSection && (\n        <div\n          {...ctx.getStyles(\"itemSection\", { styles, classNames })}\n          data-position=\"left\"\n        >\n          {leftSection as any}\n        </div>\n      )}\n      {children && (\n        <div {...ctx.getStyles(\"itemLabel\", { styles, classNames })}>\n          {children as any}\n        </div>\n      )}\n      {rightSection && (\n        <div\n          {...ctx.getStyles(\"itemSection\", { styles, classNames })}\n          data-position=\"right\"\n        >\n          {rightSection as any}\n        </div>\n      )}\n    </UnstyledButton>\n  );\n});\n\nMenuItem.classes = classes;\nMenuItem.displayName = \"@raikou/core/MenuItem\";\n","import React from \"react\";\nimport {\n  Box,\n  BoxProps,\n  CompoundStylesApiProps,\n  factory,\n  ElementProps,\n  useProps,\n  Factory,\n} from \"@raikou/core\";\nimport { useMenuContext } from \"../Menu.context\";\nimport classes from \"../Menu.module.css\";\n\nexport type MenuLabelStylesNames = \"label\";\n\nexport interface MenuLabelProps\n  extends BoxProps,\n    CompoundStylesApiProps<MenuLabelFactory>,\n    ElementProps<\"div\"> {}\n\nexport type MenuLabelFactory = Factory<{\n  props: MenuLabelProps;\n  ref: HTMLDivElement;\n  stylesNames: MenuLabelStylesNames;\n  compound: true;\n}>;\n\nconst defaultProps: Partial<MenuLabelProps> = {};\n\nexport const MenuLabel = factory<MenuLabelFactory>((props, ref) => {\n  const { classNames, className, style, styles, vars, ...others } = useProps(\n    \"MenuLabel\",\n    defaultProps,\n    props,\n  );\n  const ctx = useMenuContext();\n\n  return (\n    <Box\n      ref={ref}\n      {...ctx.getStyles(\"label\", { className, style, styles, classNames })}\n      {...others}\n    />\n  );\n});\n\nMenuLabel.classes = classes;\nMenuLabel.displayName = \"@raikou/core/MenuLabel\";\n","import React, { cloneElement, forwardRef } from \"react\";\nimport { isElement, createEventHandler, useProps } from \"@raikou/core\";\nimport { useMenuContext } from \"../Menu.context\";\nimport { Popover } from \"../../../Popover/src\";\n\nexport interface MenuTargetProps {\n  /** Target element */\n  children: React.ReactNode;\n\n  /** Key of the prop that should be used to get element ref */\n  refProp?: string;\n}\n\nconst defaultProps: Partial<MenuTargetProps> = {\n  refProp: \"ref\",\n};\n\nexport const MenuTarget = forwardRef<HTMLElement, MenuTargetProps>(\n  (props, ref) => {\n    const { children, refProp, ...others } = useProps(\n      \"MenuTarget\",\n      defaultProps,\n      props,\n    );\n\n    if (!isElement(children)) {\n      throw new Error(\n        \"Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported\",\n      );\n    }\n\n    const ctx = useMenuContext();\n\n    const onClick = createEventHandler(\n      children.props.onClick,\n      () => ctx.trigger === \"click\" && ctx.toggleDropdown(),\n    );\n\n    const onMouseEnter = createEventHandler(\n      children.props.onMouseEnter,\n      () => ctx.trigger === \"hover\" && ctx.openDropdown(),\n    );\n\n    const onMouseLeave = createEventHandler(\n      children.props.onMouseLeave,\n      () => ctx.trigger === \"hover\" && ctx.closeDropdown(),\n    );\n\n    return (\n      <Popover.Target refProp={refProp} popupType=\"menu\" ref={ref} {...others}>\n        {\n          cloneElement(children, {\n            onClick,\n            onMouseEnter,\n            onMouseLeave,\n            \"data-expanded\": ctx.opened ? true : undefined,\n          }) as any\n        }\n      </Popover.Target>\n    );\n  },\n);\n\nMenuTarget.displayName = \"@raikou/core/MenuTarget\";\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/Menu/src/Menu.module.css\"; export default {\"dropdown\":\"m-dc9b7c9f\",\"label\":\"m-9bfac126\",\"divider\":\"m-efdf90cb\",\"item\":\"m-99ac2aa1\",\"itemLabel\":\"m-5476e0d3\",\"itemSection\":\"m-8b75e504\"}","import {\n  parseThemeColor,\n  type RaikouColor,\n  type RaikouTheme,\n} from \"@raikou/core\";\nimport type { DataTableProps } from \"./types\";\n\nexport function getColor(\n  color: RaikouColor | undefined | { light: RaikouColor; dark: RaikouColor },\n  theme: RaikouTheme,\n  colorScheme: \"light\" | \"dark\",\n) {\n  return color\n    ? parseThemeColor({\n        color: typeof color === \"object\" ? color[colorScheme] : color,\n        theme,\n      }).value\n    : undefined;\n}\n\nexport function getTableCssVariables({\n  theme,\n  c,\n  backgroundColor,\n  borderColor,\n  rowBorderColor,\n  stripedColor,\n  highlightOnHoverColor,\n}: Pick<\n  DataTableProps,\n  | \"c\"\n  | \"backgroundColor\"\n  | \"borderColor\"\n  | \"rowBorderColor\"\n  | \"stripedColor\"\n  | \"highlightOnHoverColor\"\n> & {\n  theme: RaikouTheme;\n}) {\n  return {\n    \"--raikou-datatable-color-light\": getColor(c, theme, \"light\"),\n    \"--raikou-datatable-color-dark\": getColor(c, theme, \"dark\"),\n\n    \"--raikou-datatable-background-color-light\": getColor(\n      backgroundColor,\n      theme,\n      \"light\",\n    ),\n    \"--raikou-datatable-background-color-dark\": getColor(\n      backgroundColor,\n      theme,\n      \"dark\",\n    ),\n\n    \"--raikou-datatable-border-color-light\": \"#dee2e6\",\n    \"--raikou-datatable-border-color-dark\": \"#373a40\",\n\n    \"--raikou-datatable-row-border-color-light\": getColor(\n      rowBorderColor,\n      theme,\n      \"light\",\n    ),\n    \"--raikou-datatable-row-border-color-dark\": getColor(\n      rowBorderColor,\n      theme,\n      \"dark\",\n    ),\n\n    \"--raikou-datatable-striped-color-light\": \"#f8f9fa\",\n    \"--raikou-datatable-striped-color-dark\": \"#25262b\",\n\n    \"--raikou-datatable-highlight-on-hover-color-light\": \"#f1f3f5\",\n    \"--raikou-datatable-highlight-on-hover-color-dark\": \"#2c2e33\",\n  };\n}\n\nexport function getPaginationCssVariables({\n  theme,\n  paginationActiveTextColor,\n  paginationActiveBackgroundColor,\n}: Pick<\n  DataTableProps,\n  \"paginationActiveTextColor\" | \"paginationActiveBackgroundColor\"\n> & {\n  theme: RaikouTheme;\n}) {\n  return {\n    \"--raikou-datatable-pagination-active-text-color-light\": getColor(\n      paginationActiveTextColor,\n      theme,\n      \"light\",\n    ),\n    \"--raikou-datatable-pagination-active-text-color-dark\": getColor(\n      paginationActiveTextColor,\n      theme,\n      \"dark\",\n    ),\n\n    \"--raikou-datatable-pagination-active-background-color-light\": getColor(\n      paginationActiveBackgroundColor,\n      theme,\n      \"light\",\n    ),\n    \"--raikou-datatable-pagination-active-background-color-dark\": getColor(\n      paginationActiveBackgroundColor,\n      theme,\n      \"dark\",\n    ),\n  };\n}\n\nexport function getRowCssVariables({\n  theme,\n  color,\n  backgroundColor,\n}: {\n  theme: RaikouTheme;\n  color: RaikouColor | undefined | { light: RaikouColor; dark: RaikouColor };\n  backgroundColor:\n    | RaikouColor\n    | undefined\n    | { light: RaikouColor; dark: RaikouColor };\n}) {\n  return {\n    \"--raikou-datatable-row-color-light\": getColor(color, theme, \"light\"),\n    \"--raikou-datatable-row-color-dark\": getColor(color, theme, \"dark\"),\n    \"--raikou-datatable-row-background-color-light\": getColor(\n      backgroundColor,\n      theme,\n      \"light\",\n    ),\n    \"--raikou-datatable-row-background-color-dark\": getColor(\n      backgroundColor,\n      theme,\n      \"dark\",\n    ),\n  };\n}\n","import React from \"react\";\n\nexport function IconSelector() {\n  return (\n    <svg\n      width=\"14\"\n      height=\"14\"\n      viewBox=\"0 0 24 24\"\n      strokeWidth=\"2\"\n      stroke=\"currentColor\"\n      fill=\"none\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\n      <path d=\"M8 9l4 -4l4 4\" />\n      <path d=\"M16 15l-4 4l-4 -4\" />\n    </svg>\n  );\n}\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/datatable/src/DataTablePageSizeSelector.module.css\"; export default {\"mantine-datatable-page-size-selector-button-icon\":\"m-ca992e1e\",\"mantine-datatable-page-size-selector-active\":\"m-cf8b6cdc\"}","import \"/Users/paul/development/src/github/raikou/packages/raikou/datatable/src/DataTablePagination.module.css\"; export default {\"mantine-datatable-pagination\":\"m-d9815d59\",\"mantine-datatable-pagination-text\":\"m-3c607921\",\"mantine-datatable-pagination-pages\":\"m-4f743a50\",\"mantine-datatable-pagination-pages-fetching\":\"m-ebcb41c5\",\"mantine-datatable-pagination-pages-control\":\"m-ed4932e0\"}","import React from \"react\";\nimport { type RaikouColor, type RaikouStyleProp } from \"@raikou/core\";\nimport { TableTr } from \"../../components/Table/src\";\nimport { type CheckboxProps } from \"../../components/Checkbox/src\";\nimport clsx from \"clsx\";\nimport { DataTableRowCell } from \"./DataTableRowCell\";\nimport { DataTableRowExpansion } from \"./DataTableRowExpansion\";\nimport { DataTableRowSelectorCell } from \"./DataTableRowSelectorCell\";\nimport { getRowCssVariables } from \"./cssVariables\";\nimport { useRowExpansion } from \"./hooks\";\nimport type {\n  DataTableCellClickHandler,\n  DataTableColumn,\n  DataTableDefaultColumnProps,\n  DataTableRowClickHandler,\n  DataTableSelectionTrigger,\n} from \"./types\";\nimport { POINTER_CURSOR } from \"./utilityClasses\";\nimport classes from \"./DataTableRow.module.css\";\n\ntype DataTableRowProps<T> = {\n  record: T;\n  index: number;\n  columns: DataTableColumn<T>[];\n  defaultColumnProps: DataTableDefaultColumnProps<T> | undefined;\n  defaultColumnRender:\n    | ((\n        record: T,\n        index: number,\n        accessor: keyof T | (string & NonNullable<unknown>),\n      ) => React.ReactNode)\n    | undefined;\n  selectionTrigger: DataTableSelectionTrigger;\n  selectionVisible: boolean;\n  selectionChecked: boolean;\n  onSelectionChange: React.MouseEventHandler | undefined;\n  isRecordSelectable: ((record: T, index: number) => boolean) | undefined;\n  getSelectionCheckboxProps: (record: T, index: number) => CheckboxProps;\n  onClick: DataTableRowClickHandler<T> | undefined;\n  onContextMenu: DataTableRowClickHandler<T> | undefined;\n  onCellClick: DataTableCellClickHandler<T> | undefined;\n  onCellContextMenu: DataTableCellClickHandler<T> | undefined;\n  expansion: ReturnType<typeof useRowExpansion<T>>;\n  customAttributes?: (record: T, index: number) => Record<string, unknown>;\n  color:\n    | ((\n        record: T,\n        index: number,\n      ) => RaikouColor | undefined | { light: RaikouColor; dark: RaikouColor })\n    | undefined;\n  backgroundColor:\n    | ((\n        record: T,\n        index: number,\n      ) => RaikouColor | undefined | { light: RaikouColor; dark: RaikouColor })\n    | undefined;\n  className?: string | ((record: T, index: number) => string | undefined);\n  style?: (record: T, index: number) => RaikouStyleProp | undefined;\n  selectorCellShadowVisible: boolean;\n};\n\nexport function DataTableRow<T>({\n  record,\n  index,\n  columns,\n  defaultColumnProps,\n  defaultColumnRender,\n  selectionTrigger,\n  selectionVisible,\n  selectionChecked,\n  onSelectionChange,\n  isRecordSelectable,\n  getSelectionCheckboxProps,\n  onClick,\n  onContextMenu,\n  onCellClick,\n  onCellContextMenu,\n  expansion,\n  customAttributes,\n  color,\n  backgroundColor,\n  className,\n  style,\n  selectorCellShadowVisible,\n}: DataTableRowProps<T>) {\n  return (\n    <>\n      <TableTr\n        className={clsx(\n          classes[\"mantine-datatable-row\"],\n          { [POINTER_CURSOR]: onClick || expansion?.expandOnClick },\n          typeof className === \"function\"\n            ? className(record, index)\n            : className,\n        )}\n        data-selected={selectionChecked || undefined}\n        onClick={(e) => {\n          if (expansion) {\n            const { isRowExpanded, expandOnClick, expandRow, collapseRow } =\n              expansion;\n            if (expandOnClick) {\n              if (isRowExpanded(record)) {\n                collapseRow(record);\n              } else {\n                expandRow(record);\n              }\n            }\n          }\n          onClick?.({ event: e, record, index });\n        }}\n        onContextMenu={\n          onContextMenu\n            ? (e) => onContextMenu({ event: e, record, index })\n            : undefined\n        }\n        style={[\n          color || backgroundColor\n            ? (theme) => {\n                const colorValue = color?.(record, index);\n                const backgroundColorValue = backgroundColor?.(record, index);\n                return getRowCssVariables({\n                  theme,\n                  color: colorValue,\n                  backgroundColor: backgroundColorValue,\n                });\n              }\n            : undefined,\n          style?.(record, index),\n        ]}\n        {...customAttributes?.(record, index)}\n      >\n        {selectionVisible && (\n          <DataTableRowSelectorCell<T>\n            record={record}\n            index={index}\n            trigger={selectionTrigger}\n            withRightShadow={selectorCellShadowVisible}\n            checked={selectionChecked}\n            disabled={\n              !onSelectionChange ||\n              (isRecordSelectable ? !isRecordSelectable(record, index) : false)\n            }\n            onChange={onSelectionChange}\n            getCheckboxProps={getSelectionCheckboxProps}\n          />\n        )}\n        {columns.map(({ hidden, ...columnProps }, columnIndex) => {\n          if (hidden) return null;\n\n          const {\n            accessor,\n            visibleMediaQuery,\n            textAlign,\n            noWrap,\n            ellipsis,\n            width,\n            render,\n            cellsClassName,\n            cellsStyle,\n            customCellAttributes,\n          } = { ...defaultColumnProps, ...columnProps };\n\n          return (\n            <DataTableRowCell<T>\n              key={accessor as React.Key}\n              className={\n                typeof cellsClassName === \"function\"\n                  ? cellsClassName(record, index)\n                  : cellsClassName\n              }\n              style={cellsStyle?.(record, index)}\n              visibleMediaQuery={visibleMediaQuery}\n              record={record}\n              index={index}\n              onClick={\n                onCellClick\n                  ? (event) =>\n                      onCellClick({\n                        event,\n                        record,\n                        index,\n                        column: columnProps,\n                        columnIndex,\n                      })\n                  : undefined\n              }\n              onContextMenu={\n                onCellContextMenu\n                  ? (event) =>\n                      onCellContextMenu({\n                        event,\n                        record,\n                        index,\n                        column: columnProps,\n                        columnIndex,\n                      })\n                  : undefined\n              }\n              accessor={accessor}\n              textAlign={textAlign}\n              noWrap={noWrap}\n              ellipsis={ellipsis}\n              width={width}\n              render={render}\n              defaultRender={defaultColumnRender}\n              customCellAttributes={customCellAttributes}\n            />\n          );\n        })}\n      </TableTr>\n      {expansion && (\n        <DataTableRowExpansion\n          colSpan={\n            columns.filter(({ hidden }) => !hidden).length +\n            (selectionVisible ? 1 : 0)\n          }\n          open={expansion.isRowExpanded(record)}\n          content={expansion.content({ record, index })}\n          collapseProps={expansion.collapseProps}\n        />\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport { type RaikouStyleProp } from \"@raikou/core\";\nimport { TableTd } from \"../../components/Table/src\";\nimport clsx from \"clsx\";\nimport { useMediaQueryStringOrFunction } from \"./hooks\";\nimport type { DataTableColumn } from \"./types\";\nimport {\n  ELLIPSIS,\n  NOWRAP,\n  POINTER_CURSOR,\n  TEXT_ALIGN_CENTER,\n  TEXT_ALIGN_LEFT,\n  TEXT_ALIGN_RIGHT,\n} from \"./utilityClasses\";\nimport { getValueAtPath } from \"./utils\";\n\ntype DataTableRowCellProps<T> = {\n  className: string | undefined;\n  style: RaikouStyleProp | undefined;\n  record: T;\n  index: number;\n  defaultRender:\n    | ((\n        record: T,\n        index: number,\n        accessor: keyof T | (string & NonNullable<unknown>),\n      ) => React.ReactNode)\n    | undefined;\n  onClick: React.MouseEventHandler<HTMLTableCellElement> | undefined;\n  onContextMenu: React.MouseEventHandler<HTMLTableCellElement> | undefined;\n} & Pick<\n  DataTableColumn<T>,\n  | \"accessor\"\n  | \"visibleMediaQuery\"\n  | \"textAlign\"\n  | \"width\"\n  | \"noWrap\"\n  | \"ellipsis\"\n  | \"render\"\n  | \"customCellAttributes\"\n>;\n\nexport function DataTableRowCell<T>({\n  className,\n  style,\n  visibleMediaQuery,\n  record,\n  index,\n  onClick,\n  onContextMenu,\n  noWrap,\n  ellipsis,\n  textAlign,\n  width,\n  accessor,\n  render,\n  defaultRender,\n  customCellAttributes,\n}: DataTableRowCellProps<T>) {\n  if (!useMediaQueryStringOrFunction(visibleMediaQuery)) return null;\n  return (\n    <TableTd\n      className={clsx(\n        {\n          [NOWRAP]: noWrap || ellipsis,\n          [ELLIPSIS]: ellipsis,\n          [POINTER_CURSOR]: onClick,\n          [TEXT_ALIGN_LEFT]: textAlign === \"left\",\n          [TEXT_ALIGN_CENTER]: textAlign === \"center\",\n          [TEXT_ALIGN_RIGHT]: textAlign === \"right\",\n        },\n        className,\n      )}\n      style={[\n        {\n          width,\n          minWidth: width,\n          maxWidth: width,\n        },\n        style,\n      ]}\n      onClick={onClick}\n      onContextMenu={onContextMenu}\n      {...customCellAttributes?.(record, index)}\n    >\n      {render\n        ? render(record, index)\n        : defaultRender\n        ? defaultRender(record, index, accessor)\n        : (getValueAtPath(record, accessor) as React.ReactNode)}\n    </TableTd>\n  );\n}\n","import React from \"react\";\nimport { Collapse } from \"../../components/Collapse/src\";\nimport { TableTd, TableTr } from \"../../components/Table/src\";\nimport { useRowExpansionStatus } from \"./hooks\";\nimport type { DataTableRowExpansionCollapseProps } from \"./types\";\nimport classes from \"./DataTableRowExpansion.module.css\";\n\ntype DataTableRowExpansionProps = {\n  open: boolean;\n  colSpan: number;\n  content: () => React.ReactNode;\n  collapseProps: DataTableRowExpansionCollapseProps | undefined;\n};\n\nexport function DataTableRowExpansion({\n  open,\n  colSpan,\n  content,\n  collapseProps,\n}: DataTableRowExpansionProps) {\n  const { expanded, visible } = useRowExpansionStatus(\n    open,\n    collapseProps?.transitionDuration,\n  );\n\n  return visible ? (\n    <>\n      {/* add an empty row to maintain striped rows consistency */}\n      <TableTr />\n      <TableTr>\n        <TableTd\n          className={classes[\"mantine-datatable-row-expansion-cell\"]}\n          colSpan={colSpan}\n        >\n          <Collapse in={expanded} {...collapseProps}>\n            <div\n              className={\n                classes[\"mantine-datatable-row-expansion-cell-content\"]\n              }\n            >\n              {content()}\n            </div>\n          </Collapse>\n        </TableTd>\n      </TableTr>\n    </>\n  ) : null;\n}\n","import React, { forwardRef } from \"react\";\nimport { useReducedMotion } from \"@raikou/hooks\";\nimport {\n  BoxProps,\n  useProps,\n  Box,\n  getStyleObject,\n  useRaikouTheme,\n} from \"@raikou/core\";\nimport { useCollapse } from \"./use-collapse\";\n\nexport interface CollapseProps\n  extends BoxProps,\n    Omit<React.ComponentPropsWithoutRef<\"div\">, keyof BoxProps> {\n  /** Opened state */\n  in: boolean;\n\n  /** Called each time transition ends */\n  onTransitionEnd?: () => void;\n\n  /** Transition duration in ms, `200` by default */\n  transitionDuration?: number;\n\n  /** Transition timing function, default value is `ease` */\n  transitionTimingFunction?: string;\n\n  /** Determines whether opacity should be animated, `true` by default */\n  animateOpacity?: boolean;\n}\n\nconst defaultProps: Partial<CollapseProps> = {\n  transitionDuration: 200,\n  transitionTimingFunction: \"ease\",\n  animateOpacity: true,\n};\n\nexport const Collapse = forwardRef<HTMLDivElement, CollapseProps>(\n  (props, ref) => {\n    const {\n      children,\n      in: opened,\n      transitionDuration,\n      transitionTimingFunction,\n      style,\n      onTransitionEnd,\n      animateOpacity,\n      ...others\n    } = useProps(\"Collapse\", defaultProps, props);\n\n    const theme = useRaikouTheme();\n    const shouldReduceMotion = useReducedMotion();\n    const reduceMotion = theme.respectReducedMotion\n      ? shouldReduceMotion\n      : false;\n    const duration = reduceMotion ? 0 : transitionDuration;\n\n    const getCollapseProps = useCollapse({\n      opened,\n      transitionDuration: duration,\n      transitionTimingFunction,\n      onTransitionEnd,\n    });\n\n    if (duration === 0) {\n      return opened ? <Box {...others}>{children}</Box> : null;\n    }\n\n    return (\n      <Box\n        {...getCollapseProps({\n          style: getStyleObject(style, theme),\n          ref,\n          ...others,\n        })}\n      >\n        <div\n          style={{\n            opacity: opened || !animateOpacity ? 1 : 0,\n            transition: animateOpacity\n              ? `opacity ${duration}ms ${transitionTimingFunction}`\n              : \"none\",\n          }}\n        >\n          {children}\n        </div>\n      </Box>\n    );\n  },\n);\n\nCollapse.displayName = \"@raikou/core/Collapse\";\n","import React, { useState, useRef } from \"react\";\nimport { flushSync } from \"react-dom\";\nimport { useDidUpdate, mergeRefs } from \"@raikou/hooks\";\nimport { CSSProperties } from \"../../Box/src\";\n\nfunction getAutoHeightDuration(height: number | string) {\n  if (!height || typeof height === \"string\") {\n    return 0;\n  }\n  const constant = height / 36;\n  return Math.round((4 + 15 * constant ** 0.25 + constant / 5) * 10);\n}\n\nexport function getElementHeight(\n  el: React.RefObject<HTMLElement> | { current?: { scrollHeight: number } },\n) {\n  return el?.current ? el.current.scrollHeight : \"auto\";\n}\n\nconst raf = typeof window !== \"undefined\" && window.requestAnimationFrame;\n\ninterface UseCollapse {\n  opened: boolean;\n  transitionDuration?: number;\n  transitionTimingFunction?: string;\n  onTransitionEnd?: () => void;\n}\n\ninterface GetCollapseProps {\n  [key: string]: unknown;\n  style?: CSSProperties;\n  onTransitionEnd?: (e: TransitionEvent) => void;\n  refKey?: string;\n  ref?: React.ForwardedRef<HTMLDivElement>;\n}\n\nexport function useCollapse({\n  transitionDuration,\n  transitionTimingFunction = \"ease\",\n  onTransitionEnd = () => {},\n  opened,\n}: UseCollapse): (props: GetCollapseProps) => Record<string, any> {\n  const el = useRef<HTMLElement | null>(null);\n  const collapsedHeight = 0;\n  const collapsedStyles = {\n    display: \"none\",\n    height: 0,\n    overflow: \"hidden\",\n  };\n  const [styles, setStylesRaw] = useState<CSSProperties>(\n    opened ? {} : collapsedStyles,\n  );\n  const setStyles = (newStyles: {} | ((oldStyles: {}) => {})): void => {\n    flushSync(() => setStylesRaw(newStyles));\n  };\n\n  const mergeStyles = (newStyles: {}): void => {\n    setStyles((oldStyles) => ({ ...oldStyles, ...newStyles }));\n  };\n\n  function getTransitionStyles(height: number | string): {\n    transition: string;\n  } {\n    const _duration = transitionDuration || getAutoHeightDuration(height);\n    return {\n      transition: `height ${_duration}ms ${transitionTimingFunction}`,\n    };\n  }\n\n  useDidUpdate(() => {\n    if (typeof raf === \"function\") {\n      if (opened) {\n        raf(() => {\n          mergeStyles({\n            willChange: \"height\",\n            display: \"block\",\n            overflow: \"hidden\",\n          });\n          raf(() => {\n            const height = getElementHeight(el);\n            mergeStyles({ ...getTransitionStyles(height), height });\n          });\n        });\n      } else {\n        raf(() => {\n          const height = getElementHeight(el);\n          mergeStyles({\n            ...getTransitionStyles(height),\n            willChange: \"height\",\n            height,\n          });\n          raf(() =>\n            mergeStyles({ height: collapsedHeight, overflow: \"hidden\" }),\n          );\n        });\n      }\n    }\n  }, [opened]);\n\n  const handleTransitionEnd = (e: React.TransitionEvent): void => {\n    if (e.target !== el.current || e.propertyName !== \"height\") {\n      return;\n    }\n\n    if (opened) {\n      const height = getElementHeight(el);\n\n      if (height === styles.height) {\n        setStyles({});\n      } else {\n        mergeStyles({ height });\n      }\n\n      onTransitionEnd();\n    } else if (styles.height === collapsedHeight) {\n      setStyles(collapsedStyles);\n      onTransitionEnd();\n    }\n  };\n\n  function getCollapseProps({\n    style = {},\n    refKey = \"ref\",\n    ...rest\n  }: GetCollapseProps = {}) {\n    const theirRef: any = rest[refKey];\n    return {\n      \"aria-hidden\": !opened,\n      ...rest,\n      [refKey]: mergeRefs(el, theirRef),\n      onTransitionEnd: handleTransitionEnd,\n      style: { boxSizing: \"border-box\", ...style, ...styles },\n    };\n  }\n\n  return getCollapseProps;\n}\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/datatable/src/DataTableRowExpansion.module.css\"; export default {\"mantine-datatable-row-expansion-cell\":\"m-b1d36037\",\"mantine-datatable-row-expansion-cell-content\":\"m-2e7350e3\"}","import React from \"react\";\nimport { Checkbox, type CheckboxProps } from \"../../components/Checkbox/src\";\nimport { TableTd } from \"../../components/Table/src\";\nimport clsx from \"clsx\";\nimport type { DataTableSelectionTrigger } from \"./types\";\nimport { POINTER_CURSOR } from \"./utilityClasses\";\nimport classes from \"./DataTableRowSelectorCell.module.css\";\n\ntype DataTableRowSelectorCellProps<T> = {\n  record: T;\n  index: number;\n  trigger: DataTableSelectionTrigger;\n  withRightShadow: boolean;\n  checked: boolean;\n  disabled: boolean;\n  onChange: React.MouseEventHandler | undefined;\n  getCheckboxProps: (record: T, index: number) => CheckboxProps;\n};\n\nexport function DataTableRowSelectorCell<T>({\n  record,\n  index,\n  trigger,\n  onChange,\n  withRightShadow,\n  getCheckboxProps,\n  ...otherProps\n}: DataTableRowSelectorCellProps<T>) {\n  const checkboxProps = getCheckboxProps(record, index);\n  const enabled = !otherProps.disabled && !checkboxProps.disabled;\n\n  const handleClick: React.MouseEventHandler = (e) => {\n    e.stopPropagation();\n    if (trigger === \"cell\" && enabled) {\n      onChange?.(e);\n    }\n  };\n\n  return (\n    <TableTd\n      className={clsx(classes[\"mantine-datatable-row-selector-cell\"], {\n        [POINTER_CURSOR]: trigger === \"cell\" && enabled,\n      })}\n      data-shadow-visible={withRightShadow || undefined}\n      onClick={handleClick}\n    >\n      <Checkbox\n        classNames={enabled ? { input: POINTER_CURSOR } : undefined}\n        onChange={onChange as unknown as React.ChangeEventHandler}\n        {...otherProps}\n        {...checkboxProps}\n      />\n    </TableTd>\n  );\n}\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/datatable/src/DataTableRowSelectorCell.module.css\"; export default {\"mantine-datatable-row-selector-cell\":\"m-faf985f7\",\"mantine-datatable-row-selector-cell-checkbox\":\"m-936aded9\"}","import \"/Users/paul/development/src/github/raikou/packages/raikou/datatable/src/DataTableRow.module.css\"; export default {\"mantine-datatable-row\":\"m-27dd3f33\"}","import React from \"react\";\nimport { Box, rem } from \"@raikou/core\";\nimport {\n  ScrollArea,\n  type ScrollAreaProps,\n} from \"../../components/ScrollArea/src\";\nimport clsx from \"clsx\";\nimport classes from \"./DataTableScrollArea.module.css\";\n\ntype DataTableScrollAreaProps = React.PropsWithChildren<{\n  topShadowVisible: boolean;\n  leftShadowVisible: boolean;\n  leftShadowBehind: boolean;\n  rightShadowVisible: boolean;\n  rightShadowBehind: boolean | undefined;\n  bottomShadowVisible: boolean;\n  headerHeight: number;\n  footerHeight: number;\n  onScrollPositionChange: ScrollAreaProps[\"onScrollPositionChange\"];\n  viewportRef: React.Ref<HTMLDivElement>;\n  scrollAreaProps:\n    | Omit<ScrollAreaProps, \"classNames\" | \"styles\" | \"onScrollPositionChange\">\n    | undefined;\n}>;\n\nexport function DataTableScrollArea({\n  topShadowVisible,\n  leftShadowVisible,\n  leftShadowBehind,\n  rightShadowVisible,\n  rightShadowBehind,\n  bottomShadowVisible,\n  headerHeight,\n  footerHeight,\n  onScrollPositionChange,\n  children,\n  viewportRef,\n  scrollAreaProps,\n}: DataTableScrollAreaProps) {\n  return (\n    <ScrollArea\n      {...scrollAreaProps}\n      viewportRef={viewportRef}\n      classNames={{\n        root: classes[\"mantine-datatable-scroll-area\"],\n        scrollbar: classes[\"mantine-datatable-scroll-area-scrollbar\"],\n        thumb: classes[\"mantine-datatable-scroll-area-thumb\"],\n        corner: classes[\"mantine-datatable-scroll-area-corner\"],\n      }}\n      onScrollPositionChange={onScrollPositionChange}\n    >\n      {children}\n      <Box\n        className={clsx(\n          classes[\"mantine-datatable-scroll-area-shadow\"],\n          classes[\"mantine-datatable-scroll-area-top-shadow\"],\n          {\n            \"mantine-datatable-scroll-area-shadow-visible\": topShadowVisible,\n          },\n        )}\n        style={{ top: headerHeight ? rem(headerHeight) : 0 }}\n      />\n      <div\n        className={clsx(\n          classes[\"mantine-datatable-scroll-area-shadow\"],\n          classes[\"mantine-datatable-scroll-area-left-shadow\"],\n          {\n            \"mantine-datatable-scroll-area-shadow-visible\": leftShadowVisible,\n            \"mantine-datatable-scroll-area-shadow-behind\": leftShadowBehind,\n          },\n        )}\n      />\n      <div\n        className={clsx(\n          classes[\"mantine-datatable-scroll-area-shadow\"],\n          classes[\"mantine-datatable-scroll-area-right-shadow\"],\n          {\n            \"mantine-datatable-scroll-area-shadow-visible\": rightShadowVisible,\n            \"mantine-datatable-scroll-area-shadow-behind\": rightShadowBehind,\n          },\n        )}\n      />\n      <Box\n        className={clsx(\n          classes[\"mantine-datatable-scroll-area-shadow\"],\n          classes[\"mantine-datatable-scroll-area-bottom-shadow\"],\n          {\n            \"mantine-datatable-scroll-area-shadow-visible\": bottomShadowVisible,\n          },\n        )}\n        style={{ bottom: footerHeight ? rem(footerHeight + 1) : 0 }}\n      />\n    </ScrollArea>\n  );\n}\n","import React, { useState } from \"react\";\nimport {\n  Box,\n  BoxProps,\n  StylesApiProps,\n  factory,\n  ElementProps,\n  useProps,\n  useStyles,\n  rem,\n  createVarsResolver,\n  Factory,\n} from \"@raikou/core\";\nimport { ScrollAreaScrollbar } from \"./ScrollAreaScrollbar/ScrollAreaScrollbar\";\nimport { ScrollAreaCorner } from \"./ScrollAreaCorner/ScrollAreaCorner\";\nimport { ScrollAreaRoot } from \"./ScrollAreaRoot/ScrollAreaRoot\";\nimport { ScrollAreaViewport } from \"./ScrollAreaViewport/ScrollAreaViewport\";\nimport { ScrollAreaThumb } from \"./ScrollAreaThumb/ScrollAreaThumb\";\nimport classes from \"./ScrollArea.module.css\";\n\nexport type ScrollAreaStylesNames =\n  | \"root\"\n  | \"viewport\"\n  | \"viewportInner\"\n  | \"scrollbar\"\n  | \"thumb\"\n  | \"corner\";\nexport type ScrollAreaCssVariables = {\n  root: \"--scrollarea-scrollbar-size\";\n};\n\nexport interface ScrollAreaProps\n  extends BoxProps,\n    StylesApiProps<ScrollAreaFactory>,\n    ElementProps<\"div\"> {\n  /** Scrollbar size, any valid CSS value for width/height, numbers are converted to rem, default value is 0.75rem */\n  scrollbarSize?: number | string;\n\n  /**\n   * Defines scrollbars behavior, `hover` by default\n   * - `hover` – scrollbars are visible when mouse is over the scroll area\n   * - `scroll` – scrollbars are visible when the scroll area is scrolled\n   * - `always` – scrollbars are always visible\n   * - `never` – scrollbars are always hidden\n   * - `auto` – similar to `overflow: auto` – scrollbars are always visible when the content is overflowing\n   * */\n  type?: \"auto\" | \"always\" | \"scroll\" | \"hover\" | \"never\";\n\n  /** Scroll hide delay in ms, applicable only when type is set to `hover` or `scroll`, `1000` by default */\n  scrollHideDelay?: number;\n\n  /** Determines whether scrollbars should be offset with padding, `false` by default */\n  offsetScrollbars?: boolean | \"x\" | \"y\";\n\n  /** Assigns viewport element (scrollable container) ref */\n  viewportRef?: React.ForwardedRef<HTMLDivElement>;\n\n  /** Props passed down to the viewport element */\n  viewportProps?: React.ComponentPropsWithRef<\"div\">;\n\n  /** Called with current position (`x` and `y` coordinates) when viewport is scrolled */\n  onScrollPositionChange?: (position: { x: number; y: number }) => void;\n}\n\nexport interface ScrollAreaAutosizeProps extends ScrollAreaProps {}\n\nexport type ScrollAreaFactory = Factory<{\n  props: ScrollAreaProps;\n  ref: HTMLDivElement;\n  stylesNames: ScrollAreaStylesNames;\n  vars: ScrollAreaCssVariables;\n  staticComponents: {\n    Autosize: typeof ScrollAreaAutosize;\n  };\n}>;\n\nconst defaultProps: Partial<ScrollAreaProps> = {\n  scrollHideDelay: 1000,\n  type: \"hover\",\n};\n\nconst varsResolver = createVarsResolver<ScrollAreaFactory>(\n  (_, { scrollbarSize }) => ({\n    root: {\n      \"--scrollarea-scrollbar-size\": rem(scrollbarSize),\n    },\n  }),\n);\n\nexport const ScrollArea = factory<ScrollAreaFactory>((_props, ref) => {\n  const props = useProps(\"ScrollArea\", defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    unstyled,\n    scrollbarSize,\n    vars,\n    type,\n    scrollHideDelay,\n    viewportProps,\n    viewportRef,\n    onScrollPositionChange,\n    children,\n    offsetScrollbars,\n    ...others\n  } = props;\n\n  const [scrollbarHovered, setScrollbarHovered] = useState(false);\n\n  const getStyles = useStyles<ScrollAreaFactory>({\n    name: \"ScrollArea\",\n    props,\n    classes,\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    vars,\n    varsResolver,\n  });\n\n  return (\n    <ScrollAreaRoot\n      type={type === \"never\" ? \"always\" : type}\n      scrollHideDelay={scrollHideDelay}\n      ref={ref}\n      {...getStyles(\"root\")}\n      {...others}\n    >\n      <ScrollAreaViewport\n        {...viewportProps}\n        {...getStyles(\"viewport\")}\n        ref={viewportRef}\n        data-offset-scrollbars={offsetScrollbars || undefined}\n        onScroll={\n          typeof onScrollPositionChange === \"function\"\n            ? ({ currentTarget }) =>\n                onScrollPositionChange({\n                  x: currentTarget.scrollLeft,\n                  y: currentTarget.scrollTop,\n                })\n            : undefined\n        }\n      >\n        {children}\n      </ScrollAreaViewport>\n      <ScrollAreaScrollbar\n        {...getStyles(\"scrollbar\")}\n        orientation=\"horizontal\"\n        data-hidden={type === \"never\" || undefined}\n        forceMount\n        onMouseEnter={() => setScrollbarHovered(true)}\n        onMouseLeave={() => setScrollbarHovered(false)}\n      >\n        <ScrollAreaThumb {...getStyles(\"thumb\")} />\n      </ScrollAreaScrollbar>\n      <ScrollAreaScrollbar\n        {...getStyles(\"scrollbar\")}\n        orientation=\"vertical\"\n        data-hidden={type === \"never\" || undefined}\n        forceMount\n        onMouseEnter={() => setScrollbarHovered(true)}\n        onMouseLeave={() => setScrollbarHovered(false)}\n      >\n        <ScrollAreaThumb {...getStyles(\"thumb\")} />\n      </ScrollAreaScrollbar>\n      <ScrollAreaCorner\n        {...getStyles(\"corner\")}\n        data-hovered={scrollbarHovered || undefined}\n        data-hidden={type === \"never\" || undefined}\n      />\n    </ScrollAreaRoot>\n  );\n});\n\nScrollArea.displayName = \"@raikou/core/ScrollArea\";\n\nexport const ScrollAreaAutosize = factory<ScrollAreaFactory>((props, ref) => {\n  const {\n    children,\n    classNames,\n    styles,\n    scrollbarSize,\n    scrollHideDelay,\n    type,\n    dir,\n    offsetScrollbars,\n    viewportRef,\n    onScrollPositionChange,\n    unstyled,\n    variant,\n    viewportProps,\n    style,\n    vars,\n    ...others\n  } = useProps(\"ScrollAreaAutosize\", defaultProps, props);\n\n  return (\n    <Box {...others} ref={ref} style={[{ display: \"flex\" }, style]}>\n      <Box style={{ display: \"flex\", flexDirection: \"column\", flex: 1 }}>\n        <ScrollArea\n          classNames={classNames}\n          styles={styles}\n          scrollHideDelay={scrollHideDelay}\n          scrollbarSize={scrollbarSize}\n          type={type}\n          dir={dir}\n          offsetScrollbars={offsetScrollbars}\n          viewportRef={viewportRef}\n          onScrollPositionChange={onScrollPositionChange}\n          unstyled={unstyled}\n          variant={variant}\n          viewportProps={viewportProps}\n          vars={vars}\n        >\n          {children}\n        </ScrollArea>\n      </Box>\n    </Box>\n  );\n});\n\nScrollArea.classes = classes;\nScrollAreaAutosize.displayName = \"@raikou/core/ScrollAreaAutosize\";\nScrollArea.Autosize = ScrollAreaAutosize;\n","import React from 'react';\nimport { useScrollAreaContext } from '../ScrollArea.context';\nimport {\n  ScrollAreaScrollbarVisible,\n  ScrollAreaScrollbarVisibleProps,\n} from './ScrollAreaScrollbarVisible';\nimport { ScrollAreaScrollbarHover } from './ScrollAreaScrollbarHover';\nimport { ScrollAreaScrollbarScroll } from './ScrollAreaScrollbarScroll';\nimport { ScrollAreaScrollbarAuto } from './ScrollAreaScrollbarAuto';\n\ninterface ScrollAreaScrollbarProps extends ScrollAreaScrollbarVisibleProps {\n  forceMount?: true;\n}\n\nexport const ScrollAreaScrollbar = React.forwardRef<HTMLDivElement, ScrollAreaScrollbarProps>(\n  (props, forwardedRef) => {\n    const { forceMount, ...scrollbarProps } = props;\n    const context = useScrollAreaContext();\n    const { onScrollbarXEnabledChange, onScrollbarYEnabledChange } = context;\n    const isHorizontal = props.orientation === 'horizontal';\n\n    React.useEffect(() => {\n      isHorizontal ? onScrollbarXEnabledChange(true) : onScrollbarYEnabledChange(true);\n      return () => {\n        isHorizontal ? onScrollbarXEnabledChange(false) : onScrollbarYEnabledChange(false);\n      };\n    }, [isHorizontal, onScrollbarXEnabledChange, onScrollbarYEnabledChange]);\n\n    return context.type === 'hover' ? (\n      <ScrollAreaScrollbarHover {...scrollbarProps} ref={forwardedRef} forceMount={forceMount} />\n    ) : context.type === 'scroll' ? (\n      <ScrollAreaScrollbarScroll {...scrollbarProps} ref={forwardedRef} forceMount={forceMount} />\n    ) : context.type === 'auto' ? (\n      <ScrollAreaScrollbarAuto {...scrollbarProps} ref={forwardedRef} forceMount={forceMount} />\n    ) : context.type === 'always' ? (\n      <ScrollAreaScrollbarVisible {...scrollbarProps} ref={forwardedRef} />\n    ) : null;\n  }\n);\n","import { createSafeContext } from \"../../_utils\";\n\nexport interface ScrollAreaContextValue {\n  type: \"auto\" | \"always\" | \"scroll\" | \"hover\" | \"never\";\n  scrollHideDelay: number;\n  scrollArea: HTMLDivElement | null;\n  viewport: HTMLDivElement | null;\n  onViewportChange: (viewport: HTMLDivElement | null) => void;\n  content: HTMLDivElement | null;\n  onContentChange: (content: HTMLDivElement) => void;\n  scrollbarX: HTMLDivElement | null;\n  onScrollbarXChange: (scrollbar: HTMLDivElement | null) => void;\n  scrollbarXEnabled: boolean;\n  onScrollbarXEnabledChange: (rendered: boolean) => void;\n  scrollbarY: HTMLDivElement | null;\n  onScrollbarYChange: (scrollbar: HTMLDivElement | null) => void;\n  scrollbarYEnabled: boolean;\n  onScrollbarYEnabledChange: (rendered: boolean) => void;\n  onCornerWidthChange: (width: number) => void;\n  onCornerHeightChange: (height: number) => void;\n}\n\nexport const [ScrollAreaProvider, useScrollAreaContext] =\n  createSafeContext<ScrollAreaContextValue>(\n    \"ScrollArea.Root component was not found in tree\",\n  );\n","import React, { useRef, useState, forwardRef } from \"react\";\nimport { useDirection } from \"@raikou/core\";\nimport {\n  ScrollAreaScrollbarAxisPrivateProps,\n  ScrollAreaScrollbarAxisProps,\n  Sizes,\n} from \"../ScrollArea.types\";\nimport { useScrollAreaContext } from \"../ScrollArea.context\";\nimport { ScrollAreaScrollbarX } from \"./ScrollbarX\";\nimport { ScrollAreaScrollbarY } from \"./ScrollbarY\";\nimport {\n  getThumbRatio,\n  getThumbOffsetFromScroll,\n  getScrollPositionFromPointer,\n} from \"../utils\";\n\nexport interface ScrollAreaScrollbarVisibleProps\n  extends Omit<\n    ScrollAreaScrollbarAxisProps,\n    keyof ScrollAreaScrollbarAxisPrivateProps\n  > {\n  orientation?: \"horizontal\" | \"vertical\";\n}\n\nexport const ScrollAreaScrollbarVisible = forwardRef<\n  HTMLDivElement,\n  ScrollAreaScrollbarVisibleProps\n>((props, forwardedRef) => {\n  const { orientation = \"vertical\", ...scrollbarProps } = props;\n  const { dir } = useDirection();\n  const context = useScrollAreaContext();\n  const thumbRef = useRef<HTMLDivElement | null>(null);\n  const pointerOffsetRef = useRef(0);\n  const [sizes, setSizes] = useState<Sizes>({\n    content: 0,\n    viewport: 0,\n    scrollbar: { size: 0, paddingStart: 0, paddingEnd: 0 },\n  });\n  const thumbRatio = getThumbRatio(sizes.viewport, sizes.content);\n\n  const commonProps: Omit<\n    ScrollAreaScrollbarAxisPrivateProps,\n    \"onThumbPositionChange\" | \"onDragScroll\" | \"onWheelScroll\"\n  > = {\n    ...scrollbarProps,\n    sizes,\n    onSizesChange: setSizes,\n    hasThumb: Boolean(thumbRatio > 0 && thumbRatio < 1),\n    onThumbChange: (thumb) => {\n      thumbRef.current = thumb;\n    },\n    onThumbPointerUp: () => {\n      pointerOffsetRef.current = 0;\n    },\n    onThumbPointerDown: (pointerPos) => {\n      pointerOffsetRef.current = pointerPos;\n    },\n  };\n\n  const getScrollPosition = (pointerPos: number, direction?: \"ltr\" | \"rtl\") =>\n    getScrollPositionFromPointer(\n      pointerPos,\n      pointerOffsetRef.current,\n      sizes,\n      direction\n    );\n\n  if (orientation === \"horizontal\") {\n    return (\n      <ScrollAreaScrollbarX\n        {...commonProps}\n        ref={forwardedRef}\n        onThumbPositionChange={() => {\n          if (context.viewport && thumbRef.current) {\n            const scrollPos = context.viewport.scrollLeft;\n            const offset = getThumbOffsetFromScroll(scrollPos, sizes, dir);\n            thumbRef.current.style.transform = `translate3d(${offset}px, 0, 0)`;\n          }\n        }}\n        onWheelScroll={(scrollPos) => {\n          if (context.viewport) context.viewport.scrollLeft = scrollPos;\n        }}\n        onDragScroll={(pointerPos) => {\n          if (context.viewport) {\n            context.viewport.scrollLeft = getScrollPosition(pointerPos, dir);\n          }\n        }}\n      />\n    );\n  }\n\n  if (orientation === \"vertical\") {\n    return (\n      <ScrollAreaScrollbarY\n        {...commonProps}\n        ref={forwardedRef}\n        onThumbPositionChange={() => {\n          if (context.viewport && thumbRef.current) {\n            const scrollPos = context.viewport.scrollTop;\n            const offset = getThumbOffsetFromScroll(scrollPos, sizes);\n            thumbRef.current.style.transform = `translate3d(0, ${offset}px, 0)`;\n          }\n        }}\n        onWheelScroll={(scrollPos) => {\n          if (context.viewport) context.viewport.scrollTop = scrollPos;\n        }}\n        onDragScroll={(pointerPos) => {\n          if (context.viewport)\n            context.viewport.scrollTop = getScrollPosition(pointerPos);\n        }}\n      />\n    );\n  }\n\n  return null;\n});\n","import React, { forwardRef, useRef, useState, useEffect } from \"react\";\nimport { useMergedRef } from \"@raikou/hooks\";\nimport { Scrollbar } from \"./Scrollbar\";\nimport { ScrollAreaScrollbarAxisProps } from \"../ScrollArea.types\";\nimport { useScrollAreaContext } from \"../ScrollArea.context\";\nimport {\n  isScrollingWithinScrollbarBounds,\n  getThumbSize,\n  toInt,\n} from \"../utils\";\n\nexport const ScrollAreaScrollbarX = forwardRef<\n  HTMLDivElement,\n  ScrollAreaScrollbarAxisProps\n>((props, forwardedRef) => {\n  const { sizes, onSizesChange, style, ...others } = props;\n  const ctx = useScrollAreaContext();\n  const [computedStyle, setComputedStyle] = useState<CSSStyleDeclaration>();\n  const ref = useRef<HTMLDivElement>(null);\n  const composeRefs = useMergedRef(forwardedRef, ref, ctx.onScrollbarXChange);\n\n  useEffect(() => {\n    if (ref.current) setComputedStyle(getComputedStyle(ref.current));\n  }, [ref]);\n\n  return (\n    <Scrollbar\n      data-orientation=\"horizontal\"\n      {...others}\n      ref={composeRefs}\n      sizes={sizes}\n      style={{\n        ...style,\n        [\"--sa-thumb-width\" as any]: `${getThumbSize(sizes)}px`,\n      }}\n      onThumbPointerDown={(pointerPos) =>\n        props.onThumbPointerDown(pointerPos.x)\n      }\n      onDragScroll={(pointerPos) => props.onDragScroll(pointerPos.x)}\n      onWheelScroll={(event, maxScrollPos) => {\n        if (ctx.viewport) {\n          const scrollPos = ctx.viewport.scrollLeft + event.deltaX;\n          props.onWheelScroll(scrollPos);\n          if (isScrollingWithinScrollbarBounds(scrollPos, maxScrollPos)) {\n            event.preventDefault();\n          }\n        }\n      }}\n      onResize={() => {\n        if (ref.current && ctx.viewport && computedStyle) {\n          onSizesChange({\n            content: ctx.viewport.scrollWidth,\n            viewport: ctx.viewport.offsetWidth,\n            scrollbar: {\n              size: ref.current.clientWidth,\n              paddingStart: toInt(computedStyle.paddingLeft),\n              paddingEnd: toInt(computedStyle.paddingRight),\n            },\n          });\n        }\n      }}\n    />\n  );\n});\n","import React, { useEffect, forwardRef } from \"react\";\nimport {\n  useMergedRef,\n  useCallbackRef,\n  useDebounceCallback,\n} from \"@raikou/hooks\";\nimport { useResizeObserver } from \"../use-resize-observer\";\nimport { useScrollAreaContext } from \"../ScrollArea.context\";\nimport { Sizes } from \"../ScrollArea.types\";\nimport { ScrollbarProvider, ScrollbarContextValue } from \"./Scrollbar.context\";\nimport { composeEventHandlers } from \"../utils\";\n\nexport interface ScrollbarPrivateProps {\n  sizes: Sizes;\n  hasThumb: boolean;\n  onThumbChange: ScrollbarContextValue[\"onThumbChange\"];\n  onThumbPointerUp: ScrollbarContextValue[\"onThumbPointerUp\"];\n  onThumbPointerDown: ScrollbarContextValue[\"onThumbPointerDown\"];\n  onThumbPositionChange: ScrollbarContextValue[\"onThumbPositionChange\"];\n  onWheelScroll: (event: WheelEvent, maxScrollPos: number) => void;\n  onDragScroll: (pointerPos: { x: number; y: number }) => void;\n  onResize: () => void;\n}\n\ninterface ScrollbarProps\n  extends ScrollbarPrivateProps,\n    Omit<React.ComponentPropsWithoutRef<\"div\">, \"onResize\"> {}\n\nexport const Scrollbar = forwardRef<HTMLDivElement, ScrollbarProps>(\n  (props, forwardedRef) => {\n    const {\n      sizes,\n      hasThumb,\n      onThumbChange,\n      onThumbPointerUp,\n      onThumbPointerDown,\n      onThumbPositionChange,\n      onDragScroll,\n      onWheelScroll,\n      onResize,\n      ...scrollbarProps\n    } = props;\n    const context = useScrollAreaContext();\n    const [scrollbar, setScrollbar] = React.useState<HTMLDivElement | null>(\n      null,\n    );\n    const composeRefs = useMergedRef(forwardedRef, (node) =>\n      setScrollbar(node),\n    );\n    const rectRef = React.useRef<ClientRect | null>(null);\n    const prevWebkitUserSelectRef = React.useRef<string>(\"\");\n    const { viewport } = context;\n    const maxScrollPos = sizes.content - sizes.viewport;\n    const handleWheelScroll = useCallbackRef(onWheelScroll);\n    const handleThumbPositionChange = useCallbackRef(onThumbPositionChange);\n    const handleResize = useDebounceCallback(onResize, 10);\n\n    const handleDragScroll = (event: React.PointerEvent<HTMLElement>) => {\n      if (rectRef.current) {\n        const x = event.clientX - rectRef.current.left;\n        const y = event.clientY - rectRef.current.top;\n        onDragScroll({ x, y });\n      }\n    };\n\n    useEffect(() => {\n      const handleWheel = (event: WheelEvent) => {\n        const element = event.target as HTMLElement;\n        const isScrollbarWheel = scrollbar?.contains(element);\n        if (isScrollbarWheel) handleWheelScroll(event, maxScrollPos);\n      };\n      document.addEventListener(\"wheel\", handleWheel, { passive: false });\n      return () =>\n        document.removeEventListener(\"wheel\", handleWheel, {\n          passive: false,\n        } as any);\n    }, [viewport, scrollbar, maxScrollPos, handleWheelScroll]);\n\n    useEffect(handleThumbPositionChange, [sizes, handleThumbPositionChange]);\n\n    useResizeObserver(scrollbar, handleResize);\n    useResizeObserver(context.content, handleResize);\n\n    return (\n      <ScrollbarProvider\n        value={{\n          scrollbar,\n          hasThumb,\n          onThumbChange: useCallbackRef(onThumbChange),\n          onThumbPointerUp: useCallbackRef(onThumbPointerUp),\n          onThumbPositionChange: handleThumbPositionChange,\n          onThumbPointerDown: useCallbackRef(onThumbPointerDown),\n        }}\n      >\n        <div\n          {...scrollbarProps}\n          ref={composeRefs}\n          style={{ position: \"absolute\", ...scrollbarProps.style }}\n          onPointerDown={composeEventHandlers(props.onPointerDown, (event) => {\n            const mainPointer = 0;\n            if (event.button === mainPointer) {\n              const element = event.target as HTMLElement;\n              element.setPointerCapture(event.pointerId);\n              rectRef.current = scrollbar!.getBoundingClientRect();\n              prevWebkitUserSelectRef.current =\n                document.body.style.webkitUserSelect;\n              document.body.style.webkitUserSelect = \"none\";\n              handleDragScroll(event);\n            }\n          })}\n          onPointerMove={composeEventHandlers(\n            props.onPointerMove,\n            handleDragScroll,\n          )}\n          onPointerUp={composeEventHandlers(props.onPointerUp, (event) => {\n            const element = event.target as HTMLElement;\n            if (element.hasPointerCapture(event.pointerId)) {\n              element.releasePointerCapture(event.pointerId);\n            }\n            document.body.style.webkitUserSelect =\n              prevWebkitUserSelectRef.current;\n            rectRef.current = null;\n          })}\n        />\n      </ScrollbarProvider>\n    );\n  },\n);\n\nScrollbar.displayName = \"@raikou/Scrollbar\";\n","import { useIsomorphicEffect, useCallbackRef } from \"@raikou/hooks\";\n\nexport function useResizeObserver(\n  element: HTMLElement | null,\n  onResize: () => void\n) {\n  const handleResize = useCallbackRef(onResize);\n\n  useIsomorphicEffect(() => {\n    let rAF = 0;\n    if (element) {\n      const resizeObserver = new ResizeObserver(() => {\n        cancelAnimationFrame(rAF);\n        rAF = window.requestAnimationFrame(handleResize);\n      });\n\n      resizeObserver.observe(element);\n\n      return () => {\n        window.cancelAnimationFrame(rAF);\n        resizeObserver.unobserve(element);\n      };\n    }\n\n    return undefined;\n  }, [element, handleResize]);\n}\n","import { createSafeContext } from \"../../../_utils\";\n\nexport interface ScrollbarContextValue {\n  hasThumb: boolean;\n  scrollbar: HTMLDivElement | null;\n  onThumbChange: (thumb: HTMLDivElement | null) => void;\n  onThumbPointerUp: () => void;\n  onThumbPointerDown: (pointerPos: { x: number; y: number }) => void;\n  onThumbPositionChange: () => void;\n}\n\nexport const [ScrollbarProvider, useScrollbarContext] =\n  createSafeContext<ScrollbarContextValue>(\n    \"ScrollAreaScrollbar was not found in tree\",\n  );\n","export function isScrollingWithinScrollbarBounds(scrollPos: number, maxScrollPos: number) {\n  return scrollPos > 0 && scrollPos < maxScrollPos;\n}\n","export function getThumbRatio(viewportSize: number, contentSize: number) {\n  const ratio = viewportSize / contentSize;\n  return Number.isNaN(ratio) ? 0 : ratio;\n}\n","import type { Sizes } from '../ScrollArea.types';\nimport { getThumbRatio } from './get-thumb-ratio';\n\nexport function getThumbSize(sizes: Sizes) {\n  const ratio = getThumbRatio(sizes.viewport, sizes.content);\n  const scrollbarPadding = sizes.scrollbar.paddingStart + sizes.scrollbar.paddingEnd;\n  const thumbSize = (sizes.scrollbar.size - scrollbarPadding) * ratio;\n  return Math.max(thumbSize, 18);\n}\n","export function composeEventHandlers<E>(\n  originalEventHandler?: (event: E) => void,\n  ourEventHandler?: (event: E) => void,\n  { checkForDefaultPrevented = true } = {}\n) {\n  return (event: E) => {\n    originalEventHandler?.(event);\n\n    if (checkForDefaultPrevented === false || !(event as unknown as Event).defaultPrevented) {\n      ourEventHandler?.(event);\n    }\n  };\n}\n","export function toInt(value?: string) {\n  return value ? parseInt(value, 10) : 0;\n}\n","export function linearScale(input: readonly [number, number], output: readonly [number, number]) {\n  return (value: number) => {\n    if (input[0] === input[1] || output[0] === output[1]) return output[0];\n    const ratio = (output[1] - output[0]) / (input[1] - input[0]);\n    return output[0] + ratio * (value - input[0]);\n  };\n}\n","import type { Sizes } from '../ScrollArea.types';\nimport { getThumbSize } from './get-thumb-size';\nimport { linearScale } from './linear-scale';\n\nfunction clamp(value: number, [min, max]: [number, number]): number {\n  return Math.min(max, Math.max(min, value));\n}\n\nexport function getThumbOffsetFromScroll(\n  scrollPos: number,\n  sizes: Sizes,\n  dir: 'rtl' | 'ltr' = 'ltr'\n) {\n  const thumbSizePx = getThumbSize(sizes);\n  const scrollbarPadding = sizes.scrollbar.paddingStart + sizes.scrollbar.paddingEnd;\n  const scrollbar = sizes.scrollbar.size - scrollbarPadding;\n  const maxScrollPos = sizes.content - sizes.viewport;\n  const maxThumbPos = scrollbar - thumbSizePx;\n  const scrollClampRange = dir === 'ltr' ? [0, maxScrollPos] : [maxScrollPos * -1, 0];\n  const scrollWithoutMomentum = clamp(scrollPos, scrollClampRange as [number, number]);\n  const interpolate = linearScale([0, maxScrollPos], [0, maxThumbPos]);\n  return interpolate(scrollWithoutMomentum);\n}\n","import type { Sizes } from '../ScrollArea.types';\nimport { getThumbSize } from './get-thumb-size';\nimport { linearScale } from './linear-scale';\n\nexport function getScrollPositionFromPointer(\n  pointerPos: number,\n  pointerOffset: number,\n  sizes: Sizes,\n  dir: 'ltr' | 'rtl' = 'ltr'\n) {\n  const thumbSizePx = getThumbSize(sizes);\n  const thumbCenter = thumbSizePx / 2;\n  const offset = pointerOffset || thumbCenter;\n  const thumbOffsetFromEnd = thumbSizePx - offset;\n  const minPointerPos = sizes.scrollbar.paddingStart + offset;\n  const maxPointerPos = sizes.scrollbar.size - sizes.scrollbar.paddingEnd - thumbOffsetFromEnd;\n  const maxScrollPos = sizes.content - sizes.viewport;\n  const scrollRange = dir === 'ltr' ? [0, maxScrollPos] : [maxScrollPos * -1, 0];\n  const interpolate = linearScale([minPointerPos, maxPointerPos], scrollRange as [number, number]);\n  return interpolate(pointerPos);\n}\n","/* eslint-disable wrap-iife */\nexport function addUnlinkedScrollListener(node: HTMLElement, handler = () => {}) {\n  let prevPosition = { left: node.scrollLeft, top: node.scrollTop };\n  let rAF = 0;\n  (function loop() {\n    const position = { left: node.scrollLeft, top: node.scrollTop };\n    const isHorizontalScroll = prevPosition.left !== position.left;\n    const isVerticalScroll = prevPosition.top !== position.top;\n    if (isHorizontalScroll || isVerticalScroll) handler();\n    prevPosition = position;\n    rAF = window.requestAnimationFrame(loop);\n  })();\n  return () => window.cancelAnimationFrame(rAF);\n}\n","import React, { forwardRef, useEffect, useRef } from \"react\";\nimport { useMergedRef } from \"@raikou/hooks\";\nimport { Scrollbar } from \"./Scrollbar\";\nimport { useScrollAreaContext } from \"../ScrollArea.context\";\nimport { ScrollAreaScrollbarAxisProps } from \"../ScrollArea.types\";\nimport {\n  isScrollingWithinScrollbarBounds,\n  getThumbSize,\n  toInt,\n} from \"../utils\";\n\nexport const ScrollAreaScrollbarY = forwardRef<\n  HTMLDivElement,\n  ScrollAreaScrollbarAxisProps\n>((props, forwardedRef) => {\n  const { sizes, onSizesChange, style, ...others } = props;\n  const context = useScrollAreaContext();\n  const [computedStyle, setComputedStyle] =\n    React.useState<CSSStyleDeclaration>();\n  const ref = useRef<HTMLDivElement>(null);\n  const composeRefs = useMergedRef(\n    forwardedRef,\n    ref,\n    context.onScrollbarYChange\n  );\n\n  useEffect(() => {\n    if (ref.current) setComputedStyle(getComputedStyle(ref.current));\n  }, [ref]);\n\n  return (\n    <Scrollbar\n      {...others}\n      data-orientation=\"vertical\"\n      ref={composeRefs}\n      sizes={sizes}\n      style={{\n        [\"--sa-thumb-height\" as any]: `${getThumbSize(sizes)}px`,\n        ...style,\n      }}\n      onThumbPointerDown={(pointerPos) =>\n        props.onThumbPointerDown(pointerPos.y)\n      }\n      onDragScroll={(pointerPos) => props.onDragScroll(pointerPos.y)}\n      onWheelScroll={(event, maxScrollPos) => {\n        if (context.viewport) {\n          const scrollPos = context.viewport.scrollTop + event.deltaY;\n          props.onWheelScroll(scrollPos);\n          if (isScrollingWithinScrollbarBounds(scrollPos, maxScrollPos)) {\n            event.preventDefault();\n          }\n        }\n      }}\n      onResize={() => {\n        if (ref.current && context.viewport && computedStyle) {\n          onSizesChange({\n            content: context.viewport.scrollHeight,\n            viewport: context.viewport.offsetHeight,\n            scrollbar: {\n              size: ref.current.clientHeight,\n              paddingStart: toInt(computedStyle.paddingTop),\n              paddingEnd: toInt(computedStyle.paddingBottom),\n            },\n          });\n        }\n      }}\n    />\n  );\n});\n","import React, { forwardRef, useEffect, useState } from 'react';\nimport { useScrollAreaContext } from '../ScrollArea.context';\nimport { ScrollAreaScrollbarAuto, ScrollAreaScrollbarAutoProps } from './ScrollAreaScrollbarAuto';\n\ninterface ScrollAreaScrollbarHoverProps extends ScrollAreaScrollbarAutoProps {\n  forceMount?: true;\n}\n\nexport const ScrollAreaScrollbarHover = forwardRef<HTMLDivElement, ScrollAreaScrollbarHoverProps>(\n  (props, ref) => {\n    const { forceMount, ...scrollbarProps } = props;\n    const context = useScrollAreaContext();\n    const [visible, setVisible] = useState(false);\n\n    useEffect(() => {\n      const { scrollArea } = context;\n      let hideTimer = 0;\n      if (scrollArea) {\n        const handlePointerEnter = () => {\n          window.clearTimeout(hideTimer);\n          setVisible(true);\n        };\n        const handlePointerLeave = () => {\n          hideTimer = window.setTimeout(() => setVisible(false), context.scrollHideDelay);\n        };\n        scrollArea.addEventListener('pointerenter', handlePointerEnter);\n        scrollArea.addEventListener('pointerleave', handlePointerLeave);\n        return () => {\n          window.clearTimeout(hideTimer);\n          scrollArea.removeEventListener('pointerenter', handlePointerEnter);\n          scrollArea.removeEventListener('pointerleave', handlePointerLeave);\n        };\n      }\n\n      return undefined;\n    }, [context.scrollArea, context.scrollHideDelay]);\n\n    if (forceMount || visible) {\n      return (\n        <ScrollAreaScrollbarAuto\n          data-state={visible ? 'visible' : 'hidden'}\n          {...scrollbarProps}\n          ref={ref}\n        />\n      );\n    }\n\n    return null;\n  }\n);\n","import React, { forwardRef, useState } from \"react\";\nimport { useDebounceCallback } from \"@raikou/hooks\";\nimport { useScrollAreaContext } from \"../ScrollArea.context\";\nimport {\n  ScrollAreaScrollbarVisibleProps,\n  ScrollAreaScrollbarVisible,\n} from \"./ScrollAreaScrollbarVisible\";\nimport { useResizeObserver } from \"../use-resize-observer\";\n\nexport interface ScrollAreaScrollbarAutoProps\n  extends ScrollAreaScrollbarVisibleProps {\n  forceMount?: true;\n}\n\nexport const ScrollAreaScrollbarAuto = forwardRef<\n  HTMLDivElement,\n  ScrollAreaScrollbarAutoProps\n>((props, ref) => {\n  const context = useScrollAreaContext();\n  const { forceMount, ...scrollbarProps } = props;\n  const [visible, setVisible] = useState(false);\n  const isHorizontal = props.orientation === \"horizontal\";\n  const handleResize = useDebounceCallback(() => {\n    if (context.viewport) {\n      const isOverflowX =\n        context.viewport.offsetWidth < context.viewport.scrollWidth;\n      const isOverflowY =\n        context.viewport.offsetHeight < context.viewport.scrollHeight;\n      setVisible(isHorizontal ? isOverflowX : isOverflowY);\n    }\n  }, 10);\n\n  useResizeObserver(context.viewport, handleResize);\n  useResizeObserver(context.content, handleResize);\n\n  if (forceMount || visible) {\n    return (\n      <ScrollAreaScrollbarVisible\n        data-state={visible ? \"visible\" : \"hidden\"}\n        {...scrollbarProps}\n        ref={ref}\n      />\n    );\n  }\n\n  return null;\n});\n","import React, { forwardRef, useEffect, useState } from \"react\";\nimport { useDebounceCallback } from \"@raikou/hooks\";\nimport { useScrollAreaContext } from \"../ScrollArea.context\";\nimport {\n  ScrollAreaScrollbarVisible,\n  ScrollAreaScrollbarVisibleProps,\n} from \"./ScrollAreaScrollbarVisible\";\nimport { composeEventHandlers } from \"../utils\";\n\ninterface ScrollAreaScrollbarScrollProps\n  extends ScrollAreaScrollbarVisibleProps {\n  forceMount?: true;\n}\n\nexport const ScrollAreaScrollbarScroll = forwardRef<\n  HTMLDivElement,\n  ScrollAreaScrollbarScrollProps\n>((props, red) => {\n  const { forceMount, ...scrollbarProps } = props;\n  const context = useScrollAreaContext();\n  const isHorizontal = props.orientation === \"horizontal\";\n  const [state, setState] = useState<\n    \"hidden\" | \"idle\" | \"interacting\" | \"scrolling\"\n  >(\"hidden\");\n  const debounceScrollEnd = useDebounceCallback(() => setState(\"idle\"), 100);\n\n  useEffect(() => {\n    if (state === \"idle\") {\n      const hideTimer = window.setTimeout(\n        () => setState(\"hidden\"),\n        context.scrollHideDelay\n      );\n      return () => window.clearTimeout(hideTimer);\n    }\n\n    return undefined;\n  }, [state, context.scrollHideDelay]);\n\n  useEffect(() => {\n    const { viewport } = context;\n    const scrollDirection = isHorizontal ? \"scrollLeft\" : \"scrollTop\";\n\n    if (viewport) {\n      let prevScrollPos = viewport[scrollDirection];\n      const handleScroll = () => {\n        const scrollPos = viewport[scrollDirection];\n        const hasScrollInDirectionChanged = prevScrollPos !== scrollPos;\n        if (hasScrollInDirectionChanged) {\n          setState(\"scrolling\");\n          debounceScrollEnd();\n        }\n        prevScrollPos = scrollPos;\n      };\n      viewport.addEventListener(\"scroll\", handleScroll);\n      return () => viewport.removeEventListener(\"scroll\", handleScroll);\n    }\n\n    return undefined;\n  }, [context.viewport, isHorizontal, debounceScrollEnd]);\n\n  if (forceMount || state !== \"hidden\") {\n    return (\n      <ScrollAreaScrollbarVisible\n        data-state={state === \"hidden\" ? \"hidden\" : \"visible\"}\n        {...scrollbarProps}\n        ref={red}\n        onPointerEnter={composeEventHandlers(props.onPointerEnter, () =>\n          setState(\"interacting\")\n        )}\n        onPointerLeave={composeEventHandlers(props.onPointerLeave, () =>\n          setState(\"idle\")\n        )}\n      />\n    );\n  }\n\n  return null;\n});\n","import React from \"react\";\nimport { useScrollAreaContext } from \"../ScrollArea.context\";\nimport { useResizeObserver } from \"../use-resize-observer\";\n\ninterface ScrollAreaCornerProps extends React.ComponentPropsWithoutRef<\"div\"> {}\n\nexport const Corner = React.forwardRef<HTMLDivElement, ScrollAreaCornerProps>(\n  (props, ref) => {\n    const { style, ...others } = props;\n    const ctx = useScrollAreaContext();\n    const [width, setWidth] = React.useState(0);\n    const [height, setHeight] = React.useState(0);\n    const hasSize = Boolean(width && height);\n\n    useResizeObserver(ctx.scrollbarX, () => {\n      const h = ctx.scrollbarX?.offsetHeight || 0;\n      ctx.onCornerHeightChange(h);\n      setHeight(h);\n    });\n\n    useResizeObserver(ctx.scrollbarY, () => {\n      const w = ctx.scrollbarY?.offsetWidth || 0;\n      ctx.onCornerWidthChange(w);\n      setWidth(w);\n    });\n\n    return hasSize ? (\n      <div {...others} ref={ref} style={{ ...style, width, height }} />\n    ) : null;\n  }\n);\n\nexport const ScrollAreaCorner = React.forwardRef<\n  HTMLDivElement,\n  ScrollAreaCornerProps\n>((props, ref) => {\n  const ctx = useScrollAreaContext();\n  const hasBothScrollbarsVisible = Boolean(ctx.scrollbarX && ctx.scrollbarY);\n  const hasCorner = ctx.type !== \"scroll\" && hasBothScrollbarsVisible;\n  return hasCorner ? <Corner {...props} ref={ref} /> : null;\n});\n","import React, { useState, forwardRef } from \"react\";\nimport { useMergedRef } from \"@raikou/hooks\";\nimport { Box, BoxProps, ElementProps, useProps, Factory } from \"@raikou/core\";\nimport { ScrollAreaProvider } from \"../ScrollArea.context\";\n\nexport type ScrollAreaRootStylesNames =\n  | \"root\"\n  | \"viewport\"\n  | \"viewportInner\"\n  | \"scrollbar\"\n  | \"thumb\"\n  | \"corner\";\n\nexport type ScrollAreaRootCssVariables = {\n  root: \"--sa-corner-width\" | \"--sa-corner-height\";\n};\n\nexport interface ScrollAreaRootStylesCtx {\n  cornerWidth: number;\n  cornerHeight: number;\n}\n\nexport interface ScrollAreaRootProps extends BoxProps, ElementProps<\"div\"> {\n  /**\n   * Defines scrollbars behavior, `hover` by default\n   * - `hover` – scrollbars are visible when mouse is over the scroll area\n   * - `scroll` – scrollbars are visible when the scroll area is scrolled\n   * - `always` – scrollbars are always visible\n   * - `never` – scrollbars are always hidden\n   * - `auto` – similar to `overflow: auto` – scrollbars are always visible when the content is overflowing\n   * */\n  type?: \"auto\" | \"always\" | \"scroll\" | \"hover\" | \"never\";\n\n  /** Scroll hide delay in ms, applicable only when type is set to `hover` or `scroll`, `1000` by default */\n  scrollHideDelay?: number;\n}\n\nexport type ScrollAreaRootFactory = Factory<{\n  props: ScrollAreaRootProps;\n  ref: HTMLDivElement;\n  stylesNames: ScrollAreaRootStylesNames;\n}>;\n\nconst defaultProps: Partial<ScrollAreaRootProps> = {\n  scrollHideDelay: 1000,\n  type: \"hover\",\n};\n\nexport const ScrollAreaRoot = forwardRef<HTMLDivElement, ScrollAreaRootProps>(\n  (_props, ref) => {\n    const props = useProps(\"ScrollAreaRoot\", defaultProps, _props);\n    const { type, scrollHideDelay, ...others } = props;\n\n    const [scrollArea, setScrollArea] = useState<HTMLDivElement | null>(null);\n    const [viewport, setViewport] = useState<HTMLDivElement | null>(null);\n    const [content, setContent] = useState<HTMLDivElement | null>(null);\n    const [scrollbarX, setScrollbarX] = useState<HTMLDivElement | null>(null);\n    const [scrollbarY, setScrollbarY] = useState<HTMLDivElement | null>(null);\n    const [cornerWidth, setCornerWidth] = useState(0);\n    const [cornerHeight, setCornerHeight] = useState(0);\n    const [scrollbarXEnabled, setScrollbarXEnabled] = useState(false);\n    const [scrollbarYEnabled, setScrollbarYEnabled] = useState(false);\n    const rootRef = useMergedRef(ref, (node) => setScrollArea(node));\n\n    return (\n      <ScrollAreaProvider\n        value={{\n          type: type!,\n          scrollHideDelay: scrollHideDelay!,\n          scrollArea,\n          viewport,\n          onViewportChange: setViewport,\n          content,\n          onContentChange: setContent,\n          scrollbarX,\n          onScrollbarXChange: setScrollbarX,\n          scrollbarXEnabled,\n          onScrollbarXEnabledChange: setScrollbarXEnabled,\n          scrollbarY,\n          onScrollbarYChange: setScrollbarY,\n          scrollbarYEnabled,\n          onScrollbarYEnabledChange: setScrollbarYEnabled,\n          onCornerWidthChange: setCornerWidth,\n          onCornerHeightChange: setCornerHeight,\n        }}\n      >\n        <Box\n          {...others}\n          ref={rootRef}\n          __vars={{\n            \"--sa-corner-width\": `${cornerWidth}px`,\n            \"--sa-corner-height\": `${cornerHeight}px`,\n          }}\n        />\n      </ScrollAreaProvider>\n    );\n  }\n);\n\nScrollAreaRoot.displayName = \"@raikou/core/ScrollAreaRoot\";\n","import React, { forwardRef } from \"react\";\nimport { useMergedRef } from \"@raikou/hooks\";\nimport { Box, BoxProps, ElementProps } from \"@raikou/core\";\nimport { useScrollAreaContext } from \"../ScrollArea.context\";\n\nexport interface ScrollAreaViewportProps\n  extends BoxProps,\n    ElementProps<\"div\"> {}\n\nexport const ScrollAreaViewport = forwardRef<\n  HTMLDivElement,\n  ScrollAreaViewportProps\n>(({ children, style, ...others }, ref) => {\n  const ctx = useScrollAreaContext();\n  const rootRef = useMergedRef(ref, ctx.onViewportChange);\n\n  return (\n    <Box\n      {...others}\n      ref={rootRef}\n      style={{\n        overflowX: ctx.scrollbarXEnabled ? \"scroll\" : \"hidden\",\n        overflowY: ctx.scrollbarYEnabled ? \"scroll\" : \"hidden\",\n        ...style,\n      }}\n    >\n      <div\n        style={{ minWidth: \"100%\", display: \"table\" }}\n        ref={ctx.onContentChange}\n      >\n        {children}\n      </div>\n    </Box>\n  );\n});\n\nScrollAreaViewport.displayName = \"@raikou/core/ScrollAreaViewport\";\n","import React, { forwardRef, useRef, useEffect } from \"react\";\nimport { useDebounceCallback, useMergedRef } from \"@raikou/hooks\";\nimport { useScrollbarContext } from \"../ScrollAreaScrollbar/Scrollbar.context\";\nimport { useScrollAreaContext } from \"../ScrollArea.context\";\nimport { addUnlinkedScrollListener, composeEventHandlers } from \"../utils\";\n\ninterface ThumbProps extends React.ComponentPropsWithoutRef<\"div\"> {}\n\nexport const Thumb = forwardRef<HTMLDivElement, ThumbProps>(\n  (props, forwardedRef) => {\n    const { style, ...others } = props;\n    const scrollAreaContext = useScrollAreaContext();\n    const scrollbarContext = useScrollbarContext();\n    const { onThumbPositionChange } = scrollbarContext;\n    const composedRef = useMergedRef(forwardedRef, (node) =>\n      scrollbarContext.onThumbChange(node)\n    );\n    const removeUnlinkedScrollListenerRef = useRef<() => void>();\n    const debounceScrollEnd = useDebounceCallback(() => {\n      if (removeUnlinkedScrollListenerRef.current) {\n        removeUnlinkedScrollListenerRef.current();\n        removeUnlinkedScrollListenerRef.current = undefined;\n      }\n    }, 100);\n\n    useEffect(() => {\n      const { viewport } = scrollAreaContext;\n      if (viewport) {\n        const handleScroll = () => {\n          debounceScrollEnd();\n          if (!removeUnlinkedScrollListenerRef.current) {\n            const listener = addUnlinkedScrollListener(\n              viewport,\n              onThumbPositionChange\n            );\n            removeUnlinkedScrollListenerRef.current = listener;\n            onThumbPositionChange();\n          }\n        };\n        onThumbPositionChange();\n        viewport.addEventListener(\"scroll\", handleScroll);\n        return () => viewport.removeEventListener(\"scroll\", handleScroll);\n      }\n\n      return undefined;\n    }, [scrollAreaContext.viewport, debounceScrollEnd, onThumbPositionChange]);\n\n    return (\n      <div\n        data-state={scrollbarContext.hasThumb ? \"visible\" : \"hidden\"}\n        {...others}\n        ref={composedRef}\n        style={{\n          width: \"var(--sa-thumb-width)\",\n          height: \"var(--sa-thumb-height)\",\n          ...style,\n        }}\n        onPointerDownCapture={composeEventHandlers(\n          props.onPointerDownCapture,\n          (event) => {\n            const thumb = event.target as HTMLElement;\n            const thumbRect = thumb.getBoundingClientRect();\n            const x = event.clientX - thumbRect.left;\n            const y = event.clientY - thumbRect.top;\n            scrollbarContext.onThumbPointerDown({ x, y });\n          }\n        )}\n        onPointerUp={composeEventHandlers(\n          props.onPointerUp,\n          scrollbarContext.onThumbPointerUp\n        )}\n      />\n    );\n  }\n);\n\ninterface ScrollAreaThumbProps extends ThumbProps {\n  forceMount?: true;\n}\n\nexport const ScrollAreaThumb = React.forwardRef<\n  HTMLDivElement,\n  ScrollAreaThumbProps\n>((props, forwardedRef) => {\n  const { forceMount, ...thumbProps } = props;\n  const scrollbarContext = useScrollbarContext();\n\n  if (forceMount || scrollbarContext.hasThumb) {\n    return <Thumb ref={forwardedRef} {...thumbProps} />;\n  }\n\n  return null;\n});\n","import \"/Users/paul/development/src/github/raikou/packages/raikou/components/ScrollArea/src/ScrollArea.module.css\"; export default {\"root\":\"m-d57069b5\",\"viewport\":\"m-c0783ff9\",\"viewportInner\":\"m-f8f631dd\",\"scrollbar\":\"m-c44ba933\",\"thumb\":\"m-d8b5e363\",\"corner\":\"m-21657268\"}","import \"/Users/paul/development/src/github/raikou/packages/raikou/datatable/src/DataTableScrollArea.module.css\"; export default {\"mantine-datatable-scroll-area\":\"m-d65f30e\",\"mantine-datatable-scroll-area-corner\":\"m-6e9cfdf4\",\"mantine-datatable-scroll-area-thumb\":\"m-6fd8b657\",\"mantine-datatable-scroll-area-scrollbar\":\"m-9723e227\",\"mantine-datatable-scroll-area-shadow\":\"m-898004bf\",\"mantine-datatable-scroll-area-top-shadow\":\"m-cd728cb7\",\"mantine-datatable-scroll-area-left-shadow\":\"m-4fd45d67\",\"mantine-datatable-scroll-area-right-shadow\":\"m-992de250\",\"mantine-datatable-scroll-area-shadow-behind\":\"m-c5a77208\",\"mantine-datatable-scroll-area-bottom-shadow\":\"m-84bd8683\",\"mantine-datatable-scroll-area-shadow-visible\":\"m-18b1a964\"}"],"mappings":"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","names":["import_react","import_core","import_react","import_core","die","error","args","e","errors","msg","apply","Error","length","map","s","join","isDraft","value","DRAFT_STATE","isDraftable","proto","Object","getPrototypeOf","prototype","Array","isArray","DRAFTABLE","constructor","isMap","isSet","each","obj","iter","enumerableOnly","getArchtype","Object","keys","ownKeys","forEach","key","entry","index","thing","state","DRAFT_STATE","type_","Array","isArray","isMap","isSet","has","prop","prototype","hasOwnProperty","call","get","set","propOrOldValue","value","t","delete","add","is","x","y","target","hasMap","Map","hasSet","Set","latest","copy_","base_","shallowCopy","base","slice","descriptors","getOwnPropertyDescriptors","i","length","desc","writable","configurable","enumerable","create","getPrototypeOf","freeze","deep","isFrozen","isDraft","isDraftable","clear","dontMutateFrozenCollections","die","getPlugin","pluginKey","plugin","plugins","getCurrentScope","process","currentScope","die","usePatchesInScope","scope","patchListener","getPlugin","patches_","inversePatches_","patchListener_","revokeScope","leaveScope","drafts_","forEach","revokeDraft","parent_","enterScope","immer","immer_","canAutoFreeze_","unfinalizedDrafts_","draft","state","DRAFT_STATE","type_","revoke_","revoked_","processResult","result","length","baseDraft","isReplaced","useProxies_","willFinalizeES5_","modified_","isDraftable","finalize","maybeFreeze","generateReplacementPatches_","NOTHING","undefined","rootScope","value","path","isFrozen","each","key","childValue","finalizeProperty","scope_","base_","finalized_","copy_","shallowCopy","draft_","Set","generatePatches_","parentState","targetObject","prop","rootPath","isDraft","res","has","assigned_","concat","set","autoFreeze_","deep","freeze","peek","latest","getDescriptorFromProto","source","proto","Object","getPrototypeOf","desc","getOwnPropertyDescriptor","markChanged","prepareCopy","createProxy","parent","isMap","proxyMap_","isSet","proxySet_","base","isArray","Array","isManual_","target","traps","objectTraps","arrayTraps","Proxy","revocable","revoke","proxy","createES5Proxy_","push","current","currentImpl","copy","archType","getArchtype","hasChanges_","copyHelper","get","Map","from","value","currentScope","hasSymbol","Symbol","hasMap","Map","hasSet","Set","hasProxies","Proxy","revocable","Reflect","NOTHING","for","DRAFTABLE","DRAFT_STATE","value","errors","data","path","op","plugin","thing","ownKeys","Reflect","Object","getOwnPropertySymbols","obj","getOwnPropertyNames","concat","getOwnPropertyDescriptors","target","res","forEach","key","getOwnPropertyDescriptor","plugins","objectTraps","get","state","prop","DRAFT_STATE","source","latest","has","desc","getDescriptorFromProto","_desc$get","call","draft_","undefined","finalized_","isDraftable","peek","base_","prepareCopy","copy_","createProxy","scope_","immer_","set","modified_","current","currentState","assigned_","is","markChanged","deleteProperty","owner","writable","configurable","type_","enumerable","defineProperty","die","getPrototypeOf","setPrototypeOf","arrayTraps","each","fn","arguments","apply","this","process","isNaN","parseInt","Immer","config","hasProxies","useProxies","setUseProxies","autoFreeze","setAutoFreeze","produce","bind","produceWithPatches","base","recipe","patchListener","defaultBase","self","args","draft","_this","result","scope","enterScope","proxy","hasError","revokeScope","leaveScope","Promise","then","usePatchesInScope","processResult","error","NOTHING","autoFreeze_","freeze","arg1","arg2","patches","inversePatches","_this2","p","ip","createDraft","isDraft","isManual_","finishDraft","useProxies_","applyPatches","i","length","patch","applyPatchesImpl","getPlugin","applyPatches_","slice","immer","PureStore","s","getter","s","React","import_react","React","index","React","import_hooks","import_clsx","import_react","React","import_react","import_react","import_core","defaultProps","inline","React","import_react","import_core","defaultProps","varsResolver","size","inline","React","import_react","React","React","import_react","import_core","import_clsx","import_react","import_react","import_react","import_core","import_react","import_core","import_hooks","import_react","c","x","i","y","r","index","import_hooks","import_react","hide","clsx","import_react","React","DataTableFooter","React","clsx","import_react","import_clsx","import_react","import_clsx","i","React","clsx","import_react","import_core","import_react","import_core","import_react","defaultProps","varsResolver","_","React","import_clsx","import_react","import_react","import_core","import_react","import_core","defaultProps","React","import_react","import_core","import_react","import_clsx","import_core","React","cx","import_react","import_clsx","import_core","React","cx","import_react","import_clsx","import_core","React","cx","import_react","import_clsx","import_core","React","cx","Loader_module_default","defaultProps","varsResolver","size","Loader_module_default","React","import_react","import_core","defaultProps","varsResolver","_","React","ActionIcon_module_default","defaultProps","varsResolver","size","ActionIcon_module_default","React","import_react","import_hooks","import_core","import_react","import_react","platform","x","y","i","fn","max","offset","platform","_a","side","d","a","b","placement","overflow","a","b","i","platform","x","y","getBoundingClientRect","top","bottom","left","right","width","height","_a","min","max","offset","min","max","v","x","y","window","computePosition","React","import_react","arrow","a","b","i","platform","computePosition","data","React","import_react","import_react_dom","index","React","l","getWindow","isElement","React","fn","useFloating","isElement","index","node","import_hooks","c","import_react","import_core","import_core","React","import_hooks","arrow","_a","_b","_c","useFloating","import_react","React","import_react","React","import_react","import_react","import_react","import_clsx","import_hooks","import_core","defaultProps","cx","import_react","import_hooks","import_core","import_react","import_react_dom","import_hooks","import_core","defaultProps","React","import_react","React","import_core","import_react","import_react","import_hooks","import_core","React","import_react","import_hooks","import_core","defaultProps","React","_a","_b","defaultProps","varsResolver","_","offset","closeOnEscape","React","import_hooks","import_react","React","import_react","React","React","import_react","React","import_react","React","React","clsx","import_react","import_react","import_hooks","import_core","import_react","import_core","import_react","import_core","import_react","import_core","defaultProps","varsResolver","_","size","React","import_react","import_core","defaultProps","varsResolver","_","size","React","import_react","import_core","defaultProps","varsResolver","_","size","React","import_react","import_core","defaultProps","React","import_react","import_hooks","import_core","defaultProps","varsResolver","_","size","React","Input_module_default","defaultProps","varsResolver","_","size","Input_module_default","React","size","React","import_react","import_react","import_hooks","import_core","import_react","React","defaultProps","size","React","import_react","import_core","size","React","defaultProps","varsResolver","size","React","import_clsx","React","clsx","DataTableHeader","React","clsx","import_react","import_clsx","size","React","clsx","import_react","import_core","import_react","import_core","import_react","import_hooks","import_core","defaultProps","varsResolver","size","React","import_react","import_core","defaultProps","React","import_react","import_core","import_react","React","defaultProps","React","import_react","import_core","defaultProps","React","import_react","index","React","defaultProps","React","import_clsx","import_react","import_react","import_core","import_react","import_core","import_react","import_core","defaultProps","varsResolver","_","React","defaultProps","varsResolver","size","React","import_react","import_hooks","import_core","import_react","import_core","defaultProps","React","import_react","import_core","defaultProps","_a","React","import_react","import_hooks","import_core","defaultProps","React","import_react","import_core","defaultProps","React","import_react","import_core","defaultProps","React","Menu_module_default","defaultProps","closeOnEscape","Menu_module_default","React","import_clsx","import_core","c","import_react","React","size","React","v","clsx","DataTablePagination","React","clsx","import_react","import_clsx","import_react","import_clsx","index","React","clsx","import_react","import_react","import_hooks","import_core","import_react","import_react_dom","import_hooks","getTransitionStyles","defaultProps","React","React","import_react","import_clsx","index","React","clsx","index","React","clsx","import_react","import_core","import_react","import_core","import_react","import_react","import_core","import_react","import_hooks","import_react","import_hooks","import_hooks","useResizeObserver","min","max","offset","React","x","y","useResizeObserver","React","import_react","import_hooks","React","React","offset","import_react","import_react","import_hooks","useResizeObserver","React","React","import_react","import_hooks","React","React","import_react","React","useResizeObserver","_a","h","w","import_react","import_hooks","import_core","defaultProps","React","import_react","import_hooks","import_core","React","import_react","import_hooks","React","x","y","defaultProps","varsResolver","_","React","import_clsx","React","clsx","_","index","totalRecords","c","_a","_b","page","React","clsx","r"]}